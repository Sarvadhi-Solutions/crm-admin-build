import{a as c,r as d,j as e,aq as h,b0 as b,ai as j,ar as y}from"./index-b09faefa.js";import{C as p}from"./Views-57e82c67.js";import{u as o,q as u,s as f,a as x,b as k,g as C,r as v}from"./index-cd4985d7.js";import{I as N}from"./index-c886a512.js";import{I as S}from"./Input-8c731b0c.js";import{S as w}from"./Select-71db8857.js";import{B as H}from"./Button-3bdf4581.js";import{t as T,N as B}from"./toast-2c9f9fcf.js";import{b as q,aC as A,ap as I}from"./index.esm-2c67faf2.js";import{C as g}from"./Card-33431fc8.js";import{D as R}from"./DoubleSidedImage-f064ab41.js";import{T as $}from"./Tag-0d544e3b.js";import{U as P}from"./UsersAvatarGroup-47fd9ba7.js";import"./KnowledgeBaseService-99b66490.js";import"./context-80e77f1b.js";import"./isNil-f81aee01.js";import"./get-263a9377.js";import"./toString-9cef9a7f.js";import"./_MapCache-a97510fd.js";import"./slicedToArray-00fbfd7c.js";import"./objectWithoutProperties-8e2777d0.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./extends-98964cd2.js";import"./toConsumableArray-f69b773e.js";import"./floating-ui.dom-bef9cea3.js";import"./useTimeout-68d097ea.js";import"./CloseButton-13cd4a8c.js";import"./StatusIcon-b02f9bab.js";import"./chainedFunction-070f832c.js";import"./Tooltip-5b8c5fcd.js";import"./usePopper-29fe3cd5.js";import"./index.esm-7a963ea9.js";import"./index-62df96f3.js";import"./index-2f1f758f.js";import"./useMergeRef-788c4cb0.js";import"./acronym-32cf8e6a.js";const m=[{label:"All",value:""},{label:"Survey",value:"survey"},{label:"Themes",value:"themes"},{label:"Security",value:"security"},{label:"Integration",value:"integration"},{label:"Media",value:"media"},{label:"Analytic",value:"analytic"},{label:"Chatbot",value:"chatbot"},{label:"Commission",value:"commission"}],D=()=>{const r=c(),a=o(n=>n.knowledgeBaseHelpCenter.data.searchCategory),s=d.useRef(null),i=()=>{if(s.current){const n=s.current.value;n?(r(u({queryText:n,category:a})),r(f(n)),r(x(!0))):T.push(e.jsx(B,{title:"Please key in any text to search",type:"danger"}),{placement:"top-center"})}},t=n=>{n&&r(k(n.value))};return e.jsx("section",{className:"flex flex-col justify-center h-[200px] bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:e.jsxs(p,{className:"flex flex-col items-center px-4",children:[e.jsx("h3",{className:"mb-6 text-center",children:"Get your question answered quickly here!"}),e.jsxs(N,{className:"mb-4 xl:min-w-[800px]",children:[e.jsx(S,{ref:s,placeholder:"Search..."}),e.jsx("div",{className:"min-w-[120px]",children:e.jsx(w,{isSearchable:!1,placeholder:"Category",options:m,value:m.filter(n=>n.value===a),onChange:t})}),e.jsx(H,{icon:e.jsx("span",{className:"mx-4",children:e.jsx(q,{})}),onClick:i})]})]})})},E=({type:r})=>{const a=d.useMemo(()=>({src:`/img/thumbs/help-center-category-${r}.png`,darkModeSrc:`/img/thumbs/help-center-category-${r}-dark.png`}),[r]);return e.jsx(R,{...a,alt:""})},F=r=>{const{data:a=[]}=r,s=c(),i=t=>{s(u({queryText:"",category:t.toLowerCase()})),s(x(!0))};return e.jsx("div",{className:"grid lg:grid-cols-2 2xl:grid-cols-4 gap-4",children:a.map(t=>e.jsxs(g,{clickable:!0,onClick:()=>i(t.name),children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx(E,{type:t.id})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"mb-1",children:t.name}),e.jsxs("strong",{children:[t.articleCounts," "]}),e.jsx("span",{children:"Articles"})]})]},t.id))})},G=r=>{switch(r){case"themes":return"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100";case"survey":return"bg-blue-100 text-blue-600 dark:bg-blue-500/20 dark:text-blue-100 dark:bg-blue-500/20 dark:text-blue-100";case"security":return"text-purple-500 bg-purple-100 dark:bg-purple-500/20 dark:text-purple-100";case"integration":return"text-pink-500 bg-pink-100 dark:bg-pink-500/20 dark:text-pink-100";case"media":return"text-cyan-500 bg-cyan-100 dark:bg-cyan-500/20 dark:text-cyan-100";case"analytic":return"text-orange-500 bg-orange-100 dark:bg-orange-500/20 dark:text-orange-100";case"chatbot":return"text-indigo-500 bg-indigo-100 dark:bg-indigo-500/20 dark:text-indigo-100";case"commission":return"text-teal-500 bg-teal-100 dark:bg-teal-500/20 dark:text-teal-100";default:return""}},L=r=>{const{data:a=[]}=r,s=h(),i=t=>{s(`/app/knowledge-base/article?${b({id:t})}`)};return e.jsx(e.Fragment,{children:a.map(t=>e.jsx("article",{children:e.jsx(g,{clickable:!0,className:"group mb-4",onClick:()=>i(t.id),children:e.jsxs("div",{className:"px-8 py-3 relative",children:[t.starred&&e.jsx("div",{className:"absolute ltr:left-0 rtl:right-0",children:e.jsx("div",{className:"text-amber-500 p-0.5 rounded-full border border-amber-500 mt-1",children:e.jsx(A,{})})}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"group-hover:underline",children:t.title}),e.jsx($,{className:`border-0 rounded capitalize ${G(t.category)}`,children:t.category})]}),e.jsx("p",{children:t.content.length>230?t.content.substring(0,229)+"...":t.content}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Written by:"}),e.jsx(P,{avatarProps:{size:25},users:t.authors||[]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"text-lg"}),e.jsxs("span",{children:["Updated ",t.updateTime]})]})})]})]})})},t.id))})},M=()=>{const r=c(),a=o(l=>l.knowledgeBaseHelpCenter.data.categories),s=o(l=>l.knowledgeBaseHelpCenter.data.articles),i=o(l=>l.knowledgeBaseHelpCenter.data.loading),t=o(l=>l.knowledgeBaseHelpCenter.data.queryText),n=o(l=>l.knowledgeBaseHelpCenter.data.isSearchResult);return d.useEffect(()=>{a.length===0&&r(C())},[r,a.length]),e.jsx(j,{loading:i,children:n?e.jsx("section",{className:"max-w-[1000px] mx-auto",children:s.length>0?e.jsxs(e.Fragment,{children:[t&&e.jsxs("h4",{className:"mb-6",children:[s.length," result found for ","'",t,"'"]}),e.jsx(L,{data:s})]}):e.jsxs("h4",{className:"text-center",children:["No result found for ","'",t,"'"]})}):e.jsx(F,{data:a})})};y("knowledgeBaseHelpCenter",v);const O=()=>e.jsxs(e.Fragment,{children:[e.jsx(D,{}),e.jsx(p,{children:e.jsx("div",{className:"mt-8 px-4",children:e.jsx(M,{})})})]}),Se=O;export{Se as default};
