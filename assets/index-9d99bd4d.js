import{w as N,r as a,u as P,J as z,j as o}from"./index-afeb99dd.js";import{A as V}from"./AdaptableCard-01cd8827.js";import{M as C}from"./index-cf176bc9.js";import{D as g}from"./Views-f7a9b898.js";import{C as v}from"./CustomFields-6a9da4df.js";import{I as E}from"./Inventory-199de40b.js";import{O as b}from"./Organization-c494e09e.js";import{S as A}from"./Source-6daec204.js";import{S as F}from"./StateCity-b8f5f4c6.js";import{T as M}from"./TagCategories-8dabf3ec.js";import R from"./UsersRoles-c8391b05.js";import{S as I}from"./Status-33e5cecf.js";import"./Card-a25bc86a.js";import"./index-8145753b.js";import"./index.esm-f4f10cf9.js";import"./useUniqueId-6aef0ec3.js";import"./toString-79dd21b9.js";import"./index-b8a0c8d7.js";import"./useControllableState-8021c4d2.js";import"./CrmService-80eafdff.js";import"./Button-5e9321cd.js";import"./Input-fe5fc582.js";import"./isNil-e2aeddd7.js";import"./get-a5b2ed65.js";import"./_MapCache-d7aaf9c0.js";import"./debounce-6c864594.js";import"./cloneDeep-f2528b95.js";import"./_getPrototype-c53836d9.js";import"./useGetModule-41dd94e6.js";import"./index-20eff79d.js";import"./DataTable-3d6ba875.js";import"./index-45766b4b.js";import"./index.esm-a56f1c0a.js";import"./Pagination-46eefec6.js";import"./Select-2984c046.js";import"./slicedToArray-fe25a6b5.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-b3b9a0e8.js";import"./floating-ui.dom-4bc0055b.js";import"./index-646ce73f.js";import"./_baseIsEqual-879f4f25.js";import"./Skeleton-1c4e4b72.js";import"./index-535d7f05.js";import"./checkEditUpdate-9f459668.js";import"./moment-fbc5633a.js";import"./useThemeClass-a6e6a15d.js";import"./TextTruncate-73a85fed.js";import"./Alert-abc01096.js";import"./useTimeout-682d9172.js";import"./CloseButton-217fbce9.js";import"./StatusIcon-47182631.js";import"./index-08720d19.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-46e989ae.js";import"./usePopper-996565a6.js";import"./index.esm-44e5e467.js";import"./index-07932842.js";import"./Badge-57260147.js";import"./RangeCalendar-c8e5e23d.js";import"./index-71f17666.js";import"./useRootClose-d6d9b544.js";import"./TimeInput-a38fa8f0.js";import"./useDidUpdate-f2162ffc.js";import"./Dialog-b0478122.js";import"./index-a4e43560.js";import"./Drawer-6021c63b.js";import"./index-29936284.js";import"./useUncertainRef-8a988cd5.js";import"./chainedFunction-070f832c.js";import"./FormItem-2a151033.js";import"./index-ed8cb66a.js";import"./toast-b57ee67d.js";import"./Progress-65192619.js";import"./index-fde04e31.js";import"./ScrollBar-93cfd3f9.js";import"./index-b82cade4.js";import"./index-a70c7a57.js";import"./mapCloneElement-4a1cd053.js";import"./Switcher-83e7e292.js";import"./Tag-f3e28a4c.js";import"./index-53e11fec.js";import"./index-16b82756.js";import"./Upload-1e962b58.js";import"./index.esm-e1783cee.js";import"./chart.constant-e1b2238d.js";import"./GrowShrinkTag-c4569aa9.js";import"./react-tooltip.min-7fdd29c0.js";import"./RichTextEditor-9ad39754.js";import"./SegmentItemOption-666cf094.js";import"./StickyFooter-f9488d76.js";import"./SvgIcon-aa33ab6d.js";import"./formik.esm-e70cf2ce.js";import"./index.esm-726f6b92.js";import"./index.esm-639db9d4.js";import"./helper-64c17a1c.js";import"./index.esm-ef32d13b.js";import"./ConfirmDialog-16c69999.js";import"./index.esm-013efa08.js";import"./index.esm-1b054edb.js";import"./FormDesription-e86e128e.js";import"./FormRow-a20540d9.js";import"./index.esm-54c73587.js";import"./index-a5cccc57.js";/* empty css              */import"./TagCategoryDetailsForm-f590f4cb.js";import"./colorPicker-cac7af9a.js";const O=()=>{var d;const l=N(),[m,w]=a.useState({}),[p,u]=a.useState(null),c=P(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=z.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(U=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||y(s,e)||h(s)||j(s)||S(s,e))),n={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};w(n)},[l.pathname,c]);const h=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="status"?!!e:!1},y=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,S=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(n=>n.master.moduleName.toLowerCase()==="users"&&n.canView===!0),i=t.find(n=>n.master.moduleName.toLowerCase()==="roles"&&n.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[p==null?void 0:p.key]);const f=()=>{switch(p==null?void 0:p.key){case"appsCrm.organization":return o.jsx(b,{});case"appsCrm.usersrole":return o.jsx(R,{});case"appsCrm.tagCategories":return o.jsx(M,{});case"appsCrm.inventory":return o.jsx(E,{});case"appsCrm.statecity":return o.jsx(F,{});case"appsCrm.customFields":return o.jsx(v,{});case"appsCrm.status":return o.jsx(I,{});case"appsCrm.sources":return o.jsx(A,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(V,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Tr=O;export{Tr as default};
