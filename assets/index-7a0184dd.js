import{w as N,r as a,u as P,J as z,j as o}from"./index-4675262e.js";import{A as V}from"./AdaptableCard-b129293a.js";import{M as C}from"./index-567c5b37.js";import{D as g}from"./Views-96bf4241.js";import{C as v}from"./CustomFields-a0d87877.js";import{I as E}from"./Inventory-c10ae790.js";import{O as b}from"./Organization-17376ac4.js";import{S as A}from"./Source-acb6a0c5.js";import{S as F}from"./StateCity-ccee5e57.js";import{T as M}from"./TagCategories-112b48c2.js";import R from"./UsersRoles-cc989ac8.js";import{S as I}from"./Status-4c3248f6.js";import"./Card-1a4ea392.js";import"./index-29fb88aa.js";import"./index.esm-ff144046.js";import"./useUniqueId-f4a3bad2.js";import"./toString-5a26993f.js";import"./index-aa614f08.js";import"./useControllableState-048d3f43.js";import"./CrmService-ac08cdaf.js";import"./Button-0b68e0a2.js";import"./Input-b6f85393.js";import"./isNil-7c9d5aca.js";import"./get-59654049.js";import"./_MapCache-594565d2.js";import"./debounce-7228e5e1.js";import"./cloneDeep-477b9741.js";import"./_getPrototype-5d191e98.js";import"./DataTable-1574da48.js";import"./index-dc5daab9.js";import"./index.esm-c132f852.js";import"./Pagination-2e203a3f.js";import"./Select-ecee390b.js";import"./slicedToArray-24f82e16.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-92a33187.js";import"./floating-ui.dom-4bc0055b.js";import"./index-b0ec1b4c.js";import"./_baseIsEqual-b207db6b.js";import"./Skeleton-5516a2a7.js";import"./index-6e5c150b.js";import"./checkEditUpdate-13f2672a.js";import"./moment-fbc5633a.js";import"./useThemeClass-d82dec7a.js";import"./TextTruncate-a3cc99e4.js";import"./Alert-e71f6da7.js";import"./useTimeout-d031dca4.js";import"./CloseButton-f37e3705.js";import"./StatusIcon-69b21449.js";import"./index-32f51c8f.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-2d93a4c5.js";import"./usePopper-e9b5a625.js";import"./index.esm-2d8103e0.js";import"./index-99abface.js";import"./Badge-8de88fc8.js";import"./RangeCalendar-7055646c.js";import"./index-40ee1fcd.js";import"./useRootClose-bb6a1813.js";import"./TimeInput-e183a601.js";import"./useDidUpdate-3fa7b336.js";import"./Dialog-2674822d.js";import"./index-cd7de78e.js";import"./Drawer-4463e2fa.js";import"./index-395f0e43.js";import"./useUncertainRef-9680db51.js";import"./chainedFunction-070f832c.js";import"./FormItem-f0a568d5.js";import"./index-799960ed.js";import"./toast-3dd25308.js";import"./Progress-163e7627.js";import"./index-ac935edf.js";import"./ScrollBar-c918a49a.js";import"./index-befed326.js";import"./index-819658e8.js";import"./mapCloneElement-20d9df92.js";import"./Switcher-abd8f95e.js";import"./Tag-613d51b1.js";import"./index-bcfe7745.js";import"./index-9a848025.js";import"./Upload-e8a604f5.js";import"./index.esm-3440a998.js";import"./chart.constant-bd4cec43.js";import"./GrowShrinkTag-0b10ae79.js";import"./react-tooltip.min-a9dd25b4.js";import"./RichTextEditor-d7434d18.js";import"./SegmentItemOption-3a25415c.js";import"./StickyFooter-e5fda218.js";import"./SvgIcon-5be08616.js";import"./formik.esm-be6a51d3.js";import"./index.esm-02460da0.js";import"./index.esm-b46f51f2.js";import"./helper-64c17a1c.js";import"./index.esm-2e779e48.js";import"./ConfirmDialog-4eaa7b26.js";import"./useGetModule-516b94ce.js";import"./index-caa801dd.js";import"./index.esm-bc9375b3.js";import"./index.esm-b875940d.js";import"./FormDesription-241baa60.js";import"./FormRow-56b564b0.js";import"./index.esm-2c9dfa8d.js";import"./index-a751a5cf.js";/* empty css              */import"./TagCategoryDetailsForm-a84fc33c.js";import"./colorPicker-0cb8c8f6.js";const O=()=>{var d;const l=N(),[m,w]=a.useState({}),[p,u]=a.useState(null),c=P(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=z.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(U=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||y(s,e)||h(s)||j(s)||S(s,e))),n={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};w(n)},[l.pathname,c]);const h=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="status"?!!e:!1},y=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,S=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(n=>n.master.moduleName.toLowerCase()==="users"&&n.canView===!0),i=t.find(n=>n.master.moduleName.toLowerCase()==="roles"&&n.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[p==null?void 0:p.key]);const f=()=>{switch(p==null?void 0:p.key){case"appsCrm.organization":return o.jsx(b,{});case"appsCrm.usersrole":return o.jsx(R,{});case"appsCrm.tagCategories":return o.jsx(M,{});case"appsCrm.inventory":return o.jsx(E,{});case"appsCrm.statecity":return o.jsx(F,{});case"appsCrm.customFields":return o.jsx(v,{});case"appsCrm.status":return o.jsx(I,{});case"appsCrm.sources":return o.jsx(A,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(V,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Tr=O;export{Tr as default};
