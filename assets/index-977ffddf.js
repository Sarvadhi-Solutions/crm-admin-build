import{am as n,an as p,ao as C,ap as y}from"./index-c3e9fa7c.js";import{u as m,f as g,v as u,w,x as f,y as D,j as h,k as i,l as L}from"./CrmService-65bc7d18.js";const S="crmContact",r=n("crmContact/data/getContactStatistic",async()=>(await m()).data),c=n("crmContact/data/getContact",async()=>(await g()).data),d=n("crmCompany/data/getCompany",async()=>(await u()).data),k=n("crmContact/data/editContact",async({contactId:t,updatedData:a})=>{var e,s;try{return(await w(t,a)).data}catch(o){throw new Error((s=(e=o==null?void 0:o.response)==null?void 0:e.data)==null?void 0:s.message)}}),I=n("crmContact/data/deleteContact",async t=>{var a,e;try{return await f(t)}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}}),z=n("crmContact/data/createContact",async t=>{var a,e;try{return(await D(t)).data}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}}),A=n("crmContact/data/module",async()=>{var t,a;try{return(await h()).data}catch(e){throw new Error((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)}}),F=n("tag-category",async({id:t})=>{var a,e;try{return(await i(t)).data}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}});n("crmContact/data/fetchTag",async({id:t})=>{var a,e;try{return(await i(t)).data}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}});n("crmContact/data/createTag",async({masterId:t,colorName:a,tagName:e,tagCategoryId:s})=>(await L({colorName:a,tagName:e,masterId:t,tagCategoryId:s})).data);const b={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},E={status:""},T={loading:!1,statisticLoading:!1,contactList:[],displayedContactList:[],companyList:[],statisticData:{},tableData:b,filterData:E,drawerOpen:!1,selectedContact:{},deleteConfirmation:!1},l=p({name:`${S}/state`,initialState:T,reducers:{setTableData:(t,a)=>{t.tableData=a.payload,t.displayedContactList=t.contactList.slice(a.payload.pageSize*(a.payload.pageIndex-1),a.payload.pageSize*a.payload.pageIndex)},setContactList:(t,a)=>{t.contactList=a.payload},setFilterData:(t,a)=>{t.filterData=a.payload},setSelectedContact:(t,a)=>{t.selectedContact=a.payload},setDrawerOpen:t=>{t.drawerOpen=!0},setDrawerClose:t=>{t.drawerOpen=!1},toggleDeleteConfirmation:(t,a)=>{t.deleteConfirmation=a.payload}},extraReducers:t=>{t.addCase(c.fulfilled,(a,e)=>{a.contactList=e.payload.data,a.tableData.total=e.payload.data.length,a.displayedContactList=e.payload.data.slice(0,10),a.loading=!1}).addCase(c.pending,a=>{a.loading=!0}).addCase(r.fulfilled,(a,e)=>{a.statisticData=e.payload,a.statisticLoading=!1}).addCase(r.pending,a=>{a.statisticLoading=!0}).addCase(d.fulfilled,(a,e)=>{a.companyList=e.payload.data,a.loading=!1}).addCase(d.pending,a=>{a.loading=!0})}}),{setTableData:M,setContactList:j,setFilterData:R,setSelectedContact:q,setDrawerOpen:v,setDrawerClose:N,toggleDeleteConfirmation:P}=l.actions,x=l.reducer,_=C({data:x}),$=y;export{d as a,F as b,r as c,z as d,k as e,A as f,c as g,q as h,I as i,M as j,v as k,R as l,_ as r,N as s,P as t,$ as u};
