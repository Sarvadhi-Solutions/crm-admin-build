import{aa as N,r as a,u as S,I as P,j as o}from"./index-c77e9099.js";import{A as z}from"./AdaptableCard-9ae82623.js";import{M as g}from"./index-e5464857.js";import{D as C}from"./Views-be916da3.js";import{O as V}from"./Organization-44fe414c.js";import{T as v}from"./TagCategories-2947e799.js";import E from"./UsersRoles-a1e88af4.js";import{I as b}from"./Inventory-9371c57f.js";import{S as A}from"./StateCity-481491ef.js";import{C as F}from"./CustomFields-c5795e36.js";import"./Card-048c656a.js";import"./index-862fd306.js";import"./index.esm-4b0bd194.js";import"./useUniqueId-3d091906.js";import"./toString-6e4e2442.js";import"./StickyFooter-a86fd9b9.js";import"./Alert-e397d8b3.js";import"./useTimeout-21f2437b.js";import"./CloseButton-f50ce578.js";import"./StatusIcon-5c4e4482.js";import"./index-334a58a8.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-83166a48.js";import"./usePopper-69d78754.js";import"./index.esm-79eb7ede.js";import"./index-6651b5a0.js";import"./Badge-fee63923.js";import"./Button-8951ba48.js";import"./RangeCalendar-0c8f3671.js";import"./useControllableState-4f25de13.js";import"./index-ea2be383.js";import"./cloneDeep-8de2d19d.js";import"./_MapCache-91949216.js";import"./_getPrototype-d7da50fb.js";import"./_baseIsEqual-1a132d1c.js";import"./get-633bd519.js";import"./index-37c5d495.js";import"./Input-2209e389.js";import"./isNil-04bb82de.js";import"./useRootClose-7bb7783f.js";import"./TimeInput-131b62a7.js";import"./useDidUpdate-c9bc0d61.js";import"./Dialog-07ba3ada.js";import"./index-b2cb0b76.js";import"./Drawer-a5c13906.js";import"./index-d00b8073.js";import"./useUncertainRef-dd8a1351.js";import"./chainedFunction-070f832c.js";import"./FormItem-3a9f2b17.js";import"./index-a0745529.js";import"./toast-66b29920.js";import"./Pagination-14db8ede.js";import"./Progress-983d1438.js";import"./index-6c291714.js";import"./ScrollBar-d87413db.js";import"./index-60a5479c.js";import"./Select-f0211447.js";import"./slicedToArray-93b9542e.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-fcd8b891.js";import"./floating-ui.dom-bef9cea3.js";import"./Skeleton-5d24ad52.js";import"./index-6bbb7044.js";import"./mapCloneElement-2cf2ce9f.js";import"./Switcher-ef699af1.js";import"./index-e2fb49a8.js";import"./index.esm-d2b2c6c5.js";import"./index-babb7f60.js";import"./Tag-dd468785.js";import"./index-3979da2b.js";import"./index-b1d83239.js";import"./Upload-8d89e881.js";import"./index.esm-d9f76a4b.js";import"./isLastChild-83eb4c23.js";import"./FormDesription-db4e08bf.js";import"./FormRow-42c1eef7.js";import"./formik.esm-60fd1e57.js";import"./index.esm-0f2b90bd.js";import"./index.esm-6798e693.js";import"./index.esm-831dcb16.js";import"./CrmService-1a0eaaaa.js";/* empty css              */import"./chart.constant-312f313d.js";import"./chart.config-f668461c.js";import"./DataTable-02d0d405.js";import"./index-3f68e229.js";import"./GrowShrinkTag-e621e1e9.js";import"./react-tooltip.min-65526d18.js";import"./RichTextEditor-4a284a0a.js";import"./SegmentItemOption-f9b7a45e.js";import"./useThemeClass-3d925ead.js";import"./SvgIcon-4b780ed4.js";import"./index.esm-0cc42d71.js";import"./index.esm-8e27a6c6.js";import"./index.esm-8297029f.js";import"./ConfirmDialog-b8c316ed.js";import"./checkEditUpdate-d1e8875a.js";import"./debounce-597d60f6.js";import"./index.esm-ac969723.js";import"./TextTruncate-56f9a926.js";import"./helper-64c17a1c.js";import"./index.esm-37555db6.js";const I=()=>{var d;const c=N(),[m,h]=a.useState({}),[p,u]=a.useState(null),l=S(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=c.pathname.trim().split("/").pop(),t=P.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=l.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(M=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state city"||k(s,e)||j(s,e)||w(s)||y(s,e))),n={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};h(n)},[c.pathname,l]);const w=(r,t)=>{const e=l.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,y=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,k=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(n=>n.master.moduleName.toLowerCase()==="users"&&n.canView===!0),i=t.find(n=>n.master.moduleName.toLowerCase()==="roles"&&n.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(C.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const L=async(r,t)=>{const e=C.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[p==null?void 0:p.key]);const f=()=>{switch(p==null?void 0:p.key){case"appsCrm.organization":return o.jsx(V,{});case"appsCrm.usersrole":return o.jsx(E,{});case"appsCrm.tagCategories":return o.jsx(v,{});case"appsCrm.inventory":return o.jsx(b,{});case"appsCrm.statecity":return o.jsx(A,{});case"appsCrm.customFields":return o.jsx(F,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(z,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(g,{onSelect:L,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(g.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},br=I;export{br as default};
