import{r as T,j as e,a as C,p as je,ai as ye,ar as be}from"./index-7c10d2a3.js";import{A as ke}from"./AdaptableCard-d528512e.js";import{u as h,a as ie,b as _,g as z,c as ne,s as le,f as we,d as Se,e as Ce,h as G,i as J,p as ce,j as Ne,k as te,t as U,l as ve,r as Me}from"./index-5301944a.js";import{B as Q}from"./Button-208b5861.js";import{c as H}from"./cloneDeep-b9fa1e05.js";import{I as V}from"./Input-81114df0.js";import{b as Ae,d as Fe,a6 as $e,a5 as ae,m as Ie,a9 as qe,A as Oe}from"./index.esm-d9298b40.js";import{d as Ee}from"./debounce-1dc8077b.js";import{S as Le,c as Re,a as W}from"./Select-013d671c.js";import{B as de}from"./Badge-96f53043.js";import{u as ee}from"./checkEditUpdate-58567b5b.js";import{D as He}from"./DataTable-9505e436.js";import{u as me}from"./useThemeClass-44058c3e.js";import{D as ze}from"./Drawer-f62ae817.js";import{i as Pe}from"./Views-5cb69e9a.js";import{a as $,F as Be}from"./FormItem-dcfd8ab9.js";import{t as L,N as R}from"./toast-1b1e93c9.js";import{T as pe}from"./index-5aafa10e.js";import{u as Ke,b as Y,F as Ye,a as Ve}from"./formik.esm-9efe14ff.js";import{c as ue,a as v,b as ge}from"./index.esm-a61d5a6d.js";import{A as We}from"./index.esm-900894b4.js";import{T as _e}from"./index.esm-f80d5ef4.js";import{D as Ge,A as Je,t as Qe,c as Xe}from"./AdditionalTag-1da179a1.js";/* empty css              */import{g as Ze}from"./index-6e0ac35e.js";import{g as Ue}from"./index-16d344fa.js";import{C as et}from"./ConfirmDialog-cb7325f0.js";import{a as se,T as tt}from"./TextTruncate-11b5f642.js";import{S as oe}from"./StatusCapsule-e20b5bc6.js";import{M as at}from"./MediaSkeleton-0e958ed4.js";import{A as st}from"./index-e31e1427.js";import{C as ot}from"./Card-4ce3f213.js";import{N as rt}from"./react-number-format.es-ddce5a63.js";import"./CrmService-d5e8e120.js";import"./context-0e2e9d1c.js";import"./_Uint8Array-be229bd0.js";import"./_MapCache-e75dc2ce.js";import"./_getPrototype-2f204ca7.js";import"./isNil-d3ca72b8.js";import"./get-5a481960.js";import"./toString-18e1007d.js";import"./slicedToArray-afe06b21.js";import"./objectWithoutProperties-8e2777d0.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./extends-98964cd2.js";import"./toConsumableArray-2133173c.js";import"./floating-ui.dom-bef9cea3.js";import"./index-db1f8ae2.js";import"./index.esm-8bc236a5.js";import"./Pagination-16369f4c.js";import"./index-7ee2fb06.js";import"./_baseIsEqual-47871e7b.js";import"./TableRowSkeleton-9a6a577f.js";import"./Skeleton-f2ce5fc2.js";import"./index-92fee75d.js";import"./index-72e63a8f.js";import"./CloseButton-7345a4c9.js";import"./index-be56d80d.js";import"./useTimeout-6476564d.js";import"./StatusIcon-8f517345.js";import"./chainedFunction-070f832c.js";import"./useControllableState-8172e3e5.js";import"./Alert-81c5f29e.js";import"./Calendar-0d3223b7.js";import"./index-dbc56270.js";import"./useMergeRef-788c4cb0.js";import"./useRootClose-06442b2e.js";import"./usePopper-80f33697.js";import"./RangeCalendar-e91d83a1.js";import"./TimeInput-2304b736.js";import"./useUniqueId-ade48d2a.js";import"./useDidUpdate-048f50b6.js";import"./Dialog-ab50fc44.js";import"./index-ddb7b536.js";import"./useUncertainRef-4da6c90d.js";import"./index-8f8a0e52.js";import"./index-c64ed13c.js";import"./index-e1f31fe1.js";import"./Progress-f85f5579.js";import"./index-2a6b01a7.js";import"./ScrollBar-ab3bf32a.js";import"./index-33ad8488.js";import"./index-0e69abbd.js";import"./mapCloneElement-4b3cb8e0.js";import"./Switcher-08c2e9d8.js";import"./Tag-b24b6dab.js";import"./index-36a050cd.js";import"./index-a034b741.js";import"./Tooltip-6aa5489c.js";import"./index.esm-db0614cf.js";import"./Upload-bfebe208.js";import"./index.esm-3bb8beeb.js";const fe=T.forwardRef((o,s)=>{const{onInputChange:t}=o,r=Ee(l,500);function l(g){t==null||t(g)}const n=g=>{r(g.target.value)};return e.jsx(V,{ref:s,className:"max-w-md md:w-52 mb-4",size:"sm",placeholder:"Search",prefix:e.jsx(Ae,{className:"text-lg"}),onChange:n})});fe.displayName="TasksTableSearch";const{Control:it}=Re,re=[{value:"",label:"All",color:"bg-gray-500"},{value:"active",label:"Active",color:"bg-emerald-500"},{value:"blocked",label:"Blocked",color:"bg-red-500"}],nt=({innerProps:o,label:s,data:t,isSelected:r})=>e.jsxs("div",{className:`flex items-center justify-between p-2 cursor-pointer ${r?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"}`,...o,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{innerClass:t.color}),e.jsx("span",{children:s})]}),r&&e.jsx(Fe,{className:"text-emerald-500 text-xl"})]}),lt=({children:o,...s})=>{const t=s.getValue()[0];return e.jsxs(it,{...s,children:[t&&e.jsx(de,{className:"ltr:ml-4 rtl:mr-4",innerClass:t.color}),o]})},ct=()=>{const o=C(),{status:s}=h(r=>r.crmTasks.data.filterData),t=r=>{o(ie({status:r==null?void 0:r.value}))};return e.jsx(Le,{options:re,size:"sm",className:"mb-4 min-w-[130px]",components:{Option:nt,Control:lt},value:re.filter(r=>r.value===s),onChange:t})},dt=()=>{const o=C(),s=T.useRef(null),t=h(m=>m.crmTasks.data.tableData),r=ee("tasks","canCreate"),l=m=>{const D=H(t);D.query=m,D.pageIndex=1,typeof m=="string"&&m.length>1&&n(D),typeof m=="string"&&m.length===0&&n(D)},n=m=>{o(_(m)),o(z())},g=()=>{const m=H(t);m.query="",s.current&&(s.current.value=""),o(ie({status:""})),n(m)},u=()=>{o(ne()),o(le("Add"))};return e.jsxs("div",{className:"md:flex items-center justify-between",children:[e.jsxs("div",{className:"md:flex items-center gap-4",children:[e.jsx(fe,{ref:s,onInputChange:l}),e.jsx(ct,{})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(Q,{size:"sm",className:"me-2",onClick:g,children:"Clear All"}),r&&e.jsx(Q,{size:"sm",onClick:u,children:"Add New"})]})]})},mt=o=>{const{touched:s,errors:t,setFieldValue:r,values:l}=o,n=C(),[g,u]=T.useState(!1);T.useState("#808080");const[m,D]=T.useState(!1),[M,A]=T.useState([]),[p,f]=T.useState([]),w=()=>{u(!g),D(!1)},[S,F]=T.useState("");T.useEffect(()=>{const a=async()=>{var P,B;try{const{payload:y}=await n(we()),K=(P=y==null?void 0:y.data)==null?void 0:P.find(E=>(E==null?void 0:E.moduleName)==="tasks");if(F(K.id),K){const{payload:E}=await n(Se({id:(B=K==null?void 0:K.id)==null?void 0:B.toString()})),Te=Qe(E.data),De=Xe(E.data);f(De),A(Te)}}catch(y){console.error("Error fetching module data:",y)}};n(Ze()),n(Ue()),a()},[n]);const N=h(a=>a.crmTasks.data.selectedTask),d=h(a=>a.crmTasks.data.drawerMode),[i,c]=T.useState(N?N.tags||[]:[]),x=Ke(),k=a=>{c(a);const P=[a.value];x.setFieldValue("tagId",P)},j=[{label:"None",value:"none"},{label:"Low",value:"low"},{label:"Medium",value:"medium"},{label:"High",value:"high"}],I=[{label:"Pending",value:"pending"},{label:"Completed",value:"completed"},{label:"Rejected",value:"rejected"}],q=h(a=>a.crmTasks.data.usersList),O=q==null?void 0:q.map(a=>({label:`${a==null?void 0:a.firstName} ${a==null?void 0:a.lastName}`,value:a.id}));console.log(O);const b=h(a=>a.crmTasks.data.contactsList),X=b==null?void 0:b.map(a=>({label:`${a==null?void 0:a.firstName} ${a==null?void 0:a.lastName}`,value:a.id}));return e.jsxs(e.Fragment,{children:[e.jsx($,{label:"Task Name",invalid:t.tasksName&&s.tasksName,errorMessage:t.tasksName,children:e.jsx(Y,{type:"text",autoComplete:"off",name:"tasksName",placeholder:"Task Name",component:V,prefix:e.jsx($e,{className:"text-xl"})})}),e.jsx($,{label:"Due Date",invalid:t.dueDate&&s.dueDate,errorMessage:t.dueDate,children:e.jsx(Y,{isDisabled:d==="Edit",type:"datetime-local",autoComplete:"off",name:"dueDate",component:V,prefix:e.jsx(ae,{className:"text-xl"})})}),e.jsx($,{label:"Close Date",invalid:t.closeTime&&s.closeTime,errorMessage:t.closeTime,children:e.jsx(Y,{type:"datetime-local",autoComplete:"off",name:"closeTime",component:V,prefix:e.jsx(ae,{className:"text-xl"})})}),e.jsx($,{label:"Priority",invalid:t.priority&&s.priority,errorMessage:t.priority,children:e.jsx(W,{name:"priority",id:"priority",value:j.find(a=>(a==null?void 0:a.value)===(l==null?void 0:l.priority)),options:j,onChange:a=>{r("priority",a.value||"")}})}),e.jsx($,{label:"Completation Status",invalid:t.completionStatus&&s.completionStatus,errorMessage:t.completionStatus,children:e.jsx(W,{name:"completionStatus",id:"completionStatus",value:I.find(a=>(a==null?void 0:a.value)===(l==null?void 0:l.completionStatus)),options:I,isDisabled:d==="Add",onChange:a=>{r("completionStatus",a.value||"")}})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx($,{label:"Tags",children:e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Y,{name:"tagId",component:Ge,options:M,placeholder:"Select a Tag",value:x.initialValues.tagName,onChange:k}),e.jsx(_e,{style:{position:"absolute",right:"10px",top:"10px",border:"none",background:"#FFF"},className:"text-xl",onClick:()=>{w(),D(!0)}})]})}),e.jsx(Je,{moduleName:S,isOpen:g,categoryList:p,onOpenChange:a=>u(a)})]}),e.jsx($,{label:"Assigned To",invalid:t.assignedTo&&s.assignedTo,errorMessage:t.assignedTo,children:e.jsx(W,{name:"assignedTo",id:"assignedTo",value:O.find(a=>(a==null?void 0:a.value)===(l==null?void 0:l.assignedTo)),options:O,onChange:a=>{r("assignedTo",a.value||"")}})}),e.jsx($,{label:"Related To",invalid:t.relatedTo&&s.relatedTo,errorMessage:t.relatedTo,children:e.jsx(W,{name:"relatedTo",id:"relatedTo",value:X.find(a=>(a==null?void 0:a.value)===(l==null?void 0:l.relatedTo)),options:X,onChange:a=>{r("relatedTo",a.value||"")}})}),e.jsx($,{label:"Description",invalid:t.descriptions&&s.descriptions,errorMessage:t.descriptions,children:e.jsx(Y,{type:"text",autoComplete:"off",name:"descriptions",placeholder:"Description",component:V,prefix:e.jsx(We,{className:"text-xl"})})})]})},pt=ue().shape({tasksName:v().required("Task Name is required"),closeTime:v().required("Closing Date and Time is required").test("futureDate","Closing Date and Time must be in the future",function(o){return new Date(o)>=new Date}).test("greaterThanDueDate","Closing Date must be greater than Due Date",function(o){const s=this.parent.dueDate;return new Date(o)>new Date(s)}),tagId:ge(),descriptions:v().required("Description is requied"),priority:v().oneOf(["none","low","medium","high"]).required("Priority is required"),completionStatus:v().oneOf(["rejected","pending","completed"]).required("status is required")}),ut=ue().shape({tasksName:v().required("Task Name is required"),dueDate:v().required("Due Date is required"),tagId:ge(),descriptions:v().required("Description is requied"),priority:v().oneOf(["none","low","medium","high"]).required("Priority is required"),completionStatus:v().oneOf(["rejected","pending","completed"]).required("status is required")}),{TabNav:gt,TabList:ft,TabContent:ht}=pe,he=T.forwardRef((o,s)=>{var u,m,D,M,A;const t=h(p=>p.crmTasks.data.selectedTask),r=h(p=>p.crmTasks.data.drawerMode),l=C();function n(p){if(!p)return"";const f=p.split("T");if(f.length!==2)return"";const w=f[0],S=f[1].slice(0,5);return`${w}T${S}`}const g=p=>{const f=new Date(p);if(isNaN(f.getTime()))return"";const w=f.getFullYear(),S=(f.getMonth()+1).toString().padStart(2,"0"),F=f.getDate().toString().padStart(2,"0"),N=f.getHours().toString().padStart(2,"0"),d=f.getMinutes().toString().padStart(2,"0");return`${w}-${S}-${F} ${N}:${d}`};return e.jsx(Ye,{innerRef:s,initialValues:{tasksName:(t==null?void 0:t.tasksName)||"",closeTime:n(t==null?void 0:t.closeTime)||"",dueDate:n(t==null?void 0:t.dueDate)||"",descriptions:(t==null?void 0:t.descriptions)||"",tagId:((u=t==null?void 0:t.tags)==null?void 0:u.map(p=>p.id))||[],tagName:((D=(m=t==null?void 0:t.tags)==null?void 0:m[0])==null?void 0:D.tagName)||"",priority:(t==null?void 0:t.priority)||"",completionStatus:(t==null?void 0:t.completionStatus)||"pending",assignedTo:((M=t==null?void 0:t.assignedToData)==null?void 0:M.id)||"",relatedTo:((A=t==null?void 0:t.relatedToData)==null?void 0:A.id)||"",colorName:t!=null&&t.tags&&(t==null?void 0:t.tags.length)>0?t==null?void 0:t.tags[0].colorName:""},validationSchema:r==="Edit"?pt:ut,onSubmit:async(p,{setSubmitting:f})=>{var x,k,j,I,q,O;const{colorName:w,tagName:S,closeTime:F,dueDate:N,...d}=p,i=g(N),c=g(F);if(r==="Add"){const b=await l(Ce({closeTime:c,dueDate:i,...d}));(x=b==null?void 0:b.payload)!=null&&x.success?L.push(e.jsx(R,{title:"Successfully Added",type:"success",duration:2500,children:(k=b==null?void 0:b.payload)==null?void 0:k.message}),{placement:"top-center"}):L.push(e.jsx(R,{title:"Something went wrong !!!",type:"danger",duration:2500,children:(j=b==null?void 0:b.payload)==null?void 0:j.message}),{placement:"top-center"}),await l(G()),await l(z()),await l(J())}else{const{colorName:b,closeTime:X,dueDate:a,tagName:P,...B}=p,y=await l(ce({taskId:t==null?void 0:t.id,data:{...B,closeTime:c}}));console.log({...B,closeTime:c}),(I=y==null?void 0:y.payload)!=null&&I.success?L.push(e.jsx(R,{title:"Successfully Update",type:"success",duration:2500,children:(q=y==null?void 0:y.payload)==null?void 0:q.message}),{placement:"top-center"}):L.push(e.jsx(R,{title:"Something went wrong !!!",type:"danger",duration:2500,children:(O=y==null?void 0:y.payload)==null?void 0:O.message}),{placement:"top-center"}),await l(G()),await l(z()),await l(J())}f(!1)},children:({touched:p,errors:f,setFieldValue:w,values:S})=>e.jsx(Ve,{children:e.jsx(Be,{children:e.jsxs(pe,{defaultValue:"taskDetails",children:[e.jsx(ft,{children:e.jsx(gt,{value:"taskDetails",children:"Tasks details"})}),e.jsx("div",{className:"p-6",children:e.jsx(ht,{value:"taskDetails",children:e.jsx(mt,{touched:p,errors:f,values:S,setFieldValue:w})})})]})})})})});he.displayName="TasksForm";const xe=T.forwardRef((o,s)=>{const t=C(),r=h(u=>u.crmTasks.data.selectedTask),l=h(u=>u.crmTasks.data.tasksList),{id:n}=r,g=u=>{const{name:m,birthday:D,email:M,img:A,location:p,title:f,phoneNumber:w,facebook:S,twitter:F,pinterest:N,linkedIn:d}=u,i={name:m,email:M,img:A},c={location:p,title:f,birthday:je(D).format("DD/MM/YYYY"),phoneNumber:w,facebook:S,twitter:F,pinterest:N,linkedIn:d};let x=H(l),k={};x=x.map(j=>(j.id===n&&(j={...j,...i},j.personalInfo={...j.personalInfo,...c},k=j),j)),Pe(k)||t(ce(k)),t(G()),t(Ne(x))};return e.jsx(he,{ref:s,tasks:r,onFormSubmit:g})});xe.displayName="TasksEditContent";const xt=({onSaveClick:o,onCancel:s})=>e.jsxs("div",{className:"text-right w-full",children:[e.jsx(Q,{size:"sm",className:"mr-2",onClick:s,children:"Cancel"}),e.jsx(Q,{size:"sm",variant:"solid",onClick:o,children:"Save"})]}),Tt=()=>{const o=C(),s=h(n=>n.crmTasks.data.drawerOpen);h(n=>n.crmTasks.data.drawerMode),h(n=>n.crmTasks.data.selectedTask);const t=()=>{o(G()),o(te({}))},r=T.useRef(null),l=async()=>{var n;(n=r.current)==null||n.submitForm()};return e.jsx(ze,{isOpen:s,closable:!1,bodyClass:"p-0",footer:e.jsx(xt,{onCancel:t,onSaveClick:l}),onClose:t,onRequestClose:t,children:e.jsx(xe,{ref:r})})},Dt=()=>{const o=C(),s=h(n=>n.crmTasks.data.deleteConfirmation),t=h(n=>n.crmTasks.data.selectedTask),r=()=>{o(U(!1))},l=async()=>{var g,u,m;o(U(!1));const n=await o(ve(t.id));await o(z()),(g=n==null?void 0:n.payload)!=null&&g.success?L.push(e.jsx(R,{title:"Successfuly Deleted",type:"success",duration:2500,children:(u=n==null?void 0:n.payload)==null?void 0:u.message}),{placement:"top-center"}):L.push(e.jsx(R,{title:"Something Went Wrong !!!",type:"danger",duration:2500,children:(m=n==null?void 0:n.payload)==null?void 0:m.message}),{placement:"top-center"}),await o(z()),await o(J())};return e.jsx(et,{isOpen:s,type:"danger",title:"Delete Task",confirmButtonColor:"red-600",onClose:r,onRequestClose:r,onCancel:r,onConfirm:l,children:e.jsx("p",{children:"Are you sure you want to delete this task? All record related to this task will be deleted as well. This action cannot be undone."})})},jt=({row:o})=>{const{textTheme:s}=me(),t=C(),r=()=>{t(ne()),t(te(o)),t(le("Edit"))};return e.jsx("div",{className:`${s} cursor-pointer select-none font-semibold`,onClick:r,children:"Edit"})},yt=({row:o})=>{const{textTheme:s}=me(),t=C(),r=async()=>{await t(te(o)),t(U(!0))};return e.jsx("div",{className:`${s} cursor-pointer select-none font-semibold text-red-500`,onClick:r,children:"Delete"})},bt=()=>{const o=C(),s=h(d=>d.crmTasks.data.tasksList),t=h(d=>d.crmTasks.data.loading),r=h(d=>d.crmTasks.data.filterData),l=ee("tasks","canDelete"),n=ee("tasks","canModify"),{pageIndex:g,pageSize:u,sort:m,query:D,total:M}=h(d=>d.crmTasks.data.tableData),A=T.useCallback(()=>{o(z())},[g,u,m,D,r,o]);T.useEffect(()=>{A()},[A,g,u,m,r]);const p=T.useMemo(()=>({pageIndex:g,pageSize:u,sort:m,query:D,total:M}),[g,u,m,D,M]),f=d=>{if(d){const i=new Date(d),c=String(i.getDate()).padStart(2,"0"),x=String(i.getMonth()+1).padStart(2,"0"),k=i.getFullYear(),j=String(i.getHours()).padStart(2,"0"),I=String(i.getMinutes()).padStart(2,"0");return`${c}/${x}/${k} ${j}:${I}`}else return"-"},w=T.useMemo(()=>{const d=[{header:"Tasks Name",accessorKey:"tasksName",cell:i=>{const c=i.row.original.tasksName;return e.jsx(se,{text:c,maxLength:20})}},{header:"Due Date",accessorKey:"dueDate",cell:i=>{var c;return f((c=i.row.original)==null?void 0:c.dueDate)}},{header:"Closing Date",accessorKey:"closeTime",cell:i=>{var c;return f((c=i.row.original)==null?void 0:c.closeTime)}},{header:"assignedTo",accessorKey:"assignedTo",cell:i=>{const{firstName:c,lastName:x}=i.row.original.assignedToData||{};return c&&x?`${c} ${x}`:"-"}},{header:"assignedBy",accessorKey:"assignedBy",cell:i=>{const{firstName:c,lastName:x}=i.row.original.assignedByData||{};return c&&x?`${c} ${x}`:"-"}},{header:"relatedTo",accessorKey:"relatedTo",cell:i=>{const{name:c,firstName:x,lastName:k}=i.row.original.relatedToData||{};return c||(x&&k?`${x} ${k}`:"-")}},{header:"Tag Name",accessorKey:"tagName",cell:i=>{const c=i.row.original.tags||[];return c.length===0?"-":e.jsx(tt,{tags:c})}},{header:"priority",accessorKey:"priority",cell:i=>{const c=i.row.original.priority;return e.jsx(oe,{status:c})}},{header:"completionStatus",accessorKey:"completionStatus",cell:i=>{const c=i.row.original.completionStatus;return e.jsx(oe,{status:c})}},{header:"descriptions",accessorKey:"descriptions",cell:i=>{const c=i.row.original.descriptions;return e.jsx(se,{text:c,maxLength:20})}}];return l&&d.unshift({header:"Delete",id:"action",cell:i=>e.jsx(yt,{row:i.row.original})}),n&&d.unshift({header:"Edit",id:"action",cell:i=>e.jsx(jt,{row:i.row.original})}),d},[n,l]),S=d=>{const i=H(p);i.pageIndex=d,o(_(i))},F=d=>{const i=H(p);i.pageSize=Number(d),i.pageIndex=1,o(_(i))},N=d=>{const i=H(p);i.sort=d,o(_(i))};return e.jsxs("div",{children:[e.jsx(He,{columns:w,data:s,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},loading:t,pagingData:{total:p.total,pageIndex:p.pageIndex,pageSize:p.pageSize},onPaginationChange:S,onSelectChange:F,onSort:N}),e.jsx(Tt,{}),e.jsx(Dt,{})]})},Z=o=>{const{icon:s,avatarClass:t,label:r,value:l,growthRate:n,loading:g}=o,u=55;return e.jsx(ot,{bordered:!0,children:e.jsx(ye,{loading:g,customLoader:e.jsx(at,{avatarProps:{className:"rounded",width:u,height:u}}),children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(st,{className:t,size:u,icon:s}),e.jsxs("div",{children:[e.jsx("span",{children:r}),e.jsx("h3",{children:e.jsx(rt,{thousandSeparator:!0,displayType:"text",value:l})})]})]})})})})},kt=()=>{const o=C(),s=h(r=>r.crmTasks.data.statisticData),t=h(r=>r.crmTasks.data.statisticLoading);return T.useEffect(()=>{o(J())},[]),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 mb-6",children:[e.jsx(Z,{icon:e.jsx(Ie,{}),avatarClass:"!bg-indigo-600",label:"Total Tasks",value:s==null?void 0:s.totalTasks,loading:t}),e.jsx(Z,{icon:e.jsx(qe,{}),avatarClass:"!bg-blue-500",label:"Completed Tasks",value:s==null?void 0:s.completedTasks,loading:t}),e.jsx(Z,{icon:e.jsx(Oe,{}),avatarClass:"!bg-emerald-500",label:"This Week's New Tasks",value:s==null?void 0:s.newTasks,loading:t})]})};be("crmTasks",Me);const wt=()=>e.jsxs(e.Fragment,{children:[e.jsx(kt,{}),e.jsxs(ke,{bodyClass:"h-full",children:[e.jsx(dt,{}),e.jsx(bt,{})]})]}),cs=wt;export{cs as default};
