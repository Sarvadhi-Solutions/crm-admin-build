import{w as S,r as a,u as N,J as P,j as o}from"./index-0ab2c514.js";import{A as z}from"./AdaptableCard-afe020d2.js";import{M as C}from"./index-ddf729b1.js";import{D as g}from"./Views-ba63249c.js";import{C as V}from"./CustomFields-b2ca6d41.js";import{I as v}from"./Inventory-f40280ec.js";import{O as E}from"./Organization-b3798b3e.js";import{S as b}from"./Source-72f60cc2.js";import{S as A}from"./StateCity-1a10778b.js";import{T as F}from"./TagCategories-b00e9977.js";import R from"./UsersRoles-e0275849.js";import"./Card-36fb08c8.js";import"./index-da413dc5.js";import"./index.esm-42b7b20a.js";import"./useUniqueId-c68f5c73.js";import"./toString-8ab117f8.js";import"./index-1e57f70f.js";import"./useControllableState-e8851140.js";import"./CrmService-d077c852.js";import"./Button-968324b3.js";import"./Input-da780288.js";import"./isNil-bf67e220.js";import"./get-e3d59f81.js";import"./_MapCache-438327fc.js";import"./debounce-f860d9e8.js";import"./cloneDeep-1f1702a9.js";import"./_getPrototype-6bd7c339.js";import"./DataTable-a66c505f.js";import"./index-a4f8223f.js";import"./index.esm-785e2bc5.js";import"./Pagination-f681e8ee.js";import"./Select-022e394f.js";import"./slicedToArray-0f5c9dec.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-003b7048.js";import"./floating-ui.dom-4bc0055b.js";import"./index-8466c23b.js";import"./_baseIsEqual-a16dae54.js";import"./Skeleton-139abafa.js";import"./index-a0ae6717.js";import"./checkEditUpdate-672745ae.js";import"./moment-fbc5633a.js";import"./useThemeClass-1f876eb2.js";import"./TextTruncate-2e17b1a5.js";import"./Alert-fd1c6434.js";import"./useTimeout-c2c175af.js";import"./CloseButton-84582cc2.js";import"./StatusIcon-83ac331c.js";import"./index-713c1ac9.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-f95f0645.js";import"./usePopper-0441deed.js";import"./index.esm-d6cc7dce.js";import"./index-1a5cdab8.js";import"./Badge-edf0b9d8.js";import"./RangeCalendar-23cf777a.js";import"./index-665fd580.js";import"./useRootClose-f3a243e8.js";import"./TimeInput-c04de9a3.js";import"./useDidUpdate-f978eb31.js";import"./Dialog-6e6660ce.js";import"./index-2544a6e9.js";import"./Drawer-0d99631e.js";import"./index-bb763aff.js";import"./useUncertainRef-5b5ab7e8.js";import"./chainedFunction-070f832c.js";import"./FormItem-e6ee784c.js";import"./index-8e362e39.js";import"./toast-f47eb111.js";import"./Progress-8fed0827.js";import"./index-392b4f57.js";import"./ScrollBar-99e33cfa.js";import"./index-6d1daefb.js";import"./index-e1984e61.js";import"./mapCloneElement-9cb2dda4.js";import"./Switcher-278dbd82.js";import"./Tag-66d1e717.js";import"./index-ace76341.js";import"./index-d29598bc.js";import"./Upload-5e95a87c.js";import"./index.esm-e1d89ef7.js";import"./chart.constant-7e7be1ae.js";import"./GrowShrinkTag-480cf741.js";import"./react-tooltip.min-d3f02ea8.js";import"./RichTextEditor-4196a1be.js";import"./SegmentItemOption-9e30f3b9.js";import"./StickyFooter-6e278db9.js";import"./SvgIcon-67cf6073.js";import"./formik.esm-8fede37e.js";import"./index.esm-564ddf7f.js";import"./index.esm-40264850.js";import"./helper-64c17a1c.js";import"./index.esm-b92caec7.js";import"./ConfirmDialog-7f417840.js";import"./index.esm-1599001b.js";import"./index.esm-919eecd5.js";import"./isLastChild-83eb4c23.js";import"./FormDesription-d546bd81.js";import"./FormRow-92b2c50e.js";import"./index.esm-cfb79504.js";/* empty css              */import"./index.esm-93b84a0d.js";import"./index.esm-f4cde7f1.js";import"./TagCategoryDetailsForm-b5fb02dd.js";const I=()=>{var d;const l=S(),[m,h]=a.useState({}),[n,u]=a.useState(null),c=N(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=P.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(O=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||j(s,e)||w(s)||y(s,e))),p={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};h(p)},[l.pathname,c]);const w=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,y=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(p=>p.master.moduleName.toLowerCase()==="users"&&p.canView===!0),i=t.find(p=>p.master.moduleName.toLowerCase()==="roles"&&p.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[n==null?void 0:n.key]);const f=()=>{switch(n==null?void 0:n.key){case"appsCrm.organization":return o.jsx(E,{});case"appsCrm.usersrole":return o.jsx(R,{});case"appsCrm.tagCategories":return o.jsx(F,{});case"appsCrm.inventory":return o.jsx(v,{});case"appsCrm.statecity":return o.jsx(A,{});case"appsCrm.customFields":return o.jsx(V,{});case"appsCrm.sources":return o.jsx(b,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(z,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Rr=I;export{Rr as default};
