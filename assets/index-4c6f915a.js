import{am as t,an as l,ao as n,ap as c}from"./index-4bd6b7b3.js";import{M as p,N as u,I as g,O as f,P as U}from"./CrmService-6ced694a.js";const m="crmUsers",r=t("crmUsers/data/getUsersStatistic",async()=>(await p()).data),o=t("crmUsers/data/getUsers",async()=>(await u()).data),i=t("crmRoles/data/getRoles",async()=>(await g()).data),b=t("crmUser/data/putUser",async({id:a,data:e})=>(await f(a,e)).data),R=t("crmUser/data/deleteUser",async a=>(await U(a)).data),D={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},y={status:""},C={loading:!1,statisticLoading:!1,usersList:[],statisticData:{},tableData:D,filterData:y,drawerOpen:!1,selectedUser:{},rolesList:[],drawerMode:"Add",deleteConfirmation:!1},d=l({name:`${m}/state`,initialState:C,reducers:{setTableData:(a,e)=>{a.tableData=e.payload},setUsersList:(a,e)=>{a.usersList=e.payload},setFilterData:(a,e)=>{a.filterData=e.payload},setSelectedUser:(a,e)=>{a.selectedUser=e.payload},setDrawerOpen:a=>{a.drawerOpen=!0},setRolesList:(a,e)=>{a.rolesList=e.payload},setDrawerClose:a=>{a.drawerOpen=!1},setDrawerMode:(a,e)=>{a.drawerMode=e.payload},toggleDeleteConfirmation:(a,e)=>{a.deleteConfirmation=e.payload}},extraReducers:a=>{a.addCase(o.fulfilled,(e,s)=>{e.usersList=s.payload.data,e.tableData.total=s.payload.total,e.loading=!1}).addCase(i.fulfilled,(e,s)=>{e.rolesList=s.payload.data,e.loading=!1}).addCase(o.pending,e=>{e.loading=!0}).addCase(i.pending,e=>{e.loading=!0}).addCase(r.fulfilled,(e,s)=>{e.statisticData=s.payload,e.statisticLoading=!1}).addCase(r.pending,e=>{e.statisticLoading=!0})}}),{setTableData:M,setUsersList:O,setFilterData:A,setSelectedUser:T,setDrawerOpen:x,setDrawerClose:F,toggleDeleteConfirmation:G,setDrawerMode:I,setRolesList:h}=d.actions,w=d.reducer,k=n({data:w}),E=c;export{r as a,M as b,F as c,O as d,T as e,R as f,o as g,i as h,x as i,I as j,b as p,k as r,A as s,G as t,E as u};
