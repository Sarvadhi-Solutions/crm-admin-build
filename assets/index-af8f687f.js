import{aa as S,r as a,u as N,I as P,j as o}from"./index-ba91c0fd.js";import{A as z}from"./AdaptableCard-3bfc48fe.js";import{M as C}from"./index-0bf35a02.js";import{D as g}from"./Views-e9280400.js";import{C as V}from"./CustomFields-f93094dc.js";import{I as v}from"./Inventory-24ed26b9.js";import{O as E}from"./Organization-98c190cc.js";import{S as b}from"./Source-f06785cf.js";import{S as A}from"./StateCity-934e1fa3.js";import{T as F}from"./TagCategories-077cbd7b.js";import I from"./UsersRoles-70db1d73.js";import"./Card-b0a5a7d6.js";import"./index-ccd97808.js";import"./index.esm-55e99400.js";import"./useUniqueId-018c2565.js";import"./toString-727d28b4.js";import"./index-af9b375a.js";import"./useControllableState-f5082273.js";import"./CrmService-46d16590.js";import"./Button-4d442f63.js";import"./Input-529114bc.js";import"./isNil-5f65db87.js";import"./get-86e63167.js";import"./_MapCache-52b86039.js";import"./debounce-97eb29be.js";import"./cloneDeep-641ee2c7.js";import"./_getPrototype-17f2df3f.js";import"./DataTable-e5657712.js";import"./index-fe0659a6.js";import"./index.esm-1fe268c9.js";import"./Pagination-f4c26df7.js";import"./Select-73b9b11b.js";import"./slicedToArray-558a0a0c.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-5585411f.js";import"./floating-ui.dom-bef9cea3.js";import"./index-170572b2.js";import"./_baseIsEqual-ea007e01.js";import"./Skeleton-83cb992f.js";import"./index-31253325.js";import"./checkEditUpdate-c80a1265.js";import"./useThemeClass-06f59d25.js";import"./TextTruncate-c2f805d1.js";import"./Alert-5d4fd2a9.js";import"./useTimeout-80ea9231.js";import"./CloseButton-7e3ca34d.js";import"./StatusIcon-721e0795.js";import"./index-e15db965.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-d4e69970.js";import"./usePopper-549b69fd.js";import"./index.esm-5fbbd29b.js";import"./index-8ea85167.js";import"./Badge-ff5c7dc3.js";import"./RangeCalendar-d6aa435b.js";import"./index-68178362.js";import"./useRootClose-8f322f83.js";import"./TimeInput-6aa1e7b6.js";import"./useDidUpdate-855f950c.js";import"./Dialog-c161d2fe.js";import"./index-9a9b01aa.js";import"./Drawer-f1cc950e.js";import"./index-b648c4d1.js";import"./useUncertainRef-41d92c6b.js";import"./chainedFunction-070f832c.js";import"./FormItem-01999f29.js";import"./index-1c2b060b.js";import"./toast-b9105828.js";import"./Progress-ab444eaf.js";import"./index-75ffb2be.js";import"./ScrollBar-1f3fb77b.js";import"./index-d176cad0.js";import"./index-2c4fd68d.js";import"./mapCloneElement-db46c91a.js";import"./Switcher-49168a68.js";import"./Tag-b9db9ffe.js";import"./index-60bed537.js";import"./index-a469d783.js";import"./Upload-bbbb3749.js";import"./index.esm-e7d17c5f.js";import"./chart.constant-9aef5f29.js";import"./GrowShrinkTag-ff05a215.js";import"./react-tooltip.min-f0729f09.js";import"./RichTextEditor-49d25ea9.js";import"./SegmentItemOption-d89e5f60.js";import"./StickyFooter-676aaab1.js";import"./SvgIcon-c2eb96e6.js";import"./formik.esm-e5286689.js";import"./index.esm-7ccba11f.js";import"./index.esm-34e21a5e.js";import"./helper-64c17a1c.js";import"./index.esm-c6afaa9b.js";import"./ConfirmDialog-22f316d7.js";import"./index.esm-d714fba5.js";import"./index.esm-713a6ce3.js";import"./isLastChild-83eb4c23.js";import"./FormDesription-4fcee828.js";import"./FormRow-4c3991af.js";import"./index.esm-e039ce4b.js";/* empty css              */import"./index.esm-c1444252.js";import"./index.esm-14a8055b.js";const R=()=>{var d;const l=S(),[m,h]=a.useState({}),[p,u]=a.useState(null),c=N(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=P.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(O=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||j(s,e)||w(s)||y(s,e))),n={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};h(n)},[l.pathname,c]);const w=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,y=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(n=>n.master.moduleName.toLowerCase()==="users"&&n.canView===!0),i=t.find(n=>n.master.moduleName.toLowerCase()==="roles"&&n.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[p==null?void 0:p.key]);const f=()=>{switch(p==null?void 0:p.key){case"appsCrm.organization":return o.jsx(E,{});case"appsCrm.usersrole":return o.jsx(I,{});case"appsCrm.tagCategories":return o.jsx(F,{});case"appsCrm.inventory":return o.jsx(v,{});case"appsCrm.statecity":return o.jsx(A,{});case"appsCrm.customFields":return o.jsx(V,{});case"appsCrm.sources":return o.jsx(b,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(z,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Ar=R;export{Ar as default};
