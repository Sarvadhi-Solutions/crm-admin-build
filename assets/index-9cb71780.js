import{am as S,an as de,ao as pe,ap as ue,a as w,r as p,j as e,ai as xe,ar as ye}from"./index-2a02f09f.js";import{A as Ce}from"./AdaptableCard-260ffff4.js";import{D as he}from"./DataTable-76c04f2c.js";import{y as ge,u as fe,z as je,A as be,B as we,k as Ne,l as Y,m as ve}from"./CrmService-dd365f26.js";import{u as Z}from"./useThemeClass-d3572517.js";import{B as H}from"./Button-3d6c325f.js";import{D as De}from"./Drawer-aa907a2f.js";import{T as ee}from"./index-bb34e564.js";import{a as u,F as Se}from"./FormItem-c05bb264.js";import{u as Te,b as x,F as ke,a as Le}from"./formik.esm-dba0dfcc.js";import{c as Oe,a as N,b as Fe}from"./index.esm-d97e517c.js";import{I as y}from"./Input-4032ba6b.js";import{A as te}from"./index-5ca6dc5a.js";import{U as Ie}from"./Upload-21ca1a8f.js";import{I as Ae,a6 as Re,a7 as qe,a8 as J,z as Me,B as Pe,d as Ee,a9 as ze,r as Ue}from"./index.esm-c61f0406.js";import{A as Be}from"./index.esm-1c4998f8.js";import{T as Ke,a as He,b as B}from"./index.esm-9f9c71ef.js";import{D as $e,A as Ve,t as Ge,c as We}from"./AdditionalTag-4259bcb6.js";/* empty css              */import{B as _e,a as Je,b as Qe,c as Xe}from"./index.esm-c0bac851.js";import{t as I,N as A}from"./toast-66eca971.js";import{c as z}from"./cloneDeep-f2fd7982.js";import{T as Ye}from"./TagsList-da492de3.js";import{u as V}from"./checkEditUpdate-064a00c7.js";import{C as Ze}from"./ConfirmDialog-5e3e2ca4.js";import{T as D}from"./TextTruncate-a26d8bdc.js";import{d as et}from"./debounce-58c5e337.js";import{S as tt,c as at}from"./Select-e6a28a89.js";import{B as ae}from"./Badge-ed31d9ee.js";import{C as ot}from"./Card-de52f0bd.js";import{M as st}from"./MediaSkeleton-930d3682.js";import{N as rt}from"./react-number-format.es-b6150c61.js";import"./index-ff9062dc.js";import"./index.esm-4f607dea.js";import"./Pagination-45470020.js";import"./index-33716023.js";import"./_Uint8Array-49dd6612.js";import"./_MapCache-dabc1c97.js";import"./Views-597fd265.js";import"./_baseIsEqual-d37b49c3.js";import"./get-c92f924e.js";import"./toString-8660963f.js";import"./TableRowSkeleton-f01debf2.js";import"./Skeleton-a1c6070d.js";import"./index-be1c4c56.js";import"./context-ccc0a902.js";import"./index-02c6e7a7.js";import"./CloseButton-1ba6d0ce.js";import"./useControllableState-1afbd3cb.js";import"./index-30fffd86.js";import"./isNil-68e69365.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-7716d794.js";import"./usePopper-1bbb94fb.js";import"./index.esm-62b86c40.js";import"./Alert-72ccf787.js";import"./useTimeout-90c2003f.js";import"./StatusIcon-19ebbef4.js";import"./Calendar-10f7bbb4.js";import"./index-cd684465.js";import"./useRootClose-245ef2ef.js";import"./RangeCalendar-f83aa7d5.js";import"./TimeInput-5e6b4bd8.js";import"./useUniqueId-5771e452.js";import"./useDidUpdate-63a48c56.js";import"./Dialog-fa942d86.js";import"./index-7d1fc360.js";import"./useUncertainRef-cde3ec19.js";import"./chainedFunction-070f832c.js";import"./index-39ff14cb.js";import"./index-09081188.js";import"./index-7060438e.js";import"./Progress-225a8f75.js";import"./index-9590e8bb.js";import"./ScrollBar-5f7786c3.js";import"./index-9436b2c1.js";import"./index-94a50ac5.js";import"./mapCloneElement-80af996d.js";import"./Switcher-b6d1bfff.js";import"./Tag-592deaaf.js";import"./index-292be09a.js";import"./index-da0bddc3.js";import"./_getPrototype-63f10215.js";import"./toConsumableArray-648e2274.js";import"./objectWithoutPropertiesLoose-df62547b.js";import"./floating-ui.dom-bef9cea3.js";const nt="crmCompany",G=S("crmCompany/data/getCompanyStatistic",async()=>(await ge()).data),b=S("crmCustomers/data/getCustomers",async()=>(await fe()).data),it=S("crmCompany/data/editCompany",async({companyId:o,updatedData:a})=>(await je(o,a)).data),lt=S("crmCompany/data/deleteCompany",async o=>await be(o)),ct=S("crmCompany/data/createCompany",async o=>(console.log(o,"++++"),(await we(o)).data)),mt=S("crmCompany/data/module",async()=>{const o=await Ne();return console.log(o.data,"response"),o.data}),dt=S("tag-category",async({id:o})=>{const a=await Y(o);return console.log(a.data,"Getting Data"),a.data});S("crmCompany/data/fetchTag",async({id:o})=>(await Y(o)).data);S("crmCompany/data/createTag",async({masterId:o,colorName:a,tagName:t,tagCategoryId:s})=>(await ve({colorName:a,tagName:t,masterId:o,tagCategoryId:s})).data);const pt={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},ut={status:""},xt={loading:!1,statisticLoading:!1,companyList:[],statisticData:{},tableData:pt,filterData:ut,drawerOpen:!1,selectedCompany:{},deleteConfirmation:!1},oe=de({name:`${nt}/state`,initialState:xt,reducers:{setTableData:(o,a)=>{o.tableData=a.payload},setCompanyList:(o,a)=>{o.companyList=a.payload},setFilterData:(o,a)=>{o.filterData=a.payload},setSelectedCompany:(o,a)=>{o.selectedCompany=a.payload},setDrawerOpen:o=>{o.drawerOpen=!0},setDrawerClose:o=>{o.drawerOpen=!1},toggleDeleteConfirmation:(o,a)=>{o.deleteConfirmation=a.payload}},extraReducers:o=>{o.addCase(b.fulfilled,(a,t)=>{a.companyList=t.payload.data,a.loading=!1}).addCase(b.pending,a=>{a.loading=!0}).addCase(G.fulfilled,(a,t)=>{a.statisticData=t.payload,a.statisticLoading=!1}).addCase(G.pending,a=>{a.statisticLoading=!0})}}),{setTableData:K,setCompanyList:xo,setFilterData:se,setSelectedCompany:_,setDrawerOpen:re,setDrawerClose:E,toggleDeleteConfirmation:W}=oe.actions,yt=oe.reducer,Ct=pe({data:yt}),C=ue,ht=o=>{const{touched:a,errors:t}=o,s=w(),[l,i]=p.useState(!1),[m,h]=p.useState(!1),[c,g]=p.useState([]),[R,q]=p.useState([]),j=()=>{i(!l),h(!1)},[L,O]=p.useState("");p.useEffect(()=>{(async()=>{var k,U;try{const{payload:v}=await s(mt()),P=(k=v==null?void 0:v.data)==null?void 0:k.find(F=>(F==null?void 0:F.moduleName)==="company");if(O(P.id),P){const{payload:F}=await s(dt({id:(U=P==null?void 0:P.id)==null?void 0:U.toString()})),ce=Ge(F.data),me=We(F.data);q(me),g(ce)}}catch(v){console.error("Error fetching module data:",v)}})()},[s]);const T=C(f=>f.crmCompany.data.selectedCompany),[M,d]=p.useState(T?T.tags||[]:[]),r=Te(),n=f=>{d(f);const k=[f.value];r.setFieldValue("tagId",k)};return e.jsxs(e.Fragment,{children:[e.jsx(u,{invalid:t.upload&&a.upload,errorMessage:t.upload,children:e.jsx(x,{name:"img",children:({field:f,form:k})=>{const U=f.value?{src:f.value}:{};return e.jsx("div",{className:"flex justify-center",children:e.jsx(Ie,{className:"cursor-pointer",showList:!1,uploadLimit:1,onChange:v=>k.setFieldValue(f.name,URL.createObjectURL(v[0])),onFileRemove:v=>k.setFieldValue(f.name,URL.createObjectURL(v[0])),children:e.jsx(te,{className:"border-2 border-white dark:border-gray-800 shadow-lg",size:100,shape:"circle",icon:e.jsx(Ae,{}),...U})})})}})}),e.jsx(u,{label:"Company Name",invalid:t.companyName&&a.companyName,errorMessage:t.companyName,children:e.jsx(x,{type:"text",autoComplete:"off",name:"companyName",placeholder:"Company Name",component:y,prefix:e.jsx(Re,{className:"text-xl"})})}),e.jsx(u,{label:"Contact Number",invalid:t.phone&&a.phone,errorMessage:t.phone,children:e.jsx(x,{type:"text",autoComplete:"off",name:"phone",placeholder:"phone",component:y,prefix:e.jsx(qe,{className:"text-xl"})})}),e.jsx(u,{label:"Website",invalid:t.website&&a.website,errorMessage:t.website,children:e.jsx(x,{type:"text",autoComplete:"off",name:"website",placeholder:"Website",component:y,prefix:e.jsx(J,{className:"text-xl"})})}),e.jsx(u,{label:"Company Owner",invalid:t.companyOwner&&a.companyOwner,errorMessage:t.companyOwner,children:e.jsx(x,{type:"text",autoComplete:"off",name:"companyOwner",placeholder:"Company Owner",component:y,prefix:e.jsx(J,{className:"text-xl"})})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(u,{label:"Tag",children:e.jsxs("div",{style:{position:"relative"},children:[e.jsx(x,{name:"Tag",component:$e,options:c,placeholder:"Select a Tag",value:r.initialValues.tagName,onChange:n}),e.jsx(Ke,{style:{position:"absolute",right:"10px",top:"10px",border:"none",background:"#FFF"},className:"text-xl",onClick:()=>{j(),h(!0)}})]})}),e.jsx(Ve,{isOpen:l,categoryList:R,moduleName:L,onOpenChange:f=>i(f)})]}),e.jsx(u,{label:"Description",invalid:t.description&&a.description,errorMessage:t.description,children:e.jsx(x,{type:"text",autoComplete:"off",name:"description",placeholder:"Description",component:y,prefix:e.jsx(He,{className:"text-xl"})})}),e.jsx(u,{label:"street",invalid:t.street&&a.street,errorMessage:t.street,children:e.jsx(x,{type:"text",autoComplete:"off",name:"street",placeholder:"Street",component:y,prefix:e.jsx(Be,{className:"text-xl"})})}),e.jsx(u,{label:"City",invalid:t.city&&a.city,errorMessage:t.city,children:e.jsx(x,{type:"text",autoComplete:"off",name:"city",placeholder:"City",component:y,prefix:e.jsx(B,{className:"text-xl"})})}),e.jsx(u,{label:"State",invalid:t.state&&a.state,errorMessage:t.state,children:e.jsx(x,{type:"text",autoComplete:"off",name:"state",placeholder:"State",component:y,prefix:e.jsx(B,{className:"text-xl"})})}),e.jsx(u,{label:"Country",invalid:t.country&&a.country,errorMessage:t.country,children:e.jsx(x,{type:"text",autoComplete:"off",name:"country",placeholder:"Country",component:y,prefix:e.jsx(B,{className:"text-xl"})})}),e.jsx(u,{label:"Pin Code",invalid:t.pinCode&&a.pinCode,errorMessage:t.pinCode,children:e.jsx(x,{type:"text",autoComplete:"off",name:"pinCode",placeholder:"Pin Code",component:y,prefix:e.jsx(B,{className:"text-xl"})})})]})},gt=o=>{const{touched:a,errors:t}=o;return e.jsxs(e.Fragment,{children:[e.jsx(u,{label:"Facebook link",invalid:t.facebook&&a.facebook,errorMessage:t.facebook,children:e.jsx(x,{type:"text",autoComplete:"off",name:"facebook",placeholder:"URL",component:y,prefix:e.jsx(_e,{className:"text-xl text-[#1773ea]"})})}),e.jsx(u,{label:"Twitter link",invalid:t.twitter&&a.twitter,errorMessage:t.twitter,children:e.jsx(x,{type:"text",autoComplete:"off",name:"twitter",placeholder:"URL",component:y,prefix:e.jsx(Je,{className:"text-xl text-[#1da1f3]"})})}),e.jsx(u,{label:"Pinterest link",invalid:t.pinterest&&a.pinterest,errorMessage:t.pinterest,children:e.jsx(x,{type:"text",autoComplete:"off",name:"pinterest",placeholder:"URL",component:y,prefix:e.jsx(Qe,{className:"text-xl text-[#df0018]"})})}),e.jsx(u,{label:"LinkedIn link",invalid:t.linkedIn&&a.linkedIn,errorMessage:t.linkedIn,children:e.jsx(x,{type:"text",autoComplete:"off",name:"linkedIn",placeholder:"URL",component:y,prefix:e.jsx(Xe,{className:"text-xl text-[#0077b5]"})})})]})},ft=Oe().shape({companyName:N().required("Company Name is required"),phone:N().typeError("Phone Number must be a number").required("Phone Number is required"),website:N().required("Website Name is required"),companyOwner:N().required("Company owner is required"),description:N().required("Description Is Required"),street:N().required("Street is required"),city:N().required("City is required"),state:N().required("State is required"),country:N().required("Country is required"),pinCode:N().required("Pin Code is required").test("is-number","Pin Code must be a number",o=>/^\d+$/.test(o)).test("is-six-digits","Pin Code must be exactly 6 digits",o=>o&&o.length===6),tagId:Fe()}),{TabNav:jt,TabList:bt,TabContent:Q}=ee,ne=p.forwardRef((o,a)=>{var i,m,h;const t=C(c=>c.crmCompany.data.selectedCompany),s=!!t.id,l=w();return e.jsx(ke,{innerRef:a,initialValues:{companyName:(t==null?void 0:t.companyName)||"",phone:(t==null?void 0:t.phone)||"",website:(t==null?void 0:t.website)||"",companyOwner:(t==null?void 0:t.companyOwner)||"",description:(t==null?void 0:t.description)||"",street:(t==null?void 0:t.street)||"",city:(t==null?void 0:t.city)||"",state:(t==null?void 0:t.state)||"",country:(t==null?void 0:t.country)||"",tagName:((m=(i=t==null?void 0:t.tags)==null?void 0:i[0])==null?void 0:m.tagName)||"",pinCode:(t==null?void 0:t.pinCode)||0,tagId:((h=t==null?void 0:t.tags)==null?void 0:h.map(c=>c.id))||[],colorName:t!=null&&t.tags&&(t==null?void 0:t.tags.length)>0?t==null?void 0:t.tags[0].colorName:""},validationSchema:ft,onSubmit:async(c,{setSubmitting:g})=>{var L,O,T,M,d,r;const{colorName:R,tagName:q,...j}=c;if(s===!0){const n=await l(it({companyId:(t==null?void 0:t.id)||"",updatedData:j}));(L=n==null?void 0:n.payload)!=null&&L.success?(await l(E()),await l(b()),I.push(e.jsx(A,{title:"Successfully Added",type:"success",duration:2500,children:(O=n==null?void 0:n.payload)==null?void 0:O.message}),{placement:"top-center"})):(I.push(e.jsx(A,{title:"Something went wrong !!!",type:"danger",duration:2500,children:(T=n==null?void 0:n.payload)==null?void 0:T.message}),{placement:"top-center"}),await l(E()),await l(b())),await l(b()),await l(E())}else{const n=await l(ct(j));(M=n==null?void 0:n.payload)!=null&&M.success?I.push(e.jsx(A,{title:"Successfully Added",type:"success",duration:2500,children:(d=n==null?void 0:n.payload)==null?void 0:d.message}),{placement:"top-center"}):I.push(e.jsx(A,{title:"Something went wrong !!!",type:"danger",duration:2500,children:(r=n==null?void 0:n.payload)==null?void 0:r.message}),{placement:"top-center"}),await l(b()),await l(E())}g(!1)},children:({touched:c,errors:g})=>e.jsx(Le,{children:e.jsx(Se,{children:e.jsxs(ee,{defaultValue:"personalInfo",children:[e.jsx(bt,{children:e.jsx(jt,{value:"personalInfo",children:"Custometer Detail"})}),e.jsxs("div",{className:"p-6",children:[e.jsx(Q,{value:"personalInfo",children:e.jsx(ht,{touched:c,errors:g})}),e.jsx(Q,{value:"social",children:e.jsx(gt,{touched:c,errors:g})})]})]})})})})});ne.displayName="CompanyForm";const ie=p.forwardRef((o,a)=>{w();const t=C(l=>l.crmCompany.data.selectedCompany);C(l=>l.crmCompany.data.companyList);const s=async l=>{};return e.jsx(ne,{ref:a,company:t,onFormSubmit:s})});ie.displayName="CompanyEditContent";const wt=({onSaveClick:o,onCancel:a})=>e.jsxs("div",{className:"text-right w-full",children:[e.jsx(H,{size:"sm",className:"mr-2",onClick:a,children:"Cancel"}),e.jsx(H,{size:"sm",variant:"solid",onClick:o,children:"Save"})]}),Nt=()=>{const o=w(),a=C(i=>i.crmCompany.data.drawerOpen),t=()=>{o(E()),o(_({}))},s=p.useRef(null),l=()=>{var i,m;console.log("formSubmit function called",(i=s.current)==null?void 0:i.values),(m=s.current)==null||m.submitForm()};return e.jsx(De,{isOpen:a,closable:!1,bodyClass:"p-0",footer:e.jsx(wt,{onCancel:t,onSaveClick:l}),onClose:t,onRequestClose:t,children:e.jsx(ie,{ref:s})})},vt=()=>{const o=w(),a=C(i=>i.crmCompany.data.deleteConfirmation),t=C(i=>i.crmCompany.data.selectedCompany),s=()=>{o(W(!1))},l=async()=>{var m,h,c;o(W(!1));const i=await o(lt(t.id));await o(b()),(m=i==null?void 0:i.payload)!=null&&m.success?(I.push(e.jsx(A,{title:"Successfuly Deleted",type:"success",duration:2500,children:(h=i==null?void 0:i.payload)==null?void 0:h.message}),{placement:"top-center"}),await o(b())):(I.push(e.jsx(A,{title:"Something Went Wrong !!!",type:"danger",duration:2500,children:(c=i==null?void 0:i.payload)==null?void 0:c.message}),{placement:"top-center"}),await o(b()))};return e.jsx(Ze,{isOpen:a,type:"danger",title:"Delete Company",confirmButtonColor:"red-600",onClose:s,onRequestClose:s,onCancel:s,onConfirm:l,children:e.jsx("p",{children:"Are you sure you want to delete this company? All record related to this company will be deleted as well. This action cannot be undone."})})},Dt=({row:o})=>{const{textTheme:a}=Z(),t=w(),s=()=>{t(re()),t(_(o))};return e.jsx("div",{className:`${a} cursor-pointer select-none font-semibold`,onClick:s,children:"Edit"})},St=({row:o})=>{const{textTheme:a}=Z(),t=w(),s=async()=>{await t(_(o)),t(W(!0))};return e.jsx("div",{className:`${a} cursor-pointer select-none font-semibold text-red-500`,onClick:s,children:"Delete"})},Tt=()=>{const o=w(),a=C(d=>d.crmCompany.data.companyList),t=V("company","canModify"),s=V("company","canDelete"),l=C(d=>d.crmCompany.data.loading),i=C(d=>d.crmCompany.data.filterData),{pageIndex:m,pageSize:h,sort:c,query:g,total:R}=C(d=>d.crmCompany.data.tableData),q=p.useCallback(()=>{o(b())},[o]);p.useEffect(()=>{q()},[q,m,h,c,i]);const j=p.useMemo(()=>({pageIndex:m,pageSize:h,sort:c,query:g,total:R}),[m,h,c,g,R]),L=p.useMemo(()=>{const d=[{header:"Company Name",accessorKey:"companyName",cell:r=>{const n=r.row.original.companyName;return e.jsx(D,{text:n,maxLength:20})}},{header:"Contact Number",accessorKey:"phone",cell:r=>r.row.original.phone},{header:"Website",accessorKey:"website",cell:r=>{const n=r.row.original.website;return e.jsx(D,{text:n,maxLength:20})}},{header:"Company Owner",accessorKey:"companyOwner",cell:r=>{const n=r.row.original.companyOwner;return e.jsx(D,{text:n,maxLength:20})}},{header:"Tag Name",accessorKey:"tagName",cell:r=>{const n=r.row.original.tags||[];return e.jsx(Ye,{tags:n})}},{header:"Description",accessorKey:"description",cell:r=>{const n=r.row.original.description;return e.jsx(D,{text:n,maxLength:20})}},{header:"Street",accessorKey:"street",cell:r=>{const n=r.row.original.street;return e.jsx(D,{text:n,maxLength:20})}},{header:"City",accessorKey:"city",cell:r=>{const n=r.row.original.city;return e.jsx(D,{text:n,maxLength:20})}},{header:"State",accessorKey:"state",cell:r=>{const n=r.row.original.state;return e.jsx(D,{text:n,maxLength:20})}},{header:"Country",accessorKey:"country",cell:r=>{const n=r.row.original.country;return e.jsx(D,{text:n,maxLength:20})}},{header:"Pincode",accessorKey:"pinCode",cell:r=>{const n=r.row.original.pinCode;return e.jsx(D,{text:n,maxLength:20})}}];return s&&d.unshift({header:"Delete",id:"action",cell:r=>e.jsx(St,{row:r.row.original})}),t&&d.unshift({header:"Edit",id:"action",cell:r=>e.jsx(Dt,{row:r.row.original})}),d},[t,s]),O=d=>{const r=z(j);r.pageIndex=d,o(K(r))},T=d=>{const r=z(j);r.pageSize=Number(d),r.pageIndex=1,o(K(r))},M=d=>{const r=z(j);r.sort=d,o(K(r))};return e.jsxs("div",{children:[e.jsx(he,{columns:L,data:a,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},loading:l,pagingData:{total:j.total,pageIndex:j.pageIndex,pageSize:j.pageSize},onPaginationChange:O,onSelectChange:T,onSort:M}),e.jsx(Nt,{}),e.jsx(vt,{})]})},le=p.forwardRef((o,a)=>{const{onInputChange:t}=o,s=et(l,500);function l(m){t==null||t(m)}const i=m=>{s(m.target.value)};return e.jsx(y,{ref:a,className:"max-w-md md:w-52 mb-4",size:"sm",placeholder:"Search",prefix:e.jsx(Me,{className:"text-lg"}),onChange:i})});le.displayName="CompanyTableSearch";const{Control:kt}=at,X=[{value:"",label:"All",color:"bg-gray-500"},{value:"active",label:"Active",color:"bg-emerald-500"},{value:"blocked",label:"Blocked",color:"bg-red-500"}],Lt=({innerProps:o,label:a,data:t,isSelected:s})=>e.jsxs("div",{className:`flex items-center justify-between p-2 cursor-pointer ${s?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"}`,...o,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{innerClass:t.color}),e.jsx("span",{children:a})]}),s&&e.jsx(Pe,{className:"text-emerald-500 text-xl"})]}),Ot=({children:o,...a})=>{const t=a.getValue()[0];return e.jsxs(kt,{...a,children:[t&&e.jsx(ae,{className:"ltr:ml-4 rtl:mr-4",innerClass:t.color}),o]})},Ft=()=>{const o=w(),{status:a}=C(s=>s.crmCompany.data.filterData),t=s=>{o(se({status:s==null?void 0:s.value}))};return e.jsx(tt,{options:X,size:"sm",className:"mb-4 min-w-[130px]",components:{Option:Lt,Control:Ot},value:X.filter(s=>s.value===a),onChange:t})},It=()=>{const o=w(),a=p.useRef(null),t=C(c=>c.crmCompany.data.tableData),s=V("company","canCreate"),l=c=>{const g=z(t);g.query=c,g.pageIndex=1,typeof c=="string"&&c.length>1&&i(g),typeof c=="string"&&c.length===0&&i(g)},i=c=>{o(K(c)),o(b())},m=()=>{const c=z(t);c.query="",a.current&&(a.current.value=""),o(se({status:""})),i(c)},h=()=>{o(re())};return e.jsxs("div",{className:"md:flex items-center justify-between",children:[e.jsxs("div",{className:"md:flex items-center gap-4",children:[e.jsx(le,{ref:a,onInputChange:l}),e.jsx(Ft,{})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(H,{size:"sm",className:"me-2",onClick:m,children:"Clear All"}),s&&e.jsx(H,{size:"sm",onClick:h,children:"Add New"})]})]})},$=o=>{const{icon:a,avatarClass:t,label:s,value:l,loading:i}=o,m=55;return e.jsx(ot,{bordered:!0,children:e.jsx(xe,{loading:i,customLoader:e.jsx(st,{avatarProps:{className:"rounded",width:m,height:m}}),children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(te,{className:t,size:m,icon:a}),e.jsxs("div",{children:[e.jsx("span",{children:s}),e.jsx("h3",{children:e.jsx(rt,{thousandSeparator:!0,displayType:"text",value:l})})]})]})})})})},At=()=>{const o=w(),a=C(s=>s.crmCompany.data.statisticData),t=C(s=>s.crmCompany.data.statisticLoading);return p.useEffect(()=>{o(G())},[]),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 mb-6",children:[e.jsx($,{icon:e.jsx(Ee,{}),avatarClass:"!bg-indigo-600",label:"Total Company",value:a.totalCompany,growthRate:a==null?void 0:a.totalCompany,loading:t}),e.jsx($,{icon:e.jsx(ze,{}),avatarClass:"!bg-blue-500",label:"Active Company",value:a.activeCompany,growthRate:a.activeCompany,loading:t}),e.jsx($,{icon:e.jsx(Ue,{}),avatarClass:"!bg-emerald-500",label:"New Company",value:a==null?void 0:a.newCompany,growthRate:a==null?void 0:a.newCompany,loading:t})]})};ye("crmCompany",Ct);const Rt=()=>e.jsxs(e.Fragment,{children:[e.jsx(At,{}),e.jsxs(Ce,{bodyClass:"h-full",children:[e.jsx(It,{}),e.jsx(Tt,{})]})]}),yo=Rt;export{yo as default};
