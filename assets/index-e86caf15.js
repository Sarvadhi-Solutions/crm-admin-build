import{al as o,am as p,an as C,ao as y}from"./index-7b0349c6.js";import{x as m,h as u,y as g,z as w,A as f,B as h,C as D,D as L,o as S,p as i,q as E}from"./CrmService-d23a3034.js";const b="crmContact",r=o("crmContact/data/getContactStatistic",async()=>(await m()).data),c=o("crmContact/data/getContact",async()=>(await u()).data),T=o("crmContact/data/getSource",async()=>{const t=await g();return console.log({response:t}),t.data}),A=o("crmContact/data/createSource",async t=>{var a,e;try{return(await w(t)).data}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}}),d=o("crmCompany/data/getCompany",async()=>(await f()).data),R=o("crmContact/data/editContact",async({contactId:t,updatedData:a})=>{var e,s;try{return(await h(t,a)).data}catch(n){throw new Error((s=(e=n==null?void 0:n.response)==null?void 0:e.data)==null?void 0:s.message)}}),k=o("crmContact/data/deleteContact",async t=>{var a,e;try{return await D(t)}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}}),F=o("crmContact/data/createContact",async t=>{var a,e;try{return(await L(t)).data}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}}),M=o("crmContact/data/module",async()=>{var t,a;try{return(await S()).data}catch(e){throw new Error((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)}}),N=o("tag-category",async({id:t})=>{var a,e;try{return(await i(t)).data}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}});o("crmContact/data/fetchTag",async({id:t})=>{var a,e;try{return(await i(t)).data}catch(s){throw new Error((e=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:e.message)}});o("crmContact/data/createTag",async({masterId:t,colorName:a,tagName:e,tagCategoryId:s})=>(await E({colorName:a,tagName:e,masterId:t,tagCategoryId:s})).data);const x={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},G={status:""},q={loading:!1,sources:[],statisticLoading:!1,contactList:[],displayedContactList:[],companyList:[],statisticData:{},tableData:x,filterData:G,drawerOpen:!1,selectedContact:{},deleteConfirmation:!1},l=p({name:`${b}/state`,initialState:q,reducers:{setTableData:(t,a)=>{t.tableData=a.payload;const e=t.contactList.filter(s=>s.firstName.toLowerCase().includes(a.payload.query.toLowerCase())||s.lastName.toLowerCase().includes(a.payload.query.toLowerCase())||s.email.toLowerCase().includes(a.payload.query.toLowerCase()));t.displayedContactList=e.slice(a.payload.pageSize*(a.payload.pageIndex-1),a.payload.pageSize*a.payload.pageIndex)},setContactList:(t,a)=>{t.contactList=a.payload},setFilterData:(t,a)=>{t.filterData=a.payload},setSelectedContact:(t,a)=>{t.selectedContact=a.payload},setDrawerOpen:t=>{t.drawerOpen=!0},setDrawerClose:t=>{t.drawerOpen=!1},toggleDeleteConfirmation:(t,a)=>{t.deleteConfirmation=a.payload}},extraReducers:t=>{t.addCase(c.fulfilled,(a,e)=>{a.contactList=e.payload.data,a.tableData.total=e.payload.data.length,a.displayedContactList=e.payload.data.slice(0,10),a.loading=!1}).addCase(c.pending,a=>{a.loading=!0}).addCase(r.fulfilled,(a,e)=>{a.statisticData=e.payload,a.statisticLoading=!1}).addCase(r.pending,a=>{a.statisticLoading=!0}).addCase(d.fulfilled,(a,e)=>{a.companyList=e.payload.data,a.loading=!1}).addCase(d.pending,a=>{a.loading=!0}).addCase(T.fulfilled,(a,e)=>{a.sources=e.payload.data})}}),{setTableData:j,setContactList:B,setFilterData:P,setSelectedContact:_,setDrawerOpen:$,setDrawerClose:v,toggleDeleteConfirmation:H}=l.actions,I=l.reducer,J=C({data:I}),K=y;export{r as a,d as b,N as c,k as d,A as e,M as f,c as g,T as h,R as i,F as j,_ as k,j as l,$ as m,J as r,v as s,H as t,K as u};
