import{aa as N,r as a,u as S,I as P,j as o}from"./index-a20ba26a.js";import{A as z}from"./AdaptableCard-ebe12b6a.js";import{M as g}from"./index-85d605de.js";import{D as C}from"./Views-bc53fe60.js";import{O as V}from"./Organization-ee187542.js";import{T as v}from"./TagCategories-4a2ab1ab.js";import E from"./UsersRoles-f7484843.js";import{I as b}from"./Inventory-648679ff.js";import{S as A}from"./StateCity-c9f28216.js";import{C as F}from"./CustomFields-8a55335d.js";import"./Card-bff24a36.js";import"./index-35476e3e.js";import"./index.esm-be6144e0.js";import"./useUniqueId-914c91c8.js";import"./toString-a63c2859.js";import"./StickyFooter-aad4a7bf.js";import"./Alert-8553d33a.js";import"./useTimeout-7becf600.js";import"./CloseButton-4e026f10.js";import"./StatusIcon-41b0d7b0.js";import"./index-2148bb60.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-b0886967.js";import"./usePopper-08e5e722.js";import"./index.esm-82d2638c.js";import"./index-1b414c07.js";import"./Badge-8049beb3.js";import"./Button-606f81c4.js";import"./RangeCalendar-25da90a3.js";import"./useControllableState-284b4d1f.js";import"./index-2174bc97.js";import"./cloneDeep-3e847c7b.js";import"./_MapCache-dc1c6594.js";import"./_getPrototype-4a7cc1e2.js";import"./_baseIsEqual-756c5960.js";import"./get-1094ccfe.js";import"./index-4635ef66.js";import"./Input-6b27fa9a.js";import"./isNil-b4ff99b9.js";import"./useRootClose-d61eb5f9.js";import"./TimeInput-9d62f940.js";import"./useDidUpdate-e252aed9.js";import"./Dialog-26a2a0fd.js";import"./index-12a2e799.js";import"./Drawer-e77b2b89.js";import"./index-9864d878.js";import"./useUncertainRef-ccbee67f.js";import"./chainedFunction-070f832c.js";import"./FormItem-6a0d9197.js";import"./index-748ad56b.js";import"./toast-e3774575.js";import"./Pagination-d3f31d62.js";import"./Progress-6b096913.js";import"./index-d8391a2e.js";import"./ScrollBar-7e1d65c9.js";import"./index-dc1ca84e.js";import"./Select-03ba356c.js";import"./slicedToArray-24deda83.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-a381a404.js";import"./floating-ui.dom-bef9cea3.js";import"./Skeleton-a7528028.js";import"./index-d92e699d.js";import"./mapCloneElement-e3365f47.js";import"./Switcher-05ebbfd6.js";import"./index-8466741f.js";import"./index.esm-2bfb7347.js";import"./index-7089ceba.js";import"./Tag-678be9fd.js";import"./index-62aa565b.js";import"./index-7fbb0973.js";import"./Upload-3f7737c4.js";import"./index.esm-c597078d.js";import"./FormDesription-08326a01.js";import"./FormRow-bd1ec8a2.js";import"./formik.esm-2806615a.js";import"./index.esm-c9c236d0.js";import"./index.esm-7f24b5b1.js";import"./CrmService-56f8463c.js";/* empty css              */import"./index.esm-d4c89ad7.js";import"./chart.constant-c5a78b5d.js";import"./chart.config-bd74d6e5.js";import"./DataTable-011e9941.js";import"./index-a407f681.js";import"./GrowShrinkTag-1e2d12cf.js";import"./react-tooltip.min-757b6e50.js";import"./RichTextEditor-7aafe500.js";import"./SegmentItemOption-efcb2e34.js";import"./useThemeClass-6d8c2eb1.js";import"./SvgIcon-22f3a5f9.js";import"./index.esm-5f21bca0.js";import"./index.esm-f63efa5f.js";import"./index.esm-df0200f6.js";import"./isLastChild-83eb4c23.js";import"./ConfirmDialog-46de9549.js";import"./checkEditUpdate-07081f80.js";import"./debounce-cdc9fd43.js";import"./index.esm-0124f1d8.js";import"./TextTruncate-9d0aa311.js";import"./helper-64c17a1c.js";import"./index.esm-42b50e02.js";const I=()=>{var d;const c=N(),[m,h]=a.useState({}),[p,u]=a.useState(null),l=S(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=c.pathname.trim().split("/").pop(),t=P.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=l.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(M=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state city"||k(s,e)||j(s,e)||w(s)||y(s,e))),n={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};h(n)},[c.pathname,l]);const w=(r,t)=>{const e=l.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,y=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,k=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(n=>n.master.moduleName.toLowerCase()==="users"&&n.canView===!0),i=t.find(n=>n.master.moduleName.toLowerCase()==="roles"&&n.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(C.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const L=async(r,t)=>{const e=C.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[p==null?void 0:p.key]);const f=()=>{switch(p==null?void 0:p.key){case"appsCrm.organization":return o.jsx(V,{});case"appsCrm.usersrole":return o.jsx(E,{});case"appsCrm.tagCategories":return o.jsx(v,{});case"appsCrm.inventory":return o.jsx(b,{});case"appsCrm.statecity":return o.jsx(A,{});case"appsCrm.customFields":return o.jsx(F,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(z,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(g,{onSelect:L,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(g.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},br=I;export{br as default};
