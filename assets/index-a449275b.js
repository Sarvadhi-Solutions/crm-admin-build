import{r as m,j as t,a as P,a3 as U,av as je,aw as ft,ax as O,p as ht,al as xt,ah as gt,aq as vt}from"./index-afeb99dd.js";import{A as yt}from"./AdaptableCard-01cd8827.js";import{u as E,a as re,g as ee,e as Ke,s as Qe,b as oe,f as Ie,p as xe,c as ge,h as Ve,t as Ae,d as jt,i as Tt,j as bt,k as Ct,l as St,m as Et,n as Se,o as Dt,r as Nt}from"./index-485c9981.js";import{B as te}from"./Button-5e9321cd.js";import{c as he}from"./cloneDeep-f2528b95.js";import{I as R}from"./Input-fe5fc582.js";import{b as kt,T as be,Q as wt,O as Mt,P as It,o as Vt,M as At,C as Ft}from"./index.esm-f4f10cf9.js";import{d as Rt}from"./debounce-6c864594.js";import{u as Ce}from"./checkEditUpdate-9f459668.js";import{D as Pt}from"./DataTable-3d6ba875.js";import"./Alert-abc01096.js";import{A as Lt}from"./index-08720d19.js";import"./Badge-57260147.js";import"./RangeCalendar-c8e5e23d.js";import{C as $t}from"./Card-a25bc86a.js";import"./index-646ce73f.js";import"./index-71f17666.js";import{D as Xe}from"./Dialog-b0478122.js";import{D as qt}from"./Drawer-6021c63b.js";import"./index-29936284.js";import{F as Le,a as M}from"./FormItem-2a151033.js";import"./toString-79dd21b9.js";import"./index-ed8cb66a.js";import"./index-cf176bc9.js";import"./index-8145753b.js";import{t as le,N as ce}from"./toast-b57ee67d.js";import"./Pagination-46eefec6.js";import"./Progress-65192619.js";import"./index-fde04e31.js";import"./ScrollBar-93cfd3f9.js";import"./index-b82cade4.js";import{m as Ot,d as Ut,S as ne}from"./Select-2984c046.js";import"./Skeleton-1c4e4b72.js";import"./index-a70c7a57.js";import"./Switcher-83e7e292.js";import"./index-45766b4b.js";import{T as Je}from"./index-b8a0c8d7.js";import"./Tag-f3e28a4c.js";import"./index-53e11fec.js";import"./index-16b82756.js";import{T as Ne}from"./Tooltip-46e989ae.js";import{U as zt}from"./Upload-1e962b58.js";import{S as We}from"./StatusCapsule-427f96f6.js";import{T as Wt}from"./TagsList-5727ee94.js";import{T as ke}from"./TextTruncate-73a85fed.js";import{u as _t}from"./useThemeClass-a6e6a15d.js";import{h as Ht}from"./moment-fbc5633a.js";import{b as $e,A as Ze,a as Yt}from"./index.esm-726f6b92.js";import{a as Gt}from"./index.esm-1b054edb.js";import{d as Bt}from"./index.esm-013efa08.js";import{i as Kt}from"./Views-f7a9b898.js";import"./chart.constant-e1b2238d.js";import"./GrowShrinkTag-c4569aa9.js";import"./react-tooltip.min-7fdd29c0.js";import"./RichTextEditor-9ad39754.js";import"./SegmentItemOption-666cf094.js";import{S as et}from"./StickyFooter-f9488d76.js";import"./SvgIcon-aa33ab6d.js";import{F as qe,a as Oe,b as A,u as Qt}from"./formik.esm-e70cf2ce.js";import{c as De,a as w,e as tt}from"./index.esm-639db9d4.js";import{D as Xt}from"./DoubleSidedImage-576ed11c.js";import{C as Jt}from"./ConfirmDialog-16c69999.js";import{t as Zt}from"./tagAndCategory-228f57e7.js";/* empty css              */import{G as we}from"./index.esm-ef32d13b.js";import{a as at,_ as de}from"./objectWithoutProperties-8809bfcf.js";import{_ as Y}from"./toConsumableArray-b3b9a0e8.js";import{_ as Fe}from"./slicedToArray-fe25a6b5.js";import{_ as nt}from"./inheritsLoose-19863242.js";import{g as ea}from"./index-74327464.js";import{M as _e,t as me,a as He,p as Ye}from"./helper-64c17a1c.js";import{B as Ge}from"./index.esm-be0e54d4.js";import{F as ta}from"./FormDesription-e86e128e.js";import{u as aa}from"./useGetModule-41dd94e6.js";import{M as na}from"./MediaSkeleton-69b144c5.js";import{N as sa}from"./react-number-format.es-f9c69fb4.js";import"./CrmService-80eafdff.js";import"./index-20eff79d.js";import"./_MapCache-d7aaf9c0.js";import"./_getPrototype-c53836d9.js";import"./isNil-e2aeddd7.js";import"./get-a5b2ed65.js";import"./index-535d7f05.js";import"./useTimeout-682d9172.js";import"./CloseButton-217fbce9.js";import"./StatusIcon-47182631.js";import"./useMergeRef-788c4cb0.js";import"./useControllableState-8021c4d2.js";import"./_baseIsEqual-879f4f25.js";import"./useRootClose-d6d9b544.js";import"./usePopper-996565a6.js";import"./TimeInput-a38fa8f0.js";import"./useUniqueId-6aef0ec3.js";import"./useDidUpdate-f2162ffc.js";import"./index-a4e43560.js";import"./useUncertainRef-8a988cd5.js";import"./index-07932842.js";import"./chainedFunction-070f832c.js";import"./floating-ui.dom-4bc0055b.js";import"./mapCloneElement-4a1cd053.js";import"./index.esm-a56f1c0a.js";import"./index.esm-44e5e467.js";import"./index.esm-e1783cee.js";const st=m.forwardRef((c,s)=>{const{onInputChange:e}=c,o=Rt(n,500);function n(r){e==null||e(r)}const a=r=>{o(r.target.value)};return t.jsx(R,{ref:s,className:"max-w-md md:w-52 mb-4",size:"sm",placeholder:"Search by title",prefix:t.jsx(kt,{className:"text-lg"}),onChange:a})});st.displayName="TasksTableSearch";const ia=()=>{const c=P(),s=m.useRef(null),e=E(l=>l.crmTasks.data.tableData),o=Ce("tasks","canCreate"),n=l=>{const d=he(e);d.query=l,d.pageIndex=1,typeof l=="string"&&l.length>1&&a(d),typeof l=="string"&&l.length===0&&a(d)},a=l=>{c(l?re(l):ee())},r=()=>{c(Ke()),c(Qe("Add")),c(oe({}))};return m.useEffect(()=>{s.current&&(s.current.value=e.query||"",c(re(e)))},[e==null?void 0:e.query]),t.jsxs("div",{className:"md:flex items-center justify-between",children:[t.jsx("div",{className:"md:flex items-center gap-4",children:t.jsx(st,{ref:s,onInputChange:n})}),t.jsx("div",{className:"mb-4",children:o&&t.jsx(te,{size:"sm",onClick:r,children:"Add New"})})]})},it=m.forwardRef((c,s)=>{const e=P(),o=E(h=>h.crmTasks.data.followUPConfirmation),n=E(h=>{var x,T;return(T=(x=h.crmTasks)==null?void 0:x.data)==null?void 0:T.selectedTask}),a=E(h=>h.crmTasks.data.loading),r=()=>{e(Ie(!1))},l=De().shape({descriptions:w().required("Notes is required")}),d=async h=>{var S,k,v;const x=await e(xe({taskId:n==null?void 0:n.id,data:h})),T=(S=x==null?void 0:x.payload)!=null&&S.success?{title:"Successfully Updated",type:"success",message:(k=x==null?void 0:x.payload)==null?void 0:k.message}:{title:"Something Went Wrong !!!",type:"danger",message:(v=x==null?void 0:x.error)==null?void 0:v.message};le.push(t.jsx(ce,{title:T.title,type:T==null?void 0:T.type,duration:2500,children:T.message}),{placement:"top-end"}),await e(ee()),await e(ge()),await e(Ie(!1))};return t.jsxs(Xe,{isOpen:o,onClose:r,children:[t.jsx("h5",{className:"mb-4",children:"Follow Up"}),t.jsx(qe,{innerRef:s,initialValues:{descriptions:"",nextDateTime:""},validationSchema:l,onSubmit:async(h,{setSubmitting:x})=>{const T={completionStatus:"completed",descriptions:h.descriptions};h!=null&&h.nextDateTime&&(T.nextDateTime=h.nextDateTime),await d(T),x(!1)},children:({touched:h,errors:x,values:T,setFieldValue:S})=>t.jsxs(Oe,{children:[t.jsxs(Le,{children:[t.jsx(M,{label:"Next Follow-Up Date and Time",invalid:x.nextDateTime&&h.nextDateTime,errorMessage:x.nextDateTime,children:t.jsx(A,{type:"dateTime-local",autoComplete:"off",name:"nextDateTime",placeholder:"Select Next Follow-Up Date and Time",component:R,prefix:t.jsx(be,{className:"text-xl"})})}),t.jsx(M,{label:"Notes",invalid:x.descriptions&&h.descriptions,errorMessage:x.descriptions,children:t.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:R,prefix:t.jsx($e,{className:"text-xl"})})})]}),t.jsx(et,{className:"flex items-center justify-end py-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"md:flex items-center",children:[t.jsx(te,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:r,children:"Cancel"}),t.jsx(te,{size:"sm",type:"submit",variant:"solid",icon:t.jsx(Ze,{}),loading:a,children:"Save"})]})})]})})]})});it.displayName="FollowUpTaskConfirmation";const rt=m.forwardRef((c,s)=>{const e=P(),[o,n]=m.useState(""),[a,r]=m.useState(""),l=E(g=>g.crmTasks.data.quotationConfirmation),d=E(g=>{var p,j;return(j=(p=g.crmTasks)==null?void 0:p.data)==null?void 0:j.selectedTask}),h=E(g=>g.crmTasks.data.loading),x=()=>{e(Ve(!1)),n("")},T=De().shape({descriptions:w().required("Notes is required")}),S=async g=>{var N,C,u;const p=await e(xe({taskId:d==null?void 0:d.id,data:g})),j=(N=p==null?void 0:p.payload)!=null&&N.success?{title:"Successfully Updated",type:"success",message:(C=p==null?void 0:p.payload)==null?void 0:C.message}:{title:"Something Went Wrong !!!",type:"danger",message:(u=p==null?void 0:p.error)==null?void 0:u.message};le.push(t.jsx(ce,{title:j.title,type:j==null?void 0:j.type,duration:2500,children:j.message}),{placement:"top-end"}),await e(ee()),await e(ge()),await e(Ve(!1)),n("")},k=g=>{let p=!0;const j=["image/png","image/jpeg","image/jpeg","image/webp","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","text/plain","text/html","application/xml","application/json","application/zip","application/x-rar-compressed"],N=1e7;if(g)for(const C of g)j.includes(C.type)||(p="Please upload a .jpeg, .png, or .pdf file!"),C.size>=N&&(console.log(C.size),p="Uploaded file cannot be larger than 10MB!");return p},v=(g,p,j)=>{const N="1-img-0",C=j.length-1,u=new FileReader,f=j[C];u.onload=()=>{const y=u.result,b={id:N,name:f.name,img:y};r(f.type),n(f.name),p("attachments",b)},u.readAsDataURL(f)};return t.jsxs(Xe,{isOpen:l,onClose:x,children:[t.jsx("h5",{className:"mb-4",children:"Quotation"}),t.jsx(qe,{innerRef:s,initialValues:{descriptions:"",attachments:""},validationSchema:T,onSubmit:async(g,{setSubmitting:p})=>{var N,C;const j={completionStatus:"completed",descriptions:g.descriptions};(N=g.attachments)!=null&&N.img&&(j.attachments=(C=g.attachments)==null?void 0:C.img,j.fileType=a),await S(j),p(!1)},children:({field:g,form:p,touched:j,errors:N,values:C,setFieldValue:u})=>t.jsxs(Oe,{children:[t.jsxs(Le,{children:[t.jsx(M,{label:"Upload File",children:t.jsx(zt,{draggable:!0,className:"min-h-fit",beforeUpload:k,showList:!1,onChange:f=>v(p,u,f),children:t.jsxs("div",{className:"max-w-full flex flex-col px-4 py-2 justify-center items-center",children:[t.jsx(Xt,{src:"/img/others/upload.png",darkModeSrc:"/img/others/upload-dark.png"}),t.jsx("p",{className:"font-semibold",children:o?t.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Selected file ",o]}):t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Drop your image here, or"," "]}),t.jsx("span",{className:"text-blue-500",children:"browse"})]})}),t.jsx("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: jpeg, png, pdf"})]})})}),t.jsx(M,{label:"Notes",invalid:N.descriptions&&j.descriptions,errorMessage:N.descriptions,children:t.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:R,prefix:t.jsx($e,{className:"text-xl"})})})]}),t.jsx(et,{className:"flex items-center justify-end py-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"md:flex items-center",children:[t.jsx(te,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:x,children:"Cancel"}),t.jsx(te,{size:"sm",type:"submit",variant:"solid",icon:t.jsx(Ze,{}),loading:h,children:"Save"})]})})]})})]})});rt.displayName="QuotationTaskConfirmation";const ra=()=>{const c=P(),s=E(a=>a.crmTasks.data.deleteConfirmation),e=E(a=>{var r,l;return(l=(r=a.crmTasks)==null?void 0:r.data)==null?void 0:l.selectedTask}),o=()=>{c(Ae(!1))},n=async()=>{var r,l,d;c(Ae(!1));const a=await c(jt(e.id));await c(ee()),(r=a==null?void 0:a.payload)!=null&&r.success?le.push(t.jsx(ce,{title:"Successfuly Deleted",type:"success",duration:2500,children:(l=a==null?void 0:a.payload)==null?void 0:l.message}),{placement:"top-end"}):le.push(t.jsx(ce,{title:"Something Went Wrong !!!",type:"danger",duration:2500,children:(d=a==null?void 0:a.error)==null?void 0:d.message}),{placement:"top-end"}),await c(ge())};return t.jsx(Jt,{isOpen:s,type:"danger",title:"Delete Task",confirmButtonColor:"red-600",onClose:o,onRequestClose:o,onCancel:o,onConfirm:n,children:t.jsx("p",{children:"Are you sure you want to delete this Task? All record related to this task will be deleted as well. This action cannot be undone."})})},Be={disabled:!1},Ee=U.createContext(null);var oa=function(s){return s.scrollTop},pe="unmounted",X="exited",J="entering",ie="entered",Re="exiting",z=function(c){nt(s,c);function s(o,n){var a;a=c.call(this,o,n)||this;var r=n,l=r&&!r.isMounting?o.enter:o.appear,d;return a.appearStatus=null,o.in?l?(d=X,a.appearStatus=J):d=ie:o.unmountOnExit||o.mountOnEnter?d=pe:d=X,a.state={status:d},a.nextCallback=null,a}s.getDerivedStateFromProps=function(n,a){var r=n.in;return r&&a.status===pe?{status:X}:null};var e=s.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(n){var a=null;if(n!==this.props){var r=this.state.status;this.props.in?r!==J&&r!==ie&&(a=J):(r===J||r===ie)&&(a=Re)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var n=this.props.timeout,a,r,l;return a=r=l=n,n!=null&&typeof n!="number"&&(a=n.exit,r=n.enter,l=n.appear!==void 0?n.appear:r),{exit:a,enter:r,appear:l}},e.updateStatus=function(n,a){if(n===void 0&&(n=!1),a!==null)if(this.cancelNextCallback(),a===J){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:je.findDOMNode(this);r&&oa(r)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===X&&this.setState({status:pe})},e.performEnter=function(n){var a=this,r=this.props.enter,l=this.context?this.context.isMounting:n,d=this.props.nodeRef?[l]:[je.findDOMNode(this),l],h=d[0],x=d[1],T=this.getTimeouts(),S=l?T.appear:T.enter;if(!n&&!r||Be.disabled){this.safeSetState({status:ie},function(){a.props.onEntered(h)});return}this.props.onEnter(h,x),this.safeSetState({status:J},function(){a.props.onEntering(h,x),a.onTransitionEnd(S,function(){a.safeSetState({status:ie},function(){a.props.onEntered(h,x)})})})},e.performExit=function(){var n=this,a=this.props.exit,r=this.getTimeouts(),l=this.props.nodeRef?void 0:je.findDOMNode(this);if(!a||Be.disabled){this.safeSetState({status:X},function(){n.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Re},function(){n.props.onExiting(l),n.onTransitionEnd(r.exit,function(){n.safeSetState({status:X},function(){n.props.onExited(l)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(n,a){a=this.setNextCallback(a),this.setState(n,a)},e.setNextCallback=function(n){var a=this,r=!0;return this.nextCallback=function(l){r&&(r=!1,a.nextCallback=null,n(l))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},e.onTransitionEnd=function(n,a){this.setNextCallback(a);var r=this.props.nodeRef?this.props.nodeRef.current:je.findDOMNode(this),l=n==null&&!this.props.addEndListener;if(!r||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],h=d[0],x=d[1];this.props.addEndListener(h,x)}n!=null&&setTimeout(this.nextCallback,n)},e.render=function(){var n=this.state.status;if(n===pe)return null;var a=this.props,r=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=at(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return U.createElement(Ee.Provider,{value:null},typeof r=="function"?r(n,l):U.cloneElement(U.Children.only(r),l))},s}(U.Component);z.contextType=Ee;z.propTypes={};function se(){}z.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:se,onEntering:se,onEntered:se,onExit:se,onExiting:se,onExited:se};z.UNMOUNTED=pe;z.EXITED=X;z.ENTERING=J;z.ENTERED=ie;z.EXITING=Re;const ot=z;function Ue(c,s){var e=function(a){return s&&m.isValidElement(a)?s(a):a},o=Object.create(null);return c&&m.Children.map(c,function(n){return n}).forEach(function(n){o[n.key]=e(n)}),o}function la(c,s){c=c||{},s=s||{};function e(x){return x in s?s[x]:c[x]}var o=Object.create(null),n=[];for(var a in c)a in s?n.length&&(o[a]=n,n=[]):n.push(a);var r,l={};for(var d in s){if(o[d])for(r=0;r<o[d].length;r++){var h=o[d][r];l[o[d][r]]=e(h)}l[d]=e(d)}for(r=0;r<n.length;r++)l[n[r]]=e(n[r]);return l}function Z(c,s,e){return e[s]!=null?e[s]:c.props[s]}function ca(c,s){return Ue(c.children,function(e){return m.cloneElement(e,{onExited:s.bind(null,e),in:!0,appear:Z(e,"appear",c),enter:Z(e,"enter",c),exit:Z(e,"exit",c)})})}function da(c,s,e){var o=Ue(c.children),n=la(s,o);return Object.keys(n).forEach(function(a){var r=n[a];if(m.isValidElement(r)){var l=a in s,d=a in o,h=s[a],x=m.isValidElement(h)&&!h.props.in;d&&(!l||x)?n[a]=m.cloneElement(r,{onExited:e.bind(null,r),in:!0,exit:Z(r,"exit",c),enter:Z(r,"enter",c)}):!d&&l&&!x?n[a]=m.cloneElement(r,{in:!1}):d&&l&&m.isValidElement(h)&&(n[a]=m.cloneElement(r,{onExited:e.bind(null,r),in:h.props.in,exit:Z(r,"exit",c),enter:Z(r,"enter",c)}))}}),n}var ua=Object.values||function(c){return Object.keys(c).map(function(s){return c[s]})},ma={component:"div",childFactory:function(s){return s}},ze=function(c){nt(s,c);function s(o,n){var a;a=c.call(this,o,n)||this;var r=a.handleExited.bind(ft(a));return a.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},a}var e=s.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(n,a){var r=a.children,l=a.handleExited,d=a.firstRender;return{children:d?ca(n,l):da(n,r,l),firstRender:!1}},e.handleExited=function(n,a){var r=Ue(this.props.children);n.key in r||(n.props.onExited&&n.props.onExited(a),this.mounted&&this.setState(function(l){var d=Y({},l.children);return delete d[n.key],{children:d}}))},e.render=function(){var n=this.props,a=n.component,r=n.childFactory,l=at(n,["component","childFactory"]),d=this.state.contextValue,h=ua(this.state.children).map(r);return delete l.appear,delete l.enter,delete l.exit,a===null?U.createElement(Ee.Provider,{value:d},h):U.createElement(Ee.Provider,{value:d},U.createElement(a,l,h))},s}(U.Component);ze.propTypes={};ze.defaultProps=ma;const lt=ze;var pa=["in","onExited","appear","enter","exit"],fa=function(s){return function(e){e.in,e.onExited,e.appear,e.enter,e.exit;var o=de(e,pa);return m.createElement(s,o)}},ha=fa,xa=["component","duration","in","onExited"],ct=function(s){var e=s.component,o=s.duration,n=o===void 0?1:o,a=s.in;s.onExited;var r=de(s,xa),l=m.useRef(null),d={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(n,"ms")},exiting:{opacity:0},exited:{opacity:0}};return m.createElement(ot,{mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:n,nodeRef:l},function(h){var x={style:O({},d[h]),ref:l};return m.createElement(e,Y({innerProps:x},r))})},Pe=260,ga=function(s){var e=s.children,o=s.in,n=s.onExited,a=m.useRef(null),r=m.useState("auto"),l=Fe(r,2),d=l[0],h=l[1];m.useEffect(function(){var T=a.current;if(T){var S=window.requestAnimationFrame(function(){return h(T.getBoundingClientRect().width)});return function(){return window.cancelAnimationFrame(S)}}},[]);var x=function(S){switch(S){default:return{width:d};case"exiting":return{width:0,transition:"width ".concat(Pe,"ms ease-out")};case"exited":return{width:0}}};return m.createElement(ot,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:o,onExited:function(){var S=a.current;S&&(n==null||n(S))},timeout:Pe,nodeRef:a},function(T){return m.createElement("div",{ref:a,style:O({overflow:"hidden",whiteSpace:"nowrap"},x(T))},e)})},va=["in","onExited"],ya=function(s){return function(e){var o=e.in,n=e.onExited,a=de(e,va);return m.createElement(ga,{in:o,onExited:n},m.createElement(s,Y({cropWithEllipsis:o},a)))}},ja=ya,Ta=function(s){return function(e){return m.createElement(ct,Y({component:s,duration:e.isMulti?Pe:1},e))}},ba=Ta,Ca=function(s){return function(e){return m.createElement(ct,Y({component:s},e))}},Sa=Ca,Ea=["component"],Da=["children"],Na=function(s){return function(e){return e.isMulti?m.createElement(ka,Y({component:s},e)):m.createElement(lt,Y({component:s},e))}},ka=function(s){var e=s.component,o=de(s,Ea),n=wa(o);return m.createElement(lt,Y({component:e},n))},wa=function(s){var e=s.children,o=de(s,Da),n=o.isMulti,a=o.hasValue,r=o.innerProps,l=o.selectProps,d=l.components,h=l.controlShouldRenderValue,x=m.useState(n&&h&&a),T=Fe(x,2),S=T[0],k=T[1],v=m.useState(!1),g=Fe(v,2),p=g[0],j=g[1];m.useEffect(function(){a&&!S&&k(!0)},[a,S]),m.useEffect(function(){p&&!a&&S&&k(!1),j(!1)},[p,a,S]);var N=function(){return j(!0)},C=function(b){if(n&&m.isValidElement(b)){if(b.type===d.MultiValue)return m.cloneElement(b,{onExited:N});if(b.type===d.Placeholder&&S)return null}return b},u=O(O({},r),{},{style:O(O({},r==null?void 0:r.style),{},{display:n&&a||S?"flex":"grid"})}),f=O(O({},o),{},{innerProps:u,children:m.Children.toArray(e).map(C)});return f},Ma=Na,Ia=["Input","MultiValue","Placeholder","SingleValue","ValueContainer"],dt=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ut({components:s}),o=e.Input,n=e.MultiValue,a=e.Placeholder,r=e.SingleValue,l=e.ValueContainer,d=de(e,Ia);return O({Input:ha(o),MultiValue:ja(n),Placeholder:ba(a),SingleValue:Sa(r),ValueContainer:Ma(l)},d)},ve=dt();ve.Input;ve.MultiValue;ve.Placeholder;ve.SingleValue;ve.ValueContainer;var Va=Ot(dt);const fe=[],Te=[],Aa=c=>{var W,_,H,ue;const{touched:s,errors:e,setFieldValue:o,values:n}=c,a=P();m.useState(!1),m.useState(!1);const[r,l]=m.useState(null),[d,h]=m.useState(null),[x,T]=m.useState(""),[S,k]=m.useState(""),[v,g]=m.useState([]),p=E(i=>{var V;return(V=i.crmTasks.data.customField)==null?void 0:V.data});E(i=>i.crmTasks.data.tasksList);const[j,N]=m.useState(""),C=m.useRef(null),u={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"};m.useEffect(()=>{const i=new Date,V=i.getFullYear(),q=(i.getMonth()+1).toString().padStart(2,"0"),ye=i.getDate().toString().padStart(2,"0"),B=i.getHours().toString().padStart(2,"0"),K=i.getMinutes().toString().padStart(2,"0"),Q=`${V}-${q}-${ye}T${B}:${K}`;T(Q),C.current&&C.current.addEventListener("input",y)},[]);const{getModule:f}=aa();m.useEffect(()=>{const i=async()=>{var q,ye;try{const{payload:B}=await a(Ct()),K=(q=B==null?void 0:B.data)==null?void 0:q.find(Q=>(Q==null?void 0:Q.moduleName)==="tasks");if(N(K.id),l(n==null?void 0:n.module),h(n==null?void 0:n.type),k(n==null?void 0:n.nextDateTime),K){const{payload:Q}=await a(St({id:(ye=K==null?void 0:K.id)==null?void 0:ye.toString()})),pt=Zt(Q.data);g(pt)}}catch(B){console.error("Error fetching module data:",B)}};(async()=>{const q=await f("tasks");await a(Tt()),await a(bt(q)),await a(ea()),await i()})()},[a]);const y=()=>{C.current.value<x&&(C.current.value=x)};E(i=>{var V,q;return(q=(V=i.crmTasks)==null?void 0:V.data)==null?void 0:q.selectedTask});const b=E(i=>i.crmTasks.data.drawerMode),D=Qt(),L=i=>{D.setFieldValue("tagId",i)},G=Va(),$=E(i=>i.crmTasks.data.usersList);fe.length=0,$==null||$.forEach(i=>{fe.push({label:`${i==null?void 0:i.firstName} ${i==null?void 0:i.lastName}`,value:i.id})});const ae=i=>{l(i.value),o("module",i==null?void 0:i.value),i!=null&&i.value&&me[i==null?void 0:i.value][0]&&d&&(D.setFieldValue("type",me[i==null?void 0:i.value][0]),I(me[i==null?void 0:i.value][0])),k("")},I=i=>{o("type",i==null?void 0:i.value),h(i.value)},F=E(i=>i.crmTasks.data.leadsList);return Te.length=0,F==null||F.forEach(i=>{Te.push({value:i.id,label:i.title})}),t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Module",invalid:e.module&&s.module,errorMessage:e.module,children:t.jsx(A,{type:"text",autoComplete:"off",name:"module",placeholder:"Module",component:ne,options:_e,value:(W=_e)==null?void 0:W.find(i=>(i==null?void 0:i.value)==(n==null?void 0:n.module)),prefix:t.jsx(we,{className:"text-xl"}),onChange:ae})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Type",invalid:e.type&&s.type,errorMessage:e.type,children:t.jsx(A,{type:"text",autoComplete:"off",name:"type",placeholder:"Type",component:ne,options:me[r]||[],value:(_=me[r])==null?void 0:_.find(i=>(i==null?void 0:i.value)==(n==null?void 0:n.type)),prefix:t.jsx(we,{className:"text-xl"}),onChange:I})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d==="followup"||d==="delivery"||d==="meeting"?t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:(H=He[d])==null?void 0:H.label,invalid:e.nextDateTime&&s.nextDateTime,errorMessage:e.nextDateTime,children:t.jsx(A,{ref:C,type:"dateTime-local",autoComplete:"off",name:"nextDateTime",placeholder:(ue=He[d])==null?void 0:ue.placeholder,component:R,prefix:t.jsx(be,{className:"text-xl"}),value:n.nextDateTime,min:x,onChange:i=>{k(i.target.value),o("nextDateTime",i.target.value)}})})}):null,d==="delivery"&&t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Delivery Address",invalid:e.address&&s.address,errorMessage:e.address,children:t.jsx(A,{type:"text",autoComplete:"off",name:"address",placeholder:"Delivery Address",component:R,prefix:t.jsx(be,{className:"text-xl"})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Title *",invalid:e.title&&s.title,errorMessage:e.title,children:t.jsx(A,{type:"text",autoComplete:"off",name:"title",placeholder:"Title",component:R,prefix:t.jsx(wt,{className:"text-xl"})})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Due Date *",invalid:e.dueDate&&s.dueDate,errorMessage:e.dueDate,children:t.jsx(A,{isDisabled:b==="Edit",type:"dateTime-local",autoComplete:"off",name:"dueDate",component:R,prefix:t.jsx(be,{className:"text-xl"}),min:x})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Priority *",invalid:e.priority&&s.priority,errorMessage:e.priority,children:t.jsx(ne,{name:"priority",id:"priority",components:G,value:Ye.find(i=>(i==null?void 0:i.value)===(n==null?void 0:n.priority)),options:Ye,onChange:i=>{o("priority",i.value||"")}})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Assigned To",invalid:e.assignedTo&&s.assignedTo,errorMessage:e.assignedTo,children:t.jsx(ne,{name:"assignedTo",id:"assignedTo",value:fe.find(i=>(i==null?void 0:i.value)===(n==null?void 0:n.assignedTo)),options:fe,onChange:i=>{o("assignedTo",i.value||"")}})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Connected Lead",invalid:e.connectedLead&&s.connectedLead,errorMessage:e.connectedLead,children:t.jsx(ne,{name:"connectedLead",id:"connectedLead",value:Te.find(i=>(i==null?void 0:i.value)===(n==null?void 0:n.connectedLead)),options:Te,onChange:i=>{o("connectedLead",i.value||"")}})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(M,{label:"Tag",children:t.jsx(A,{isClearable:!0,isMulti:!0,type:"text",autoComplete:"off",name:"tagId",placeholder:"Select tags",component:ne,options:v,prefix:t.jsx(we,{className:"text-xl"}),closeMenuOnSelect:!1,onChange:L})})})]}),t.jsx(M,{label:"Notes",invalid:e.descriptions&&s.descriptions,errorMessage:e.descriptions,children:t.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:R,prefix:t.jsx($e,{className:"text-xl"})})}),(p==null?void 0:p.length)>0?t.jsxs(t.Fragment,{children:[t.jsx(ta,{title:"Additional Details",desc:"",className:"mb-2"}),t.jsx("div",{style:u,children:p==null?void 0:p.map(i=>t.jsx("div",{children:t.jsx(M,{label:i==null?void 0:i.label,children:i.inputType==="textArea"?t.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:i.name,placeholder:i==null?void 0:i.label,defaultValue:i.defaultValue,component:R,prefix:t.jsx(Ge,{className:"text-xl"})}):t.jsx(A,{type:i.inputType,autoComplete:"off",name:i.name,placeholder:i==null?void 0:i.label,defaultValue:i.defaultValue,component:R,prefix:t.jsx(Ge,{className:"text-xl"})})})},i.id))})]}):null]})},Fa=De().shape({title:w().required("Title is Required"),module:w(),type:w(),tagId:tt(),connectedLead:w(),descriptions:w(),priority:w().oneOf(["none","low","medium","high"]).required("Priority is required"),nextDateTime:w().test("date-required","Date is required",function(c){const s=this.parent.type;return!((s==="followup"||s==="delivery"||s==="meeting")&&!c)})}),Ra=De().shape({module:w(),type:w(),nextDateTime:w().test("date-required","Date is required",function(c){const s=this.parent.type;return!((s==="followup"||s==="delivery"||s==="meeting")&&!c)}),address:w().test("Address is Require","Delivery Address is Require",function(c){return!(this.parent.type==="delivery"&&!c)}),title:w().required("Title is required"),dueDate:w().required("Due Date is required"),tagId:tt(),connectedLead:w(),descriptions:w(),assignedTo:w().test("is-valid-user","Invalid user selected",function(c){return this.parent.assignedTo&&this.parent.assignedTo.length>0?!!fe.find(s=>s.value==c):!0}),priority:w().oneOf(["none","low","medium","high"]).required("Priority is required")}),{TabNav:Pa,TabList:La,TabContent:$a}=Je,ut=m.forwardRef((c,s)=>{var x,T,S,k;const e=E(v=>{var g,p;return(p=(g=v.crmTasks)==null?void 0:g.data)==null?void 0:p.selectedTask}),o=E(v=>{var g;return(g=v.crmTasks.data.customField)==null?void 0:g.data}),n=E(v=>v.crmTasks.data.drawerMode),a=P();function r(v){if(!v)return"";const g=v.split("T");if(g.length!==2)return"";const p=g[0],j=g[1].slice(0,5);return`${p}T${j}`}const l=v=>{const g=new Date(v);if(isNaN(g.getTime()))return"";const p=g.getFullYear(),j=(g.getMonth()+1).toString().padStart(2,"0"),N=g.getDate().toString().padStart(2,"0"),C=g.getHours().toString().padStart(2,"0"),u=g.getMinutes().toString().padStart(2,"0");return`${p}-${j}-${N} ${C}:${u}`},d=async(v,g)=>{var ae,I,F,W,_,H,ue;const{colorName:p,tagName:j,dueDate:N,nextDateTime:C,...u}=v,f=o.reduce((i,V)=>(i[V.name]=v[V.name],i),{}),y=l(N),b=l(C);let D,L,G;if(n==="Add")D=await a(Et({dueDate:y,nextDateTime:b,...u,...f,tagId:v==null?void 0:v.tagId.map(i=>i.value)})),L="Successfully Added",G="Something went wrong !!!",(ae=D==null?void 0:D.payload)!=null&&ae.success&&a(Se());else{const i={...u,tagId:v==null?void 0:v.tagId.map(V=>V.value)};b&&(i.nextDateTime=b),D=await a(xe({taskId:e==null?void 0:e.id,data:i})),L="Successfully Updated",G="Something went wrong !!!",(I=D==null?void 0:D.payload)!=null&&I.success&&a(Se())}const $=(F=D==null?void 0:D.payload)!=null&&F.success?"success":"danger";le.push(t.jsx(ce,{title:(W=D==null?void 0:D.payload)!=null&&W.success?L:G,type:$,duration:2500,children:(_=D==null?void 0:D.payload)!=null&&_.success?(H=D==null?void 0:D.payload)==null?void 0:H.message:(ue=D==null?void 0:D.error)==null?void 0:ue.message}),{placement:"top-end"}),await a(ee()),await a(ge()),g(!1)},h=m.useMemo(()=>o==null?void 0:o.reduce((g,p)=>{var N;const j=(N=e==null?void 0:e.taskFields)==null?void 0:N.find(C=>(C==null?void 0:C.name)===(p==null?void 0:p.name));return g[p==null?void 0:p.name]=j?j==null?void 0:j.value:p!=null&&p.defaultValue?p==null?void 0:p.defaultValue:"",g},{}),[o]);return t.jsx(qe,{innerRef:s,initialValues:{module:(e==null?void 0:e.module)||"",type:(e==null?void 0:e.type)||"",nextDateTime:r(e==null?void 0:e.nextDateTime)||"",title:(e==null?void 0:e.title)||"",address:(e==null?void 0:e.address)||"",connectedLead:(e==null?void 0:e.connectedLead)||"",dueDate:r(e==null?void 0:e.dueDate)||"",descriptions:(e==null?void 0:e.descriptions)||"",tagId:((x=e==null?void 0:e.tags)==null?void 0:x.map(v=>({label:v.tagName,value:v.id})))||[],tagName:((S=(T=e==null?void 0:e.tags)==null?void 0:T[0])==null?void 0:S.tagName)||"",priority:(e==null?void 0:e.priority)||"",assignedTo:((k=e==null?void 0:e.assignedToData)==null?void 0:k.id)||"",colorName:e!=null&&e.tags&&(e==null?void 0:e.tags.length)>0?e==null?void 0:e.tags[0].colorName:"",...h},validationSchema:n==="Edit"?Fa:Ra,onSubmit:async(v,{setSubmitting:g})=>{await d(v,g)},children:({touched:v,errors:g,setFieldValue:p,values:j})=>t.jsx(Oe,{children:t.jsx(Le,{children:t.jsxs(Je,{defaultValue:"taskDetails",children:[t.jsx(La,{children:t.jsx(Pa,{value:"taskDetails",children:"Tasks details"})}),t.jsx("div",{className:"p-6",children:t.jsx($a,{value:"taskDetails",children:t.jsx(Aa,{touched:v,errors:g,values:j,setFieldValue:p})})})]})})})})});ut.displayName="TasksForm";const mt=m.forwardRef((c,s)=>{const e=P(),o=E(l=>{var d,h;return(h=(d=l.crmTasks)==null?void 0:d.data)==null?void 0:h.selectedTask}),n=E(l=>l.crmTasks.data.tasksList),{id:a}=o,r=l=>{const{name:d,birthday:h,email:x,img:T,location:S,title:k,phoneNumber:v,facebook:g,twitter:p,pinterest:j,linkedIn:N}=l,C={name:d,email:x,img:T},u={location:S,title:k,birthday:ht(h).format("DD/MM/YYYY"),phoneNumber:v,facebook:g,twitter:p,pinterest:j,linkedIn:N};let f=he(n),y={};f=f.map(b=>(b.id===a&&(b={...b,...C},b.personalInfo={...b.personalInfo,...u},y=b),b)),Kt(y)||e(xe(y)),e(Se()),e(Dt(f))};return t.jsx(ut,{ref:s,tasks:o,onFormSubmit:r})});mt.displayName="TasksEditContent";const qa=({onSaveClick:c,onCancel:s})=>t.jsxs("div",{className:"text-right w-full",children:[t.jsx(te,{size:"sm",className:"mr-2",onClick:s,children:"Cancel"}),t.jsx(te,{size:"sm",variant:"solid",onClick:c,children:"Save"})]}),Oa=()=>{const c=P(),s=E(d=>d.crmTasks.data.drawerOpen);E(d=>d.crmTasks.data.drawerMode),E(d=>{var h,x;return(x=(h=d.crmTasks)==null?void 0:h.data)==null?void 0:x.selectedTask});const[e,o]=m.useState(window.innerWidth/2),n=()=>{c(Se()),c(oe({}))},a=m.useRef(null),r=async()=>{var d;(d=a.current)==null||d.submitForm()};m.useEffect(()=>(window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}),[]);const l=()=>{o(window.innerWidth/2)};return t.jsx(qt,{isOpen:s,closable:!1,bodyClass:"p-0",width:e,footer:t.jsx(qa,{onCancel:n,onSaveClick:r}),onClose:n,onRequestClose:n,children:t.jsx(mt,{ref:a})})},Ua=()=>{const c=P(),s=E(u=>u.crmTasks.data.displayedTasksList),e=E(u=>u.crmTasks.data.loading);E(u=>u.crmTasks.data.filterData);const o=E(u=>u.crmTasks.data.tableData),n=Ce("tasks","canDelete"),a=Ce("tasks","canModify"),r=Ce("tasks","canView"),l=xt(),{pageIndex:d,pageSize:h,sort:x,query:T,total:S}=E(u=>u.crmTasks.data.tableData),k=m.useCallback(()=>{c(ee())},[c]);m.useEffect(()=>(k(),()=>{window.location.pathname.includes("task")||c(re({...o,query:""}))}),[k]);const v=m.useMemo(()=>({pageIndex:d,pageSize:h,sort:x,query:T,total:S}),[d,h,x,T,S]),g=({row:u})=>{const f=P();_t();const y=()=>{f(Ke()),f(oe(u)),f(Qe("Edit"))},b=async()=>{await f(oe(u)),f(Ae(!0))},D=async()=>{await f(oe(u));const $=`/app/crm/task-details/${u.id}`;l($)},L=async $=>{var W,_,H;const ae={completionStatus:$},I=await f(xe({taskId:u==null?void 0:u.id,data:ae})),F=(W=I==null?void 0:I.payload)!=null&&W.success?{title:"Successfully Updated",type:"success",message:(_=I==null?void 0:I.payload)==null?void 0:_.message}:{title:"Something Went Wrong !!!",type:"danger",message:(H=I==null?void 0:I.error)==null?void 0:H.message};le.push(t.jsx(ce,{title:F.title,type:F==null?void 0:F.type,duration:2500,children:F.message}),{placement:"top-end"}),await f(ee())},G=async()=>{if(u!=null&&u.type)switch(await f(oe(u)),u==null?void 0:u.type){case"followup":f(Ie(!0));break;case"quotation":f(Ve(!0));break;default:L("completed");break}else L("completed")};return t.jsxs("div",{className:"flex text-base items-center",children:[a&&t.jsx("button",{disabled:(u==null?void 0:u.completionStatus)==="completed",className:`cursor-pointer circle items-center ${(u==null?void 0:u.completionStatus)==="completed"?"!cursor-not-allowed":"cursor-pointer hover:text-indigo-500"}`,onClick:y,children:t.jsx(Mt,{})}),n&&t.jsx("span",{className:"cursor-pointer hover:text-red-500 circle  mx-1 items-center",onClick:b,children:t.jsx(It,{})}),r&&t.jsx("span",{className:"cursor-pointer  hover:text-green-500 circle items-center text-lg",onClick:D,children:t.jsx(Yt,{})}),a&&t.jsx(Ne,{title:"Move To In Progress",children:t.jsx("button",{disabled:(u==null?void 0:u.completionStatus)!=="pending",className:`cursor-pointer mx-1 circle items-center ${(u==null?void 0:u.completionStatus)!=="pending"?"!cursor-not-allowed":"cursor-pointer hover:text-amber-500"}`,onClick:()=>L("inProgress"),children:t.jsx(Bt,{})})},u.id+"inprogress"),a&&t.jsx(Ne,{title:"Move To Complete",children:t.jsx("button",{disabled:(u==null?void 0:u.completionStatus)==="completed",className:`cursor-pointer circle items-center ${(u==null?void 0:u.completionStatus)==="completed"?"!cursor-not-allowed":"cursor-pointer hover:text-emerald-500"}`,onClick:G,children:t.jsx(Gt,{})})},u.id+"complete")]})},p=m.useMemo(()=>[{header:"Action",id:"action",cell:f=>t.jsx(g,{row:f.row.original})},{header:"Title",accessorKey:"title",cell:f=>{const y=f.row.original.title;return t.jsx(Ne,{title:y,children:t.jsx(ke,{text:y,maxLength:20})},y)}},{header:"Due Date",accessorKey:"dueDate",cell:f=>{var y;return Ht((y=f.row.original)==null?void 0:y.dueDate).format("DD MMMM YYYY")}},{header:"priority",accessorKey:"priority",cell:f=>{const y=f.row.original.priority;return t.jsx(We,{status:y})}},{header:"module",accessorKey:"module",cell:f=>{var b;const y=(b=f.row.original)==null?void 0:b.module;return y?t.jsx(ke,{text:y,maxLength:20}):"-"}},{header:"type",accessorKey:"type",cell:f=>{var b;const y=(b=f.row.original)==null?void 0:b.type;return y?t.jsx(ke,{text:y,maxLength:20}):"-"}},{header:"Assigned to",accessorKey:"assignedTo",cell:f=>{const{firstName:y,lastName:b}=f.row.original.assignedToData||{};return y&&b?`${y} ${b}`:"-"}},{header:"Connected lead",accessorKey:"connectedLead",cell:f=>{var b;const y=f.row.original||{};return y!=null&&y.leadModel?`${(b=y==null?void 0:y.leadModel)==null?void 0:b.title}`:"-"}},{header:"Status",accessorKey:"completionStatus",cell:f=>{const y=f.row.original.completionStatus;return t.jsx(We,{status:y})}},{header:"Tag Name",accessorKey:"tagName",cell:f=>{const y=f.row.original.tags||[];return y.length===0?"-":t.jsx(Wt,{tags:y})}}],[a,n]),j=u=>{const f=he(v);f.pageIndex=u,c(re(f))},N=u=>{const f=he(v);f.pageSize=Number(u),f.pageIndex=1,c(re(f))},C=u=>{const f=he(v);f.sort=u,c(re(f))};return t.jsxs("div",{children:[t.jsx(Pt,{columns:p,data:s,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},loading:e,pagingData:{total:v.total,pageIndex:v.pageIndex,pageSize:v.pageSize},onPaginationChange:j,onSelectChange:N,onSort:C}),t.jsx(Oa,{}),t.jsx(rt,{}),t.jsx(it,{}),t.jsx(ra,{})]})},Me=c=>{const{icon:s,avatarClass:e,label:o,value:n,growthRate:a,loading:r}=c,l=55;return t.jsx($t,{bordered:!0,children:t.jsx(gt,{loading:r,customLoader:t.jsx(na,{avatarProps:{className:"rounded",width:l,height:l}}),children:t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Lt,{className:e,size:l,icon:s}),t.jsxs("div",{children:[t.jsx("span",{children:o}),t.jsx("h3",{children:t.jsx(sa,{thousandSeparator:!0,displayType:"text",value:n})})]})]})})})})},za=()=>{const c=P(),s=E(o=>o.crmTasks.data.statisticData),e=E(o=>o.crmTasks.data.statisticLoading);return m.useEffect(()=>{c(ge())},[]),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 mb-6",children:[t.jsx(Me,{icon:t.jsx(Vt,{}),avatarClass:"!bg-indigo-600",label:"Total Tasks",value:s==null?void 0:s.totalTasks,loading:e}),t.jsx(Me,{icon:t.jsx(At,{}),avatarClass:"!bg-blue-500",label:"Completed Tasks",value:s==null?void 0:s.completedTasks,loading:e}),t.jsx(Me,{icon:t.jsx(Ft,{}),avatarClass:"!bg-emerald-500",label:"This Week's New Tasks",value:s==null?void 0:s.newTasks,loading:e})]})};vt("crmTasks",Nt);const Wa=()=>t.jsxs(t.Fragment,{children:[t.jsx(za,{}),t.jsxs(yt,{bodyClass:"h-full",children:[t.jsx(ia,{}),t.jsx(Ua,{})]})]}),Os=Wa;export{Os as default};
