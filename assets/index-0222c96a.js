import{w as N,r as a,u as P,J as z,j as o}from"./index-01b42c77.js";import{A as V}from"./AdaptableCard-74120e91.js";import{M as C}from"./index-ca28e0d9.js";import{D as g}from"./Views-0a1f8861.js";import{C as v}from"./CustomFields-792e470f.js";import{I as E}from"./Inventory-8b828af5.js";import{O as b}from"./Organization-95862553.js";import{S as A}from"./Source-f514179d.js";import{S as F}from"./StateCity-f1897f23.js";import{T as M}from"./TagCategories-5fe688dc.js";import R from"./UsersRoles-532ff1b2.js";import{S as I}from"./Status-77d5ae7b.js";import"./Card-039a9ed6.js";import"./index-a6a0da8c.js";import"./index.esm-587e89d5.js";import"./useUniqueId-3c39e5d6.js";import"./toString-228d794c.js";import"./index-0fe1020b.js";import"./useControllableState-6df01025.js";import"./CrmService-fb54ad5b.js";import"./Button-a5544b15.js";import"./Input-b0748b3e.js";import"./isNil-93830b79.js";import"./get-4bda1c07.js";import"./_MapCache-466adbaa.js";import"./debounce-9cff76d4.js";import"./cloneDeep-29f2aae8.js";import"./_getPrototype-583e3aad.js";import"./DataTable-2544ad05.js";import"./index-f7318691.js";import"./index.esm-30f67dfd.js";import"./Pagination-d57e7c83.js";import"./Select-2cf95561.js";import"./slicedToArray-0eb2b673.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-f54b4040.js";import"./floating-ui.dom-4bc0055b.js";import"./index-dab07eaf.js";import"./_baseIsEqual-e4dc226f.js";import"./Skeleton-cf28f7d5.js";import"./index-ffd8f14d.js";import"./checkEditUpdate-27f908f6.js";import"./moment-fbc5633a.js";import"./useThemeClass-42da9995.js";import"./TextTruncate-93f99085.js";import"./Alert-ba84ad42.js";import"./useTimeout-459c0c98.js";import"./CloseButton-f0093569.js";import"./StatusIcon-f4c9b6a3.js";import"./index-b609fa7a.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-06c83e8f.js";import"./usePopper-f47dd5aa.js";import"./index.esm-b7456581.js";import"./index-5bdc2e1d.js";import"./Badge-6cc907e6.js";import"./RangeCalendar-7e850f6c.js";import"./index-a9a60eee.js";import"./useRootClose-25e3e193.js";import"./TimeInput-1e7df44b.js";import"./useDidUpdate-172f95a0.js";import"./Dialog-b7c1600d.js";import"./index-07bde89e.js";import"./Drawer-a351bd90.js";import"./index-71de6292.js";import"./useUncertainRef-9e1ddaf5.js";import"./chainedFunction-070f832c.js";import"./FormItem-4a386e6f.js";import"./index-2bfb9d4e.js";import"./toast-9d39500f.js";import"./Progress-613f4d7f.js";import"./index-8ad179bb.js";import"./ScrollBar-349c0130.js";import"./index-92468997.js";import"./index-b9cef8bb.js";import"./mapCloneElement-830eb65c.js";import"./Switcher-cf39306f.js";import"./Tag-989e3abd.js";import"./index-8359d520.js";import"./index-3b362267.js";import"./Upload-b982e753.js";import"./index.esm-68702517.js";import"./chart.constant-8991471a.js";import"./GrowShrinkTag-a3ea01ed.js";import"./react-tooltip.min-cd40762f.js";import"./RichTextEditor-d17e3214.js";import"./SegmentItemOption-b31b5145.js";import"./StickyFooter-db68b1b0.js";import"./SvgIcon-dc305fe7.js";import"./formik.esm-a8cc53a4.js";import"./index.esm-44ca1025.js";import"./index.esm-d51743a0.js";import"./helper-64c17a1c.js";import"./index.esm-e0d3397a.js";import"./ConfirmDialog-a691c410.js";import"./useGetModule-07162855.js";import"./index-6cd17dbd.js";import"./index.esm-1917add6.js";import"./index.esm-afe81195.js";import"./FormDesription-3c60f0a2.js";import"./FormRow-b8fcc223.js";import"./index.esm-b52970b0.js";import"./index-1aec1fe3.js";/* empty css              */import"./TagCategoryDetailsForm-5a458dca.js";import"./colorPicker-fef07fcc.js";const O=()=>{var d;const l=N(),[m,w]=a.useState({}),[p,u]=a.useState(null),c=P(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=z.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(U=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||y(s,e)||h(s)||j(s)||S(s,e))),n={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};w(n)},[l.pathname,c]);const h=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="status"?!!e:!1},y=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,S=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(n=>n.master.moduleName.toLowerCase()==="users"&&n.canView===!0),i=t.find(n=>n.master.moduleName.toLowerCase()==="roles"&&n.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[p==null?void 0:p.key]);const f=()=>{switch(p==null?void 0:p.key){case"appsCrm.organization":return o.jsx(b,{});case"appsCrm.usersrole":return o.jsx(R,{});case"appsCrm.tagCategories":return o.jsx(M,{});case"appsCrm.inventory":return o.jsx(E,{});case"appsCrm.statecity":return o.jsx(F,{});case"appsCrm.customFields":return o.jsx(v,{});case"appsCrm.status":return o.jsx(I,{});case"appsCrm.sources":return o.jsx(A,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(V,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Tr=O;export{Tr as default};
