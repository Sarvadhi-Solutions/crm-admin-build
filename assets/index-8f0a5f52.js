import{al as C,a as y,j as e,p as F}from"./index-82a4cdcd.js";import{B as S}from"./Button-0e96ba54.js";import{D as q}from"./index-320abfaa.js";import{F as I,a as p}from"./FormItem-f5087afb.js";import{I as c}from"./Input-8b535fd4.js";import{I as M}from"./index-c11d92d4.js";import{S as N,c as V}from"./Select-eb8671ae.js";import{c as b}from"./countries.constant-5369f7df.js";import{c as P}from"./index-7e7c2465.js";import{F as D,a as w,b as n}from"./formik.esm-fbd7cbeb.js";import{c as A,a as l}from"./index.esm-f6409e84.js";import{N as E}from"./react-number-format.es-ff723f9b.js";import"./Alert-62262f10.js";import"./index-c281b544.js";import"./Badge-df87bdc2.js";import"./RangeCalendar-823e8aaa.js";import"./Card-6707ff6e.js";import"./index-c91d029f.js";import"./Dialog-992e1d56.js";import"./Drawer-4bb376d7.js";import"./index-0428064e.js";import"./toString-b2e07e9a.js";import"./index-d64ec43f.js";import"./index-971eae45.js";import{t as R,N as $}from"./toast-4eea8663.js";import"./Pagination-7722c7db.js";import"./Progress-7d1211e0.js";import"./index-7a0e0b9f.js";import"./ScrollBar-b2904e17.js";import"./index-7b9d9e5f.js";import"./Skeleton-d36fd097.js";import"./index-04da13bb.js";import"./Switcher-a7e522ef.js";import"./index-4baab89c.js";import"./index-b111a719.js";import"./Tag-d5568307.js";import"./index-c63c62bb.js";import"./index-30e041a1.js";import"./Tooltip-5f04ccef.js";import"./Upload-341a9a0e.js";import"./useControllableState-3caf27a6.js";import"./useMergeRef-788c4cb0.js";import"./useRootClose-ca0d0d80.js";import"./usePopper-150e7e1f.js";import"./index.esm-9eb3698a.js";import"./CloseButton-d6bfe260.js";import"./TimeInput-10fd264b.js";import"./useUniqueId-cc8af61f.js";import"./useDidUpdate-f06e2487.js";import"./index-dff75ec8.js";import"./Views-5e6cd1d6.js";import"./isNil-ad4b9ef6.js";import"./get-71f6a308.js";import"./_MapCache-54b9aafe.js";import"./slicedToArray-d75d4238.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-26dffdfb.js";import"./floating-ui.dom-4bc0055b.js";import"./CrmService-a7ee7c84.js";import"./useTimeout-da6ce9b0.js";import"./StatusIcon-5a72f149.js";import"./cloneDeep-914ca532.js";import"./_getPrototype-b764c861.js";import"./_baseIsEqual-2b2683ef.js";import"./index-5ca2f98c.js";import"./useUncertainRef-0553f5d8.js";import"./chainedFunction-070f832c.js";import"./mapCloneElement-c79fb68e.js";import"./index.esm-4533a1af.js";import"./index.esm-e60cf8ff.js";import"./index.esm-bb858611.js";const{SingleValue:k}=V,j=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Others",value:"other"}],B=a=>e.jsx(c,{...a,value:a.field.value}),L=({onValueChange:a,...m})=>e.jsx(E,{customInput:c,type:"text",autoComplete:"off",onValueChange:a,...m}),O=({innerProps:a,data:m,isSelected:h})=>e.jsx("div",{className:`cursor-pointer flex items-center justify-between p-2 ${h?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"}`,...a,children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{children:["(",m.value,") ",m.dialCode]})})}),Y=a=>{const m=a.getValue()[0];return e.jsx(k,{...a,children:m&&e.jsx("span",{children:m.dialCode})})},G=A().shape({firstName:l().required("First Name Required"),lastName:l().required("Last Name Required"),email:l().email("Invalid email").required("Email Required"),phoneNumber:l().typeError("Contact must be a number").required("Contact is required").test("is-number","Contact must be a number",a=>!isNaN(a)).test("is-ten-digits","Contact must be exactly 10 digits",a=>{if(a){const m=Number(a);return/^\d{10}$/.test(m.toString())}return!0}).test("is-ten-digits","Contact number cannot start with 0",a=>a?!a.startsWith("0"):!0),dob:l().required("Please enter your date of birth"),gender:l().required("Please enter your gender"),dialCode:l().required("Please select dial code")}),U=({data:a={firstName:"",lastName:"",email:"",dialCode:"",phoneNumber:"",dob:"",gender:""},onNextChange:m,currentStepStatus:h})=>{const f=C(),v=y();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"mb-2",children:"Personal Information"}),e.jsx("p",{children:"Basic information for an account opening"})]}),e.jsx(D,{initialValues:a,enableReinitialize:!0,validationSchema:G,onSubmit:async(u,{setSubmitting:s})=>{var i,g,x;s(!0);const t=await v(P(u));let d="",r="",o="danger";(i=t==null?void 0:t.payload)!=null&&i.success?(d="Successfully Added",r=(g=t==null?void 0:t.payload)==null?void 0:g.message,o="success",f("/welcome")):(d="Something went wrong !!!",r=(x=t==null?void 0:t.error)==null?void 0:x.message),R.push(e.jsx($,{title:d,type:o,duration:2500,children:r}),{placement:"top-end"})},children:({values:u,touched:s,errors:t,isSubmitting:d})=>e.jsx(w,{children:e.jsxs(I,{children:[e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(p,{label:"First Name",invalid:t.firstName&&s.firstName,errorMessage:t.firstName,children:e.jsx(n,{type:"text",autoComplete:"off",name:"firstName",placeholder:"First Name",component:c})}),e.jsx(p,{label:"Last Name",invalid:t.lastName&&s.lastName,errorMessage:t.lastName,children:e.jsx(n,{type:"text",autoComplete:"off",name:"lastName",placeholder:"Last Name",component:c})})]}),e.jsx(p,{label:"Email",invalid:t.email&&s.email,errorMessage:t.email,children:e.jsx(n,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:c})}),e.jsx("div",{className:"md:grid grid-cols-2 gap-4",children:e.jsx(p,{label:"Gender",invalid:t.gender&&s.gender,errorMessage:t.gender,children:e.jsx(n,{name:"gender",children:({field:r,form:o})=>e.jsx(N,{placeholder:"Gender",field:r,form:o,options:j,value:j.filter(i=>i.value===u.gender),onChange:i=>o.setFieldValue(r.name,i==null?void 0:i.value)})})})}),e.jsxs("div",{className:"md:grid grid-cols-2 gap-4",children:[e.jsx(p,{label:"Phone Number",invalid:t.dialCode&&s.dialCode||t.phoneNumber&&s.phoneNumber,errorMessage:t.phoneNumber,children:e.jsxs(M,{children:[e.jsx(n,{name:"dialCode",children:({field:r,form:o})=>e.jsx(N,{className:"min-w-[130px]",placeholder:"Dial Code",components:{Option:O,SingleValue:Y},field:r,form:o,options:b,value:b.filter(i=>i.value===u.dialCode),onChange:i=>o.setFieldValue(r.name,i==null?void 0:i.value)})}),e.jsx(n,{name:"phoneNumber",children:({field:r,form:o})=>e.jsx(L,{form:o,field:r,customInput:B,placeholder:"Phone Number",onValueChange:i=>{o.setFieldValue(r.name,i.value)}})})]})}),e.jsx(p,{label:"Date of Birth",invalid:t.dob&&s.dob,errorMessage:t.dob,children:e.jsx(n,{name:"dob",placeholder:"Date",children:({field:r,form:o})=>e.jsx(q,{field:r,form:o,value:r.value,onChange:i=>{o.setFieldValue(r.name,F(i).format("YYYY-MM-DD"))}})})})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(S,{loading:d,variant:"solid",type:"submit",children:h==="complete"?"Save":"Submit"})})]})})})]})},st=U;export{st as default};
