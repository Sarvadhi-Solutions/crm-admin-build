import{_ as T}from"./extends-98964cd2.js";import{r as g,aw as A}from"./index-f40e4d75.js";import{b as M,v as q,g as z,e as B,u as F,f as G}from"./Select-1c5bed57.js";import{_ as b}from"./toConsumableArray-b6817789.js";import{_ as H}from"./objectWithoutProperties-8e2777d0.js";var I=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],j=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,r=String(t).toLowerCase(),n=String(o.getOptionValue(a)).toLowerCase(),c=String(o.getOptionLabel(a)).toLowerCase();return n===r||c===r},L={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,o,r){return!(!t||a.some(function(n){return j(t,n,r)})||o.some(function(n){return j(t,n,r)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function J(e){var t=e.allowCreateWhileLoading,a=t===void 0?!1:t,o=e.createOptionPosition,r=o===void 0?"last":o,n=e.formatCreateLabel,c=n===void 0?L.formatCreateLabel:n,w=e.isValidNewOption,N=w===void 0?L.isValidNewOption:w,$=e.getNewOptionData,O=$===void 0?L.getNewOptionData:$,v=e.onCreateOption,h=e.options,l=h===void 0?[]:h,d=e.onChange,i=H(e,I),_=i.getOptionValue,S=_===void 0?z:_,V=i.getOptionLabel,P=V===void 0?B:V,s=i.inputValue,y=i.isLoading,D=i.isMulti,m=i.value,W=i.name,p=g.useMemo(function(){return N(s,M(m),l,{getOptionValue:S,getOptionLabel:P})?O(s,c(s)):void 0},[c,O,P,S,s,N,l,m]),E=g.useMemo(function(){return(a||!y)&&p?r==="first"?[p].concat(b(l)):[].concat(b(l),[p]):l},[a,r,y,p,l]),k=g.useCallback(function(u,f){if(f.action!=="select-option")return d(u,f);var x=Array.isArray(u)?u:[u];if(x[x.length-1]===p){if(v)v(s);else{var C=O(s,s),R={action:"create-option",name:W,option:C};d(q(D,[].concat(b(M(m)),[C]),C),R)}return}d(u,f)},[O,s,D,W,p,v,d,m]);return A(A({},i),{},{options:E,onChange:k})}var K=g.forwardRef(function(e,t){var a=F(e),o=J(a);return g.createElement(G,T({ref:t},o))}),ee=K;export{ee as C};
