import{j as e}from"./index-b09faefa.js";import{I as x}from"./Input-8c731b0c.js";import{A as j}from"./index-2f1f758f.js";import{U as N}from"./Upload-8f332031.js";import{B as g}from"./Button-3bdf4581.js";import{S as F,c as C}from"./Select-71db8857.js";import{S as P}from"./Switcher-e643b9c6.js";import{t as O,N as U}from"./toast-2c9f9fcf.js";import{F as R}from"./FormItem-cdcc11d5.js";import{F as b}from"./FormDesription-3c84f725.js";import{F as o}from"./FormRow-2ec455a7.js";import{F as S,a as k,b as m}from"./formik.esm-93e44345.js";import{q as w,bj as T,J as D,bk as H,b9 as L,d as Z}from"./index.esm-2c67faf2.js";import{c as q,a as c,d as z}from"./index.esm-333232d6.js";import"./context-80e77f1b.js";import"./Views-57e82c67.js";import"./isNil-f81aee01.js";import"./get-263a9377.js";import"./toString-9cef9a7f.js";import"./_MapCache-a97510fd.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-5b8c5fcd.js";import"./usePopper-29fe3cd5.js";import"./index.esm-7a963ea9.js";import"./index-62df96f3.js";import"./cloneDeep-de9ec659.js";import"./_Uint8Array-b1a93c95.js";import"./_getPrototype-3540f1e6.js";import"./index.esm-a78f5b32.js";import"./CloseButton-13cd4a8c.js";import"./slicedToArray-00fbfd7c.js";import"./objectWithoutProperties-8e2777d0.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./extends-98964cd2.js";import"./toConsumableArray-f69b773e.js";import"./floating-ui.dom-bef9cea3.js";import"./useTimeout-68d097ea.js";import"./StatusIcon-b02f9bab.js";import"./chainedFunction-070f832c.js";const{Control:E}=C,A=q().shape({name:c().min(3,"Too Short!").max(12,"Too Long!").required("User Name Required"),email:c().email("Invalid email").required("Email Required"),title:c(),avatar:c(),lang:c(),timeZone:c(),syncData:z()}),v=[{value:"en",label:"English (US)",imgPath:"/img/countries/us.png"},{value:"ch",label:"中文",imgPath:"/img/countries/cn.png"},{value:"jp",label:"日本语",imgPath:"/img/countries/jp.png"},{value:"fr",label:"French",imgPath:"/img/countries/fr.png"}],B=({innerProps:p,label:r,data:n,isSelected:a})=>e.jsxs("div",{className:`flex items-center justify-between p-2 ${a?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"}`,...p,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{shape:"circle",size:20,src:n.imgPath}),e.jsx("span",{className:"ml-2 rtl:mr-2",children:r})]}),a&&e.jsx(Z,{className:"text-emerald-500 text-xl"})]}),V=({children:p,...r})=>{const n=r.getValue()[0];return e.jsxs(E,{...r,children:[n&&e.jsx(j,{className:"ltr:ml-4 rtl:mr-4",shape:"circle",size:18,src:n.imgPath}),p]})},Re=({data:p={name:"",email:"",title:"",avatar:"",timeZone:"",lang:"",syncData:!1}})=>{const r=(a,t,u)=>{a.setFieldValue(t.name,URL.createObjectURL(u[0]))},n=(a,t)=>{console.log("values",a),O.push(e.jsx(U,{title:"Profile updated",type:"success"}),{placement:"top-center"}),t(!1)};return e.jsx(S,{enableReinitialize:!0,initialValues:p,validationSchema:A,onSubmit:(a,{setSubmitting:t})=>{t(!0),setTimeout(()=>{n(a,t)},1e3)},children:({values:a,touched:t,errors:u,isSubmitting:f,resetForm:y})=>{const i={touched:t,errors:u};return e.jsx(k,{children:e.jsxs(R,{children:[e.jsx(b,{title:"General",desc:"Basic info, like your name and address that will displayed in public"}),e.jsx(o,{name:"name",label:"Name",...i,children:e.jsx(m,{type:"text",autoComplete:"off",name:"name",placeholder:"Name",component:x,prefix:e.jsx(w,{className:"text-xl"})})}),e.jsx(o,{name:"email",label:"Email",...i,children:e.jsx(m,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:x,prefix:e.jsx(T,{className:"text-xl"})})}),e.jsx(o,{name:"avatar",label:"Avatar",...i,children:e.jsx(m,{name:"avatar",children:({field:l,form:d})=>{const s=l.value?{src:l.value}:{};return e.jsx(N,{className:"cursor-pointer",showList:!1,uploadLimit:1,onChange:h=>r(d,l,h),onFileRemove:h=>r(d,l,h),children:e.jsx(j,{className:"border-2 border-white dark:border-gray-800 shadow-lg",size:60,shape:"circle",icon:e.jsx(D,{}),...s})})}})}),e.jsx(o,{name:"title",label:"Title",...i,border:!1,children:e.jsx(m,{type:"text",autoComplete:"off",name:"title",placeholder:"Title",component:x,prefix:e.jsx(H,{className:"text-xl"})})}),e.jsx(b,{className:"mt-8",title:"Preferences",desc:"Your personalized preference displayed in your account"}),e.jsx(o,{name:"lang",label:"Language",...i,children:e.jsx(m,{name:"lang",children:({field:l,form:d})=>e.jsx(F,{field:l,form:d,options:v,components:{Option:B,Control:V},value:v.filter(s=>s.value===(a==null?void 0:a.lang)),onChange:s=>d.setFieldValue(l.name,s==null?void 0:s.value)})})}),e.jsx(o,{name:"timeZone",label:"Time Zone",...i,children:e.jsx(m,{readOnly:!0,type:"text",autoComplete:"off",name:"timeZone",placeholder:"Time Zone",component:x,prefix:e.jsx(L,{className:"text-xl"})})}),e.jsx(o,{name:"syncData",label:"Sync Data",...i,border:!1,children:e.jsx(m,{name:"syncData",component:P})}),e.jsxs("div",{className:"mt-4 ltr:text-right",children:[e.jsx(g,{className:"ltr:mr-2 rtl:ml-2",type:"button",onClick:()=>y(),children:"Reset"}),e.jsx(g,{variant:"solid",loading:f,type:"submit",children:f?"Updating":"Update"})]})]})})}})};export{Re as default};
