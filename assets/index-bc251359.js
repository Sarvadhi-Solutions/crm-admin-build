import{a as k,j as e,r as C,ap as ce,aq as le}from"./index-4b23f9f2.js";import{A as de}from"./AdaptableCard-6d843750.js";import{F as K}from"./FormDesription-b8f6f21d.js";import{D as me}from"./DataTable-c4a099e3.js";import{T as pe}from"./TagsList-d496cf7d.js";import{T as O}from"./TextTruncate-42abfbdd.js";import{u as W}from"./checkEditUpdate-dad7f0b6.js";import{u as ue}from"./useThemeClass-2218883f.js";import{c as Z}from"./cloneDeep-7f7711f3.js";import{N as xe,O as he,P as fe,b as ge}from"./index.esm-e8a4d9e3.js";import{u as j,t as V,d as Ce,g as P,a as Y,b as je,c as Ne,e as be,f as ye,h as ve,i as Ie,j as we,k as ee,l as Se,m as De,n as te,s as B,o as R,p as ae,r as Te}from"./index-4e94c065.js";import{t as _,N as G}from"./toast-01acb463.js";import{C as Fe}from"./ConfirmDialog-f33448c6.js";import{B as U}from"./Button-a87a2e46.js";import{D as Ae}from"./Drawer-7cb84764.js";import{a as y,F as Me}from"./FormItem-83b1322c.js";import{T as se}from"./index-61e0f5b7.js";import{u as ze,b as S,F as Ee,a as ke}from"./formik.esm-25368bc5.js";import{c as Le,a as w,e as qe}from"./index.esm-dc2ded9f.js";import{I as T}from"./Input-6deb6f13.js";/* empty css              */import{T as Re,e as Oe}from"./index.esm-3991c775.js";import"./Alert-fa9d0487.js";import"./index-e9d5fe85.js";import"./Badge-84757ba5.js";import"./RangeCalendar-208190e3.js";import"./Card-74d89d1e.js";import"./index-5f058379.js";import"./index-8d3acbcc.js";import"./Dialog-3deb7f0e.js";import"./index-61dfa989.js";import"./toString-808a232b.js";import"./index-f452e3c1.js";import"./index-16ecbf84.js";import"./index-c20d3f97.js";import"./Pagination-b7445f7d.js";import"./Progress-26519a5b.js";import"./index-61b07bb6.js";import"./ScrollBar-9c634026.js";import"./index-b2764899.js";import{S as $}from"./Select-4aee735d.js";import"./Skeleton-d609680e.js";import"./index-de1abaee.js";import"./Switcher-031290dc.js";import"./index-1a8e49e3.js";import"./Tag-31cf62c8.js";import"./index-a6566abb.js";import"./index-c6827dae.js";import{T as H}from"./Tooltip-7118406c.js";import"./Upload-75447e1c.js";import{t as $e}from"./tagAndCategory-228f57e7.js";import{B as Ke}from"./index.esm-b757f9d5.js";import{F as Be}from"./index.esm-1840726c.js";import{F as J}from"./index.esm-ed05c595.js";import{G as Q}from"./index.esm-f650e764.js";import{M as We}from"./index.esm-ee2dedfd.js";import{C as Ze}from"./react-select-creatable.esm-662f96dc.js";import{B as X}from"./index.esm-8e858871.js";import{a as Pe}from"./index.esm-9b5dbb94.js";import{d as He}from"./debounce-4b50c32a.js";import"./index-0aa0f43b.js";import"./moment-fbc5633a.js";import"./_MapCache-8ec314e0.js";import"./Views-6ea63120.js";import"./_getPrototype-67c3ae2d.js";import"./CrmService-4928d825.js";import"./useTimeout-13bed03b.js";import"./CloseButton-53cc5777.js";import"./StatusIcon-e1b59b5e.js";import"./chainedFunction-070f832c.js";import"./index-5589af6a.js";import"./index-4fdc30db.js";import"./useControllableState-7c2b4a82.js";import"./isNil-6d05c28f.js";import"./get-5fd819d1.js";import"./useMergeRef-788c4cb0.js";import"./_baseIsEqual-7357c66b.js";import"./useRootClose-274cbb20.js";import"./usePopper-6b55e4c5.js";import"./TimeInput-3b99d073.js";import"./useUniqueId-05e6e2ef.js";import"./useDidUpdate-88eea7c0.js";import"./useUncertainRef-182c539d.js";import"./slicedToArray-41477189.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-8b0e89b6.js";import"./floating-ui.dom-bef9cea3.js";import"./mapCloneElement-d4d7b003.js";import"./index.esm-43ba8e56.js";const Ve=()=>{const o=k(),n=j(l=>l.crmContact.data.deleteConfirmation),t=j(l=>l.crmContact.data.selectedContact),c=()=>{o(V(!1))},m=async()=>{var i,h,g;o(V(!1));const l=await o(Ce(t==null?void 0:t.id));(i=l==null?void 0:l.payload)!=null&&i.success?_.push(e.jsx(G,{title:"Successfuly Deleted",type:"success",duration:2500,children:(h=l==null?void 0:l.payload)==null?void 0:h.message}),{placement:"top-end"}):_.push(e.jsx(G,{title:"Something Went Wrong !!!",type:"danger",duration:2500,children:(g=l==null?void 0:l.error)==null?void 0:g.message}),{placement:"top-end"}),await o(P()),await o(Y())};return e.jsx(Fe,{isOpen:n,type:"danger",title:"Delete Contact",confirmButtonColor:"red-600",onClose:c,onRequestClose:c,onCancel:c,onConfirm:m,children:e.jsx("p",{children:"Are you sure you want to delete this Contact? All record related to this contact will be deleted as well. This action cannot be undone."})})},_e=o=>{const{touched:n,errors:t,values:c,setFieldValue:m,customFieldData:l}=o,i=k(),[h,g]=C.useState([]),[v,F]=C.useState(null),I=j(a=>{var s;return(s=a.crmContact.data)==null?void 0:s.customField});console.log("customField",I),j(a=>a.crmContact.data.contactList);const u=j(a=>a.crmContact.data.companyList),f=j(a=>a.crmContact.data.sources),p=j(a=>a.crmContact.data.states);j(a=>a.crmContact.data.cities);const D=C.useMemo(()=>u==null?void 0:u.map(a=>({value:a.id,label:a.companyName})),[u]),A=C.useMemo(()=>p==null?void 0:p.map(a=>({value:a.id,label:a.stateName})),[p]),M=C.useMemo(()=>{var s;const a=p==null?void 0:p.find(N=>N.id===c.stateId);return((s=a==null?void 0:a.cities)==null?void 0:s.map(N=>({value:N.id,label:N.cityName})))||[]},[p,v]),L=C.useMemo(()=>f==null?void 0:f.map(s=>({label:s.sources,value:s.id})),[f]),q={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"};C.useEffect(()=>{(async()=>{var s,N;try{const{payload:b}=await i(ve()),z=(s=b==null?void 0:b.data)==null?void 0:s.find(E=>(E==null?void 0:E.moduleName)==="contacts");if(z){const{payload:E}=await i(Ie({id:(N=z==null?void 0:z.id)==null?void 0:N.toString()})),ie=$e(E==null?void 0:E.data);g(ie)}}catch(b){console.error("Error fetching module data:",b)}})(),i(je()),i(Ne()),i(be()),i(ye())},[i]);const x=ze(),r=a=>{x.setFieldValue("tagId",a)},d=async(a,s)=>{const N={sources:a==null?void 0:a.label};switch(s.action){case"create-option":await i(we(N)),await i(ee());break;case"select-option":m("sourceId",a);break;case"clear":m("sourceId",null);break}};return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Contact Basic Information",desc:"",className:"mb-2"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"First Name *",invalid:t.firstName&&n.firstName,errorMessage:t.firstName,children:e.jsx(S,{type:"text",autoComplete:"off",name:"firstName",placeholder:"First Name",component:T,prefix:e.jsx(J,{className:"text-xl"})})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"Last Name *",invalid:t.lastName&&n.lastName,errorMessage:t.lastName,children:e.jsx(S,{type:"text",autoComplete:"off",name:"lastName",placeholder:"Last Name",component:T,prefix:e.jsx(J,{className:"text-xl"})})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"Email *",invalid:t.email&&n.email,errorMessage:t.email,children:e.jsx(S,{type:"text",autoComplete:"off",name:"email",placeholder:"Email",component:T,prefix:e.jsx(xe,{className:"text-xl"})})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"Contact Number *",invalid:t.contactNumber&&n.contactNumber,errorMessage:t.contactNumber,children:e.jsx(S,{type:"tel",autoComplete:"off",name:"contactNumber",placeholder:"Contact Number",component:T,prefix:e.jsx(Ke,{className:"text-xl"})})})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"Title",invalid:t.title&&n.title,errorMessage:t.title,children:e.jsx(S,{type:"text",autoComplete:"off",name:"title",placeholder:"Title",component:T,prefix:e.jsx(We,{className:"text-xl"})})})})}),e.jsx(y,{label:"Notes",invalid:t.description&&n.description,errorMessage:t.description,children:e.jsx(S,{textArea:!0,type:"text",autoComplete:"off",name:"description",placeholder:"Notes",component:T,prefix:e.jsx(Re,{className:"text-xl"})})}),e.jsx(K,{title:"Address",desc:"",className:"mb-2"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"Address",invalid:t.address&&n.address,errorMessage:t.address,children:e.jsx(S,{type:"text",autoComplete:"off",name:"address",placeholder:"Address",component:T,prefix:e.jsx(Be,{className:"text-xl"})})})}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"State",invalid:t.stateId&&n.stateId,errorMessage:t.stateId,children:e.jsx($,{name:"stateId",placeholder:"Select State",options:A,id:"stateId",value:A==null?void 0:A.find(a=>(a==null?void 0:a.value)==(c==null?void 0:c.stateId)),onChange:a=>{const s=a.value;c.stateId!==s&&m("cityId",""),m("stateId",s||""),F(s)}})})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"City",invalid:t.cityId&&n.cityId,errorMessage:t.cityId,children:e.jsx($,{name:"cityId",placeholder:"Select City",options:M,id:"cityId",value:(M==null?void 0:M.find(a=>(a==null?void 0:a.value)===(c==null?void 0:c.cityId)))||{value:"",label:"Select City"},onChange:a=>{const s=a.value;s!==c.cityId&&m("cityId",s||"")}})})})}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"ZipCode",invalid:t.zipcode&&n.zipcode,errorMessage:t.zipcode,children:e.jsx(S,{type:"text",autoComplete:"off",name:"zipcode",placeholder:"ZipCode",component:T,prefix:e.jsx(Oe,{className:"text-xl"})})})})})})]}),e.jsx(K,{title:"Contact Others Details",desc:"",className:"mb-2"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"Company Name",invalid:t.companiesId&&n.companiesId,errorMessage:t.companiesId,children:e.jsx($,{name:"companiesId",placeholder:"Company Name",options:D,id:"companiesId",value:D==null?void 0:D.find(a=>(a==null?void 0:a.value)==(c==null?void 0:c.companiesId)),onChange:a=>{const s=a.value;m("companiesId",s||"")}})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"Source",invalid:t.source&&n.source,errorMessage:t.source,children:e.jsx(S,{isClearable:!0,type:"text",autoComplete:"off",name:"sourceId",placeholder:"Source",component:$,componentAs:Ze,options:L,prefix:e.jsx(Q,{className:"text-xl"}),onChange:d})})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsx("div",{className:"col-span-1",children:e.jsx(y,{label:"Tag",children:e.jsx(S,{isClearable:!0,isMulti:!0,type:"text",autoComplete:"off",name:"tagId",placeholder:"Select tags",component:$,options:h,prefix:e.jsx(Q,{className:"text-xl"}),closeMenuOnSelect:!1,onChange:r})})})}),(I==null?void 0:I.length)>0?e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Additional Details",desc:"",className:"mb-2"}),e.jsx("div",{style:q,children:I==null?void 0:I.map(a=>e.jsx("div",{children:e.jsx(y,{label:a==null?void 0:a.label,children:a.inputType==="textArea"?e.jsx(S,{textArea:!0,type:"text",autoComplete:"off",name:a.name,placeholder:a==null?void 0:a.label,defaultValue:a==null?void 0:a.defaultValue,component:T,prefix:e.jsx(X,{className:"text-xl"})}):e.jsx(S,{type:a.inputType,autoComplete:"off",name:a.name,placeholder:a==null?void 0:a.label,defaultValue:a==null?void 0:a.defaultValue,component:T,prefix:e.jsx(X,{className:"text-xl"})})})},a.id))})]}):null]})},Ge=Le().shape({firstName:w().required("First Name is required"),lastName:w().required("Last Name is required"),title:w(),contactNumber:w().typeError("Contact must be a number").required("Contact is required").test("is-number","Contact must be a number",o=>!isNaN(o)).test("is-ten-digits","Contact must be exactly 10 digits",o=>{if(o){const n=Number(o);return/^\d{10}$/.test(n.toString())}return!0}).test("is-ten-digits","Contact number cannot start with 0",o=>o?!o.startsWith("0"):!0),email:w().matches(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i,"Invalid email").required("Email is required"),address:w(),stateId:w(),cityId:w(),zipcode:w().test("is-number","ZipCode must be a number",o=>!(o&&isNaN(Number(o)))).test("is-six-digits","ZipCode must be exactly 6 digits",o=>!(o&&o.length!==6)),companiesId:w().nullable(),companyName:w(),source:w().nullable(),description:w(),tagId:qe()}),{TabNav:Ue,TabList:Je,TabContent:Qe}=se,oe=C.forwardRef((o,n)=>{var h,g,v,F,I;const t=j(u=>{var f,p;return(p=(f=u.crmContact)==null?void 0:f.data)==null?void 0:p.selectedContact}),c=j(u=>{var f,p;return(p=(f=u.crmContact)==null?void 0:f.data)==null?void 0:p.sources}),m=C.useMemo(()=>c.map(f=>({label:f.sources,value:f.id})),[c]),l=!!t.id,i=k();return e.jsx(Ee,{innerRef:n,initialValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",title:(t==null?void 0:t.title)||"",email:(t==null?void 0:t.email)||"",contactNumber:(t==null?void 0:t.contactNumber)||"",description:(t==null?void 0:t.description)||"",companyName:((h=t==null?void 0:t.company)==null?void 0:h.companyName)||"",sourceId:t!=null&&t.sourceId?m.find(u=>u.value===(t==null?void 0:t.sourceId)):null,address:(t==null?void 0:t.address)||"",stateId:(t==null?void 0:t.stateId)||"",cityId:(t==null?void 0:t.cityId)||"",zipcode:(t==null?void 0:t.zipcode)||"",tagName:((v=(g=t==null?void 0:t.tags)==null?void 0:g[0])==null?void 0:v.tagName)||"",tagId:((F=t==null?void 0:t.tags)==null?void 0:F.map(u=>({label:u.tagName,value:u.id})))||[],companiesId:(t==null?void 0:t.companiesId)||"",...(I=t==null?void 0:t.contactFields)==null?void 0:I.reduce((u,f)=>(u[f.customKey.name]=f.value||"",u),{})},validationSchema:Ge,onSubmit:async(u,{setSubmitting:f})=>{var p,D,A,M,L,q,x;try{const{tagName:r,...d}=u;console.log({values:u});const a={...d,sourceId:(p=d==null?void 0:d.sourceId)==null?void 0:p.value,tagId:d==null?void 0:d.tagId.map(E=>E.value)};console.log({payload:a});const s=l?await i(Se({contactId:(t==null?void 0:t.id)||"",updatedData:a})):await i(De(a)),N=(D=s==null?void 0:s.payload)!=null&&D.success?"Successfully Added":"Something went wrong !!!",b=(A=s==null?void 0:s.payload)!=null&&A.success?"success":"danger",z=(M=s==null?void 0:s.payload)!=null&&M.success?(L=s==null?void 0:s.payload)==null?void 0:L.message:(q=s==null?void 0:s.error)==null?void 0:q.message;_.push(e.jsx(G,{title:N,type:b,duration:2500,children:z}),{placement:"top-end"}),(x=s==null?void 0:s.payload)!=null&&x.success&&i(te()),await i(P()),await i(Y())}catch(r){console.error(r)}finally{f(!1)}},children:({touched:u,errors:f,values:p,setFieldValue:D})=>e.jsx(ke,{children:e.jsx(Me,{children:e.jsxs(se,{defaultValue:"personalInfo",children:[e.jsx(Je,{children:e.jsx(Ue,{value:"personalInfo",children:"Contact Details"})}),e.jsx("div",{className:"p-6",children:e.jsx(Qe,{value:"personalInfo",children:e.jsx(_e,{touched:u,errors:f,values:p,setFieldValue:D})})})]})})})})});oe.displayName="ContactForm";const re=C.forwardRef((o,n)=>{k();const t=j(m=>{var l,i;return(i=(l=m.crmContact)==null?void 0:l.data)==null?void 0:i.selectedContact});j(m=>m.crmContact.data.contactList);const c=async m=>{};return e.jsx(oe,{ref:n,contact:t,onFormSubmit:c})});re.displayName="ContactEditContent";const Xe=({onSaveClick:o,onCancel:n})=>e.jsxs("div",{className:"text-right w-full",children:[e.jsx(U,{size:"sm",className:"mr-2",onClick:n,children:"Cancel"}),e.jsx(U,{size:"sm",variant:"solid",onClick:o,children:"Save"})]}),Ye=()=>{const o=k(),[n,t]=C.useState(window.innerWidth/2),c=j(g=>{var v,F;return(F=(v=g.crmContact)==null?void 0:v.data)==null?void 0:F.drawerOpen}),m=()=>{o(te()),o(B({}))},l=C.useRef(null),i=()=>{var g,v;console.log("formSubmit function called",(g=l.current)==null?void 0:g.values),(v=l.current)==null||v.submitForm()},h=()=>{t(window.innerWidth/2)};return C.useEffect(()=>(window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[]),e.jsx(Ae,{isOpen:c,closable:!1,bodyClass:"p-0",width:n,footer:e.jsx(Xe,{onCancel:m,onSaveClick:i}),onClose:m,onRequestClose:m,children:e.jsx(re,{ref:l})})},et=()=>{const o=k(),n=j(x=>x.crmContact.data.displayedContactList),t=j(x=>x.crmContact.data.tableData),c=W("contacts","canModify"),m=W("contacts","canDelete"),l=W("contacts","canView"),i=j(x=>x.crmContact.data.loading),h=ce(),{pageIndex:g,pageSize:v,sort:F,query:I,total:u}=j(x=>x.crmContact.data.tableData),f=C.useCallback(()=>{o(P()),o(ee())},[o]);C.useEffect(()=>(f(),()=>{window.location.pathname.includes("contact")||o(R({...t,query:""}))}),[f]);const p=C.useMemo(()=>({pageIndex:g,pageSize:v,sort:F,query:I,total:u}),[g,v,F,I,u]),D=({row:x})=>{const r=k();ue();const d=()=>{r(ae()),r(B(x))},a=async()=>{r(B(x)),r(V(!0))},s=()=>{r(B(x));const N=`/app/crm/contact-details/${x.id}`;h(N)};return e.jsxs("div",{className:"flex text-base items-center",children:[c&&e.jsx("span",{className:"cursor-pointer hover:text-indigo-500 circle items-center",onClick:d,children:e.jsx(he,{})}),m&&e.jsx("span",{className:"cursor-pointer hover:text-red-500 circle mx-1 items-center",onClick:a,children:e.jsx(fe,{})}),l&&e.jsx("span",{className:"cursor-pointer hover:text-green-500 circle items-center text-lg",onClick:s,children:e.jsx(Pe,{})})]})},A=C.useMemo(()=>[{header:"Action",id:"action",cell:r=>e.jsx(D,{row:r.row.original})},{header:"Name",accessorKey:"firstName",cell:r=>{const{firstName:d,lastName:a}=r.row.original,s=`${d} ${a}`;return e.jsx(H,{title:s,children:e.jsx(O,{text:s,maxLength:15})},s)}},{header:"email",accessorKey:"email",cell:r=>r.row.original.email},{header:"Number",accessorKey:"contactNumber",cell:r=>r.row.original.contactNumber},{header:"source",accessorKey:"sourceId",cell:r=>{var a,s,N,b;const d=(s=(a=r.row.original)==null?void 0:a.source)!=null&&s.sources?(b=(N=r.row.original)==null?void 0:N.source)==null?void 0:b.sources:"-";return e.jsx(O,{text:d,maxLength:15})}},{header:"Tags",accessorKey:"tagName",cell:r=>{const d=r.row.original.tags;return d!=null&&d.length>0?e.jsx(pe,{tags:d}):"-"}},{header:"Title",accessorKey:"title",cell:r=>{const d=r.row.original.title?r.row.original.title:"-";return e.jsx(H,{title:d,children:e.jsx(O,{text:d,maxLength:15})},d)}},{header:"Company",accessorKey:"companyName",cell:r=>{const d=r.row.original.company?r.row.original.company.companyName:"-";return e.jsx(O,{text:d,maxLength:15})}},{header:"Address",accessorKey:"address",cell:r=>{const{address:d,cityData:a,stateData:s,zipcode:N}=r.row.original,b=[d,a==null?void 0:a.cityName,s==null?void 0:s.stateName,N].filter(z=>z!=null).join(" ");return e.jsx(H,{title:b||"-",children:e.jsx(O,{text:b||"-",maxLength:20})},b)}}],[c,m]),M=x=>{const r=Z(p);r.pageIndex=x,o(R(r))},L=x=>{const r=Z(p);r.pageSize=Number(x),r.pageIndex=1,o(R(r))},q=x=>{const r=Z(p);r.sort=x,o(R(r))};return e.jsxs("div",{children:[e.jsx(me,{columns:A,data:n,loading:i,pagingData:{total:p.total,pageIndex:p.pageIndex,pageSize:p.pageSize},onPaginationChange:M,onSelectChange:L,onSort:q}),e.jsx(Ye,{}),e.jsx(Ve,{})]})},ne=C.forwardRef((o,n)=>{const{onInputChange:t}=o,c=He(m,500);function m(i){t==null||t(i)}const l=i=>{c(i.target.value)};return e.jsx(T,{ref:n,className:"max-w-md md:w-56 mb-4",size:"sm",placeholder:"Search by name or email",prefix:e.jsx(ge,{className:"text-lg"}),onChange:l})});ne.displayName="ContactTableSearch";const tt=()=>{const o=k(),n=C.useRef(null),t=j(h=>h.crmContact.data.tableData),c=W("contacts","canCreate"),m=h=>{const g=Z(t);g.query=h,g.pageIndex=1,typeof h=="string"&&h.length>1&&l(g),typeof h=="string"&&h.length===0&&l(g)},l=h=>{o(h?R(h):P())},i=()=>{o(ae()),o(B({}))};return C.useEffect(()=>{n.current&&(n.current.value=t.query||"",o(R(t)))},[t==null?void 0:t.query]),e.jsxs("div",{className:"md:flex items-center justify-between",children:[e.jsx("div",{className:"md:flex items-center gap-4",children:e.jsx(ne,{ref:n,onInputChange:m})}),e.jsx("div",{className:"mb-4",children:c&&e.jsx(U,{size:"sm",onClick:i,children:"Add New"})})]})};le("crmContact",Te);const at=()=>{const o=j(n=>n.crmContact.data.tableData);return e.jsx(e.Fragment,{children:e.jsxs(de,{bodyClass:"h-full",children:[e.jsx(K,{title:`Contacts (${(o==null?void 0:o.total)||0})`,desc:"",className:"mb-2"}),e.jsx(tt,{}),e.jsx(et,{})]})})},Oa=at;export{Oa as default};
