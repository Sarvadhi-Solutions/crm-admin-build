import{r as f,j as t,a as L,a2 as z,au as fe,av as ot,aw as U,p as lt,ap as ct,ah as dt,aq as ut}from"./index-c4854441.js";import{A as mt}from"./AdaptableCard-c03e443e.js";import{u as E,c as ae,g as X,e as We,s as _e,a as ne,t as De,d as pt,b as de,f as ft,h as ht,i as xt,j as gt,k as vt,l as Te,p as ue,m as yt,n as Ne,o as ke,r as jt}from"./index-99a7ca48.js";import{B as J}from"./Button-01aee70f.js";import{c as ce}from"./cloneDeep-57418006.js";import{I as O}from"./Input-6e1fc018.js";import{b as Tt,U as ye,R as bt,P as Ct,Q as Et,o as St,N as Dt,C as Nt}from"./index.esm-600eab3e.js";import{d as kt}from"./debounce-af9b1df5.js";import{u as je}from"./checkEditUpdate-648010e4.js";import{D as wt}from"./DataTable-c212c69f.js";import"./Alert-c43b1341.js";import{A as Mt}from"./index-7f0011a9.js";import"./Badge-ab812656.js";import"./RangeCalendar-60cea8df.js";import{C as Ft}from"./Card-694d2290.js";import"./index-199241b3.js";import"./index-4960ea6a.js";import{D as He}from"./Dialog-1a78eb06.js";import{D as It}from"./Drawer-459fd2f8.js";import"./index-516e2d91.js";import{a as F,F as Ie}from"./FormItem-f088ddbb.js";import"./toString-9f124ebf.js";import"./index-b9e48651.js";import"./index-69125dab.js";import"./index-337c98e1.js";import{t as se,N as ie}from"./toast-f5971c5e.js";import"./Pagination-91f29835.js";import"./Progress-1eb48ff9.js";import"./index-6afc7114.js";import"./ScrollBar-7a627a75.js";import"./index-fee22201.js";import{m as Vt,d as At,S as Z}from"./Select-a3dcfbd9.js";import"./Skeleton-7820a1d7.js";import"./index-1b4d8032.js";import"./Switcher-9b266edd.js";import"./index-2a967f86.js";import{T as Ye}from"./index-2020af5b.js";import"./Tag-ca3c125e.js";import"./index-954fdf33.js";import"./index-b126a36b.js";import{T as he}from"./Tooltip-ff9677e2.js";import{U as Pt}from"./Upload-1e5004d3.js";import{S as Oe}from"./StatusCapsule-29d0d94f.js";import{T as Rt}from"./TagsList-07470663.js";import{T as xe}from"./TextTruncate-2bfa3d6a.js";import{u as Lt}from"./useThemeClass-58ccaa98.js";import{h as Ot}from"./moment-fbc5633a.js";import{b as Ve,A as Ge,a as $t}from"./index.esm-f9d2499d.js";import{a as qt}from"./index.esm-0fb454c4.js";import{d as Ut}from"./index.esm-c20a7424.js";import{C as zt}from"./ConfirmDialog-2a50d9e0.js";import{i as Wt}from"./Views-a7a22f5b.js";import{u as _t,b as P,F as Ae,a as Pe}from"./formik.esm-20e607de.js";import{c as Ce,a as M,e as Ke}from"./index.esm-6307d99d.js";import{t as Ht}from"./tagAndCategory-228f57e7.js";/* empty css              */import{G as Ee}from"./index.esm-f80fcb5d.js";import{a as Qe,_ as re}from"./objectWithoutProperties-8809bfcf.js";import{_}from"./toConsumableArray-117346ff.js";import{_ as we}from"./slicedToArray-5b2b8266.js";import{_ as Be}from"./inheritsLoose-1f288940.js";import{g as Yt}from"./index-ded1b8d8.js";import{B as Gt}from"./index.esm-332f043c.js";import{F as Kt}from"./FormDesription-6bc517f8.js";import"./chart.constant-33f94cf9.js";import"./chart.config-3e4495ec.js";import"./GrowShrinkTag-b6ec35ba.js";import"./react-tooltip.min-5a60ee3f.js";import"./RichTextEditor-a1431fa0.js";import"./SegmentItemOption-e39e8725.js";import{S as Xe}from"./StickyFooter-1a0a2368.js";import"./SvgIcon-7439607c.js";import{D as Qt}from"./DoubleSidedImage-b7d8a391.js";import{M as Bt}from"./MediaSkeleton-b6f35d31.js";import{N as Xt}from"./react-number-format.es-cb12468d.js";import"./CrmService-2767e679.js";import"./index-0d06fcfb.js";import"./_MapCache-cce6ed45.js";import"./_getPrototype-37ec97c4.js";import"./isNil-c3c7dc62.js";import"./get-1a41de3d.js";import"./index-706b8eda.js";import"./useTimeout-52e2a342.js";import"./CloseButton-481ca768.js";import"./StatusIcon-9c6ff3de.js";import"./useMergeRef-788c4cb0.js";import"./useControllableState-f590672a.js";import"./_baseIsEqual-7cb4339e.js";import"./useRootClose-7d26ea3b.js";import"./usePopper-36d997d0.js";import"./TimeInput-028532aa.js";import"./useUniqueId-ef880a97.js";import"./useDidUpdate-d042343d.js";import"./index-12fb9f3c.js";import"./useUncertainRef-3dcc2864.js";import"./index-611f00f8.js";import"./chainedFunction-070f832c.js";import"./floating-ui.dom-bef9cea3.js";import"./mapCloneElement-7f5ffe17.js";import"./index.esm-626783fa.js";import"./index.esm-40a48121.js";import"./index.esm-e743b778.js";const Je=f.forwardRef((c,s)=>{const{onInputChange:e}=c,r=kt(n,500);function n(i){e==null||e(i)}const a=i=>{r(i.target.value)};return t.jsx(O,{ref:s,className:"max-w-md md:w-52 mb-4",size:"sm",placeholder:"Search by title",prefix:t.jsx(Tt,{className:"text-lg"}),onChange:a})});Je.displayName="TasksTableSearch";const Jt=()=>{const c=L(),s=f.useRef(null),e=E(o=>o.crmTasks.data.tableData),r=je("tasks","canCreate"),n=o=>{const d=ce(e);d.query=o,d.pageIndex=1,typeof o=="string"&&o.length>1&&a(d),typeof o=="string"&&o.length===0&&a(d)},a=o=>{c(o?ae(o):X())},i=()=>{c(We()),c(_e("Add")),c(ne({}))};return f.useEffect(()=>{s.current&&(s.current.value=e.query||"",c(ae(e)))},[e==null?void 0:e.query]),t.jsxs("div",{className:"md:flex items-center justify-between",children:[t.jsx("div",{className:"md:flex items-center gap-4",children:t.jsx(Je,{ref:s,onInputChange:n})}),t.jsx("div",{className:"mb-4",children:r&&t.jsx(J,{size:"sm",onClick:i,children:"Add New"})})]})},Zt=()=>{const c=L(),s=E(a=>a.crmTasks.data.deleteConfirmation),e=E(a=>a.crmTasks.data.selectedTask),r=()=>{c(De(!1))},n=async()=>{var i,o,d;c(De(!1));const a=await c(pt(e.id));await c(X()),(i=a==null?void 0:a.payload)!=null&&i.success?se.push(t.jsx(ie,{title:"Successfuly Deleted",type:"success",duration:2500,children:(o=a==null?void 0:a.payload)==null?void 0:o.message}),{placement:"top-end"}):se.push(t.jsx(ie,{title:"Something Went Wrong !!!",type:"danger",duration:2500,children:(d=a==null?void 0:a.error)==null?void 0:d.message}),{placement:"top-end"}),await c(de())};return t.jsx(zt,{isOpen:s,type:"danger",title:"Delete Task",confirmButtonColor:"red-600",onClose:r,onRequestClose:r,onCancel:r,onConfirm:n,children:t.jsx("p",{children:"Are you sure you want to delete this Task? All record related to this task will be deleted as well. This action cannot be undone."})})},$e={disabled:!1},be=z.createContext(null);var ea=function(s){return s.scrollTop},oe="unmounted",K="exited",Q="entering",te="entered",Me="exiting",W=function(c){Be(s,c);function s(r,n){var a;a=c.call(this,r,n)||this;var i=n,o=i&&!i.isMounting?r.enter:r.appear,d;return a.appearStatus=null,r.in?o?(d=K,a.appearStatus=Q):d=te:r.unmountOnExit||r.mountOnEnter?d=oe:d=K,a.state={status:d},a.nextCallback=null,a}s.getDerivedStateFromProps=function(n,a){var i=n.in;return i&&a.status===oe?{status:K}:null};var e=s.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(n){var a=null;if(n!==this.props){var i=this.state.status;this.props.in?i!==Q&&i!==te&&(a=Q):(i===Q||i===te)&&(a=Me)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var n=this.props.timeout,a,i,o;return a=i=o=n,n!=null&&typeof n!="number"&&(a=n.exit,i=n.enter,o=n.appear!==void 0?n.appear:i),{exit:a,enter:i,appear:o}},e.updateStatus=function(n,a){if(n===void 0&&(n=!1),a!==null)if(this.cancelNextCallback(),a===Q){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:fe.findDOMNode(this);i&&ea(i)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===K&&this.setState({status:oe})},e.performEnter=function(n){var a=this,i=this.props.enter,o=this.context?this.context.isMounting:n,d=this.props.nodeRef?[o]:[fe.findDOMNode(this),o],h=d[0],g=d[1],j=this.getTimeouts(),C=o?j.appear:j.enter;if(!n&&!i||$e.disabled){this.safeSetState({status:te},function(){a.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Q},function(){a.props.onEntering(h,g),a.onTransitionEnd(C,function(){a.safeSetState({status:te},function(){a.props.onEntered(h,g)})})})},e.performExit=function(){var n=this,a=this.props.exit,i=this.getTimeouts(),o=this.props.nodeRef?void 0:fe.findDOMNode(this);if(!a||$e.disabled){this.safeSetState({status:K},function(){n.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:Me},function(){n.props.onExiting(o),n.onTransitionEnd(i.exit,function(){n.safeSetState({status:K},function(){n.props.onExited(o)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(n,a){a=this.setNextCallback(a),this.setState(n,a)},e.setNextCallback=function(n){var a=this,i=!0;return this.nextCallback=function(o){i&&(i=!1,a.nextCallback=null,n(o))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},e.onTransitionEnd=function(n,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:fe.findDOMNode(this),o=n==null&&!this.props.addEndListener;if(!i||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],h=d[0],g=d[1];this.props.addEndListener(h,g)}n!=null&&setTimeout(this.nextCallback,n)},e.render=function(){var n=this.state.status;if(n===oe)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var o=Qe(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return z.createElement(be.Provider,{value:null},typeof i=="function"?i(n,o):z.cloneElement(z.Children.only(i),o))},s}(z.Component);W.contextType=be;W.propTypes={};function ee(){}W.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ee,onEntering:ee,onEntered:ee,onExit:ee,onExiting:ee,onExited:ee};W.UNMOUNTED=oe;W.EXITED=K;W.ENTERING=Q;W.ENTERED=te;W.EXITING=Me;const Ze=W;function Re(c,s){var e=function(a){return s&&f.isValidElement(a)?s(a):a},r=Object.create(null);return c&&f.Children.map(c,function(n){return n}).forEach(function(n){r[n.key]=e(n)}),r}function ta(c,s){c=c||{},s=s||{};function e(g){return g in s?s[g]:c[g]}var r=Object.create(null),n=[];for(var a in c)a in s?n.length&&(r[a]=n,n=[]):n.push(a);var i,o={};for(var d in s){if(r[d])for(i=0;i<r[d].length;i++){var h=r[d][i];o[r[d][i]]=e(h)}o[d]=e(d)}for(i=0;i<n.length;i++)o[n[i]]=e(n[i]);return o}function B(c,s,e){return e[s]!=null?e[s]:c.props[s]}function aa(c,s){return Re(c.children,function(e){return f.cloneElement(e,{onExited:s.bind(null,e),in:!0,appear:B(e,"appear",c),enter:B(e,"enter",c),exit:B(e,"exit",c)})})}function na(c,s,e){var r=Re(c.children),n=ta(s,r);return Object.keys(n).forEach(function(a){var i=n[a];if(f.isValidElement(i)){var o=a in s,d=a in r,h=s[a],g=f.isValidElement(h)&&!h.props.in;d&&(!o||g)?n[a]=f.cloneElement(i,{onExited:e.bind(null,i),in:!0,exit:B(i,"exit",c),enter:B(i,"enter",c)}):!d&&o&&!g?n[a]=f.cloneElement(i,{in:!1}):d&&o&&f.isValidElement(h)&&(n[a]=f.cloneElement(i,{onExited:e.bind(null,i),in:h.props.in,exit:B(i,"exit",c),enter:B(i,"enter",c)}))}}),n}var sa=Object.values||function(c){return Object.keys(c).map(function(s){return c[s]})},ia={component:"div",childFactory:function(s){return s}},Le=function(c){Be(s,c);function s(r,n){var a;a=c.call(this,r,n)||this;var i=a.handleExited.bind(ot(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}var e=s.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(n,a){var i=a.children,o=a.handleExited,d=a.firstRender;return{children:d?aa(n,o):na(n,i,o),firstRender:!1}},e.handleExited=function(n,a){var i=Re(this.props.children);n.key in i||(n.props.onExited&&n.props.onExited(a),this.mounted&&this.setState(function(o){var d=_({},o.children);return delete d[n.key],{children:d}}))},e.render=function(){var n=this.props,a=n.component,i=n.childFactory,o=Qe(n,["component","childFactory"]),d=this.state.contextValue,h=sa(this.state.children).map(i);return delete o.appear,delete o.enter,delete o.exit,a===null?z.createElement(be.Provider,{value:d},h):z.createElement(be.Provider,{value:d},z.createElement(a,o,h))},s}(z.Component);Le.propTypes={};Le.defaultProps=ia;const et=Le;var ra=["in","onExited","appear","enter","exit"],oa=function(s){return function(e){e.in,e.onExited,e.appear,e.enter,e.exit;var r=re(e,ra);return f.createElement(s,r)}},la=oa,ca=["component","duration","in","onExited"],tt=function(s){var e=s.component,r=s.duration,n=r===void 0?1:r,a=s.in;s.onExited;var i=re(s,ca),o=f.useRef(null),d={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(n,"ms")},exiting:{opacity:0},exited:{opacity:0}};return f.createElement(Ze,{mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:n,nodeRef:o},function(h){var g={style:U({},d[h]),ref:o};return f.createElement(e,_({innerProps:g},i))})},Fe=260,da=function(s){var e=s.children,r=s.in,n=s.onExited,a=f.useRef(null),i=f.useState("auto"),o=we(i,2),d=o[0],h=o[1];f.useEffect(function(){var j=a.current;if(j){var C=window.requestAnimationFrame(function(){return h(j.getBoundingClientRect().width)});return function(){return window.cancelAnimationFrame(C)}}},[]);var g=function(C){switch(C){default:return{width:d};case"exiting":return{width:0,transition:"width ".concat(Fe,"ms ease-out")};case"exited":return{width:0}}};return f.createElement(Ze,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,onExited:function(){var C=a.current;C&&(n==null||n(C))},timeout:Fe,nodeRef:a},function(j){return f.createElement("div",{ref:a,style:U({overflow:"hidden",whiteSpace:"nowrap"},g(j))},e)})},ua=["in","onExited"],ma=function(s){return function(e){var r=e.in,n=e.onExited,a=re(e,ua);return f.createElement(da,{in:r,onExited:n},f.createElement(s,_({cropWithEllipsis:r},a)))}},pa=ma,fa=function(s){return function(e){return f.createElement(tt,_({component:s,duration:e.isMulti?Fe:1},e))}},ha=fa,xa=function(s){return function(e){return f.createElement(tt,_({component:s},e))}},ga=xa,va=["component"],ya=["children"],ja=function(s){return function(e){return e.isMulti?f.createElement(Ta,_({component:s},e)):f.createElement(et,_({component:s},e))}},Ta=function(s){var e=s.component,r=re(s,va),n=ba(r);return f.createElement(et,_({component:e},n))},ba=function(s){var e=s.children,r=re(s,ya),n=r.isMulti,a=r.hasValue,i=r.innerProps,o=r.selectProps,d=o.components,h=o.controlShouldRenderValue,g=f.useState(n&&h&&a),j=we(g,2),C=j[0],v=j[1],y=f.useState(!1),b=we(y,2),T=b[0],S=b[1];f.useEffect(function(){a&&!C&&v(!0)},[a,C]),f.useEffect(function(){T&&!a&&C&&v(!1),S(!1)},[T,a,C]);var D=function(){return S(!0)},N=function(p){if(n&&f.isValidElement(p)){if(p.type===d.MultiValue)return f.cloneElement(p,{onExited:D});if(p.type===d.Placeholder&&C)return null}return p},u=U(U({},i),{},{style:U(U({},i==null?void 0:i.style),{},{display:n&&a||C?"flex":"grid"})}),m=U(U({},r),{},{innerProps:u,children:f.Children.toArray(e).map(N)});return m},Ca=ja,Ea=["Input","MultiValue","Placeholder","SingleValue","ValueContainer"],at=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=At({components:s}),r=e.Input,n=e.MultiValue,a=e.Placeholder,i=e.SingleValue,o=e.ValueContainer,d=re(e,Ea);return U({Input:la(r),MultiValue:pa(n),Placeholder:ha(a),SingleValue:ga(i),ValueContainer:Ca(o)},d)},me=at();me.Input;me.MultiValue;me.Placeholder;me.SingleValue;me.ValueContainer;var Sa=Vt(at);const qe=[{label:"None",value:"none"},{label:"Low",value:"low"},{label:"Medium",value:"medium"},{label:"High",value:"high"}],ge=[{label:"Contact",value:"contact"},{label:"Lead",value:"lead"},{label:"Deal",value:"deal"}],Ue={contact:[{label:"Meeting",value:"meeting"},{label:"Other",value:"other"}],lead:[{label:"FollowUp",value:"followup"},{label:"Quotation",value:"quotation"},{label:"Meeting",value:"meeting"},{label:"Other",value:"other"}],deal:[{label:"Feedback",value:"feedback"},{label:"Delivery",value:"delivery"},{label:"Payment Clearance",value:"Paymentclearness"}]},ze={followup:{label:"Next Follow-Up Date and Time*",placeholder:"Select Next Follow-Up Date and Time"},delivery:{label:"Delivery Date & Time*",placeholder:"Select Delivery Date & Time"},meeting:{label:"Meeting Date and Time*",placeholder:"Select Meeting Date & Time"}},le=[],ve=[],Da=c=>{var q,G,I;const{touched:s,errors:e,setFieldValue:r,values:n}=c,a=L();f.useState(!1),f.useState(!1);const[i,o]=f.useState(null),[d,h]=f.useState(null),[g,j]=f.useState(""),[C,v]=f.useState([]),y=E(l=>{var w;return(w=l.crmTasks.data.customField)==null?void 0:w.data}),b=E(l=>l.crmTasks.data.tasksList),T=(l,w)=>{r(l,w)},[S,D]=f.useState("");f.useEffect(()=>{const l=async()=>{var w,R;try{const{payload:V}=await a(xt()),k=(w=V==null?void 0:V.data)==null?void 0:w.find(A=>(A==null?void 0:A.moduleName)==="tasks");if(D(k.id),o(n==null?void 0:n.module),h(n==null?void 0:n.type),j(n==null?void 0:n.nextDateTime),k){const{payload:A}=await a(gt({id:(R=k==null?void 0:k.id)==null?void 0:R.toString()})),pe=Ht(A.data);v(pe)}}catch(V){console.error("Error fetching module data:",V)}};a(ft()),a(ht()),a(Yt()),l()},[a]),E(l=>l.crmTasks.data.selectedTask);const N=E(l=>l.crmTasks.data.drawerMode),u=_t(),m=l=>{u.setFieldValue("tagId",l)},x=Sa(),p=E(l=>l.crmTasks.data.usersList);le.length=0,p==null||p.forEach(l=>{le.push({label:`${l==null?void 0:l.firstName} ${l==null?void 0:l.lastName}`,value:l.id})});const H=l=>{o(l.value),r("module",l==null?void 0:l.value),h(null),j("")},$=l=>{r("type",l==null?void 0:l.value),h(l.value)},Y=E(l=>l.crmTasks.data.leadsList);return ve.length=0,Y==null||Y.forEach(l=>{ve.push({value:l.id,label:l.title})}),t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Module",invalid:e.module&&s.module,errorMessage:e.module,children:t.jsx(P,{type:"text",autoComplete:"off",name:"module",placeholder:"Module",component:Z,options:ge,value:ge==null?void 0:ge.find(l=>(l==null?void 0:l.value)==(n==null?void 0:n.module)),prefix:t.jsx(Ee,{className:"text-xl"}),onChange:H})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Type",invalid:e.type&&s.type,errorMessage:e.type,children:t.jsx(P,{type:"text",autoComplete:"off",name:"type",placeholder:"Type",component:Z,options:Ue[i]||[],value:(q=Ue[i])==null?void 0:q.find(l=>(l==null?void 0:l.value)==(n==null?void 0:n.type)),prefix:t.jsx(Ee,{className:"text-xl"}),onChange:$})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d==="followup"||d==="delivery"||d==="meeting"?t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:(G=ze[d])==null?void 0:G.label,invalid:e.nextDateTime&&s.nextDateTime,errorMessage:e.nextDateTime,children:t.jsx(P,{type:"dateTime-local",autoComplete:"off",name:"nextDateTime",placeholder:(I=ze[d])==null?void 0:I.placeholder,component:O,prefix:t.jsx(ye,{className:"text-xl"}),value:n.nextDateTime,onChange:l=>{var w;j(l.target.value),r("nextDateTime",(w=l.target)==null?void 0:w.value)}})})}):null,d==="delivery"&&t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Delivery Address",invalid:e.address&&s.address,errorMessage:e.address,children:t.jsx(P,{type:"text",autoComplete:"off",name:"address",placeholder:"Delivery Address",component:O,prefix:t.jsx(ye,{className:"text-xl"})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Title *",invalid:e.title&&s.title,errorMessage:e.title,children:t.jsx(P,{type:"text",autoComplete:"off",name:"title",placeholder:"Title",component:O,prefix:t.jsx(bt,{className:"text-xl"})})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Due Date *",invalid:e.dueDate&&s.dueDate,errorMessage:e.dueDate,children:t.jsx(P,{isDisabled:N==="Edit",type:"dateTime-local",autoComplete:"off",name:"dueDate",component:O,prefix:t.jsx(ye,{className:"text-xl"})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Priority *",invalid:e.priority&&s.priority,errorMessage:e.priority,children:t.jsx(Z,{name:"priority",id:"priority",components:x,value:qe.find(l=>(l==null?void 0:l.value)===(n==null?void 0:n.priority)),options:qe,onChange:l=>{r("priority",l.value||"")}})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Assigned To",invalid:e.assignedTo&&s.assignedTo,errorMessage:e.assignedTo,children:t.jsx(Z,{name:"assignedTo",id:"assignedTo",value:le.find(l=>(l==null?void 0:l.value)===(n==null?void 0:n.assignedTo)),options:le,onChange:l=>{r("assignedTo",l.value||"")}})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Connected Lead",invalid:e.connectedLead&&s.connectedLead,errorMessage:e.connectedLead,children:t.jsx(Z,{name:"connectedLead",id:"connectedLead",value:ve.find(l=>(l==null?void 0:l.value)===(n==null?void 0:n.connectedLead)),options:ve,onChange:l=>{r("connectedLead",l.value||"")}})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:"Tag",children:t.jsx(P,{isClearable:!0,isMulti:!0,type:"text",autoComplete:"off",name:"tagId",placeholder:"Select tags",component:Z,options:C,prefix:t.jsx(Ee,{className:"text-xl"}),closeMenuOnSelect:!1,onChange:m})})})]}),t.jsx(F,{label:"Notes",invalid:e.descriptions&&s.descriptions,errorMessage:e.descriptions,children:t.jsx(P,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:O,prefix:t.jsx(Ve,{className:"text-xl"})})}),t.jsx(Kt,{title:"Additional Details",desc:"",className:"mb-2"}),y==null?void 0:y.map(l=>{var V;const w=b.find(k=>k==null?void 0:k.taskFields.some(A=>{var pe;return((pe=A.customKey)==null?void 0:pe.name)===l.name})),R=w?(V=w.taskFields.find(k=>{var A;return((A=k.customKey)==null?void 0:A.name)===l.name}))==null?void 0:V.value:"";return console.log("fieldValue",R),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsx("div",{className:"col-span-1",children:t.jsx(F,{label:l==null?void 0:l.name,children:t.jsx(P,{type:"text",autoComplete:"off",name:l.name,placeholder:l==null?void 0:l.name,component:O,prefix:t.jsx(Gt,{className:"text-xl"}),value:R||"",onChange:k=>T(l.name,k.target.value)})})},l.id)},l.id)})]})},Na=Ce().shape({title:M().required("Title is Required"),module:M(),type:M(),tagId:Ke(),connectedLead:M(),descriptions:M(),priority:M().oneOf(["none","low","medium","high"]).required("Priority is required"),nextDateTime:M().test("date-required","Date is required",function(c){const s=this.parent.type;return!((s==="followup"||s==="delivery"||s==="meeting")&&!c)})}),ka=Ce().shape({module:M(),type:M(),nextDateTime:M().test("date-required","Date is required",function(c){const s=this.parent.type;return!((s==="followup"||s==="delivery"||s==="meeting")&&!c)}),address:M().test("Address is Require","Delivery Address is Require",function(c){return!(this.parent.type==="delivery"&&!c)}),title:M().required("Title is required"),dueDate:M().required("Due Date is required"),tagId:Ke(),connectedLead:M(),descriptions:M(),assignedTo:M().test("is-valid-user","Invalid user selected",function(c){return this.parent.assignedTo&&this.parent.assignedTo.length>0?!!le.find(s=>s.value==c):!0}),priority:M().oneOf(["none","low","medium","high"]).required("Priority is required")}),{TabNav:wa,TabList:Ma,TabContent:Fa}=Ye,nt=f.forwardRef((c,s)=>{var h,g,j,C;const e=E(v=>v.crmTasks.data.selectedTask),r=E(v=>{var y;return(y=v.crmTasks.data.customField)==null?void 0:y.data}),n=E(v=>v.crmTasks.data.drawerMode),a=L();function i(v){if(!v)return"";const y=v.split("T");if(y.length!==2)return"";const b=y[0],T=y[1].slice(0,5);return`${b}T${T}`}const o=v=>{const y=new Date(v);if(isNaN(y.getTime()))return"";const b=y.getFullYear(),T=(y.getMonth()+1).toString().padStart(2,"0"),S=y.getDate().toString().padStart(2,"0"),D=y.getHours().toString().padStart(2,"0"),N=y.getMinutes().toString().padStart(2,"0");return`${b}-${T}-${S} ${D}:${N}`},d=async(v,y)=>{var q,G,I,l,w,R,V;const{colorName:b,tagName:T,dueDate:S,nextDateTime:D,...N}=v;console.log("QWefewf",D);const u=r.reduce((k,A)=>(k[A.name]=v[A.name],k),{}),m=o(S),x=o(D);console.log("====QWefewf",x);let p,H,$;n==="Add"?(p=await a(vt({dueDate:m,nextDateTime:x,...N,...u,tagId:v==null?void 0:v.tagId.map(k=>k.value)})),H="Successfully Added",$="Something went wrong !!!",(q=p==null?void 0:p.payload)!=null&&q.success&&a(Te())):(p=await a(ue({taskId:e==null?void 0:e.id,data:{...N,tagId:v==null?void 0:v.tagId.map(k=>k.value)}})),H="Successfully Updated",$="Something went wrong !!!",(G=p==null?void 0:p.payload)!=null&&G.success&&a(Te()));const Y=(I=p==null?void 0:p.payload)!=null&&I.success?"success":"danger";se.push(t.jsx(ie,{title:(l=p==null?void 0:p.payload)!=null&&l.success?H:$,type:Y,duration:2500,children:(w=p==null?void 0:p.payload)!=null&&w.success?(R=p==null?void 0:p.payload)==null?void 0:R.message:(V=p==null?void 0:p.error)==null?void 0:V.message}),{placement:"top-end"}),await a(X()),await a(de()),y(!1)};return t.jsx(Ae,{innerRef:s,initialValues:{module:(e==null?void 0:e.module)||"",type:(e==null?void 0:e.type)||"",nextDateTime:i(e==null?void 0:e.nextDateTime)||"",title:(e==null?void 0:e.title)||"",address:(e==null?void 0:e.address)||"",connectedLead:(e==null?void 0:e.connectedLead)||"",dueDate:i(e==null?void 0:e.dueDate)||"",descriptions:(e==null?void 0:e.descriptions)||"",tagId:((h=e==null?void 0:e.tags)==null?void 0:h.map(v=>({label:v.tagName,value:v.id})))||[],tagName:((j=(g=e==null?void 0:e.tags)==null?void 0:g[0])==null?void 0:j.tagName)||"",priority:(e==null?void 0:e.priority)||"",assignedTo:((C=e==null?void 0:e.assignedToData)==null?void 0:C.id)||"",colorName:e!=null&&e.tags&&(e==null?void 0:e.tags.length)>0?e==null?void 0:e.tags[0].colorName:""},validationSchema:n==="Edit"?Na:ka,onSubmit:async(v,{setSubmitting:y})=>{await d(v,y)},children:({touched:v,errors:y,setFieldValue:b,values:T})=>t.jsx(Pe,{children:t.jsx(Ie,{children:t.jsxs(Ye,{defaultValue:"taskDetails",children:[t.jsx(Ma,{children:t.jsx(wa,{value:"taskDetails",children:"Tasks details"})}),t.jsx("div",{className:"p-6",children:t.jsx(Fa,{value:"taskDetails",children:t.jsx(Da,{touched:v,errors:y,values:T,setFieldValue:b})})})]})})})})});nt.displayName="TasksForm";const st=f.forwardRef((c,s)=>{const e=L(),r=E(o=>o.crmTasks.data.selectedTask),n=E(o=>o.crmTasks.data.tasksList),{id:a}=r,i=o=>{const{name:d,birthday:h,email:g,img:j,location:C,title:v,phoneNumber:y,facebook:b,twitter:T,pinterest:S,linkedIn:D}=o,N={name:d,email:g,img:j},u={location:C,title:v,birthday:lt(h).format("DD/MM/YYYY"),phoneNumber:y,facebook:b,twitter:T,pinterest:S,linkedIn:D};let m=ce(n),x={};m=m.map(p=>(p.id===a&&(p={...p,...N},p.personalInfo={...p.personalInfo,...u},x=p),p)),Wt(x)||e(ue(x)),e(Te()),e(yt(m))};return t.jsx(nt,{ref:s,tasks:r,onFormSubmit:i})});st.displayName="TasksEditContent";const Ia=({onSaveClick:c,onCancel:s})=>t.jsxs("div",{className:"text-right w-full",children:[t.jsx(J,{size:"sm",className:"mr-2",onClick:s,children:"Cancel"}),t.jsx(J,{size:"sm",variant:"solid",onClick:c,children:"Save"})]}),Va=()=>{const c=L(),s=E(d=>d.crmTasks.data.drawerOpen);E(d=>d.crmTasks.data.drawerMode),E(d=>d.crmTasks.data.selectedTask);const[e,r]=f.useState(window.innerWidth/2),n=()=>{c(Te()),c(ne({}))},a=f.useRef(null),i=async()=>{var d;(d=a.current)==null||d.submitForm()};f.useEffect(()=>(window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}),[]);const o=()=>{r(window.innerWidth/2)};return t.jsx(It,{isOpen:s,closable:!1,bodyClass:"p-0",width:e,footer:t.jsx(Ia,{onCancel:n,onSaveClick:i}),onClose:n,onRequestClose:n,children:t.jsx(st,{ref:a})})},it=f.forwardRef((c,s)=>{const e=L(),r=E(h=>h.crmTasks.data.followUPConfirmation),n=E(h=>h.crmTasks.data.selectedTask),a=E(h=>h.crmTasks.data.loading),i=()=>{e(Ne(!1))},o=Ce().shape({descriptions:M().required("Notes is required")}),d=async h=>{var C,v,y;const g=await e(ue({taskId:n==null?void 0:n.id,data:h})),j=(C=g==null?void 0:g.payload)!=null&&C.success?{title:"Successfully Updated",type:"success",message:(v=g==null?void 0:g.payload)==null?void 0:v.message}:{title:"Something Went Wrong !!!",type:"danger",message:(y=g==null?void 0:g.error)==null?void 0:y.message};se.push(t.jsx(ie,{title:j.title,type:j==null?void 0:j.type,duration:2500,children:j.message}),{placement:"top-end"}),await e(X()),await e(de()),await e(Ne(!1))};return t.jsxs(He,{isOpen:r,onClose:i,children:[t.jsx("h5",{className:"mb-4",children:"Follow Up"}),t.jsx(Ae,{innerRef:s,initialValues:{descriptions:"",nextDateTime:""},validationSchema:o,onSubmit:async(h,{setSubmitting:g})=>{console.log(h);const j={completionStatus:"completed",...h};await d(j),g(!1)},children:({touched:h,errors:g,values:j,setFieldValue:C})=>t.jsxs(Pe,{children:[t.jsxs(Ie,{children:[t.jsx(F,{label:"Next Follow-Up Date and Time",invalid:g.nextDateTime&&h.nextDateTime,errorMessage:g.nextDateTime,children:t.jsx(P,{type:"dateTime-local",autoComplete:"off",name:"nextDateTime",placeholder:"Select Next Follow-Up Date and Time",component:O,prefix:t.jsx(ye,{className:"text-xl"})})}),t.jsx(F,{label:"Notes",invalid:g.descriptions&&h.descriptions,errorMessage:g.descriptions,children:t.jsx(P,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:O,prefix:t.jsx(Ve,{className:"text-xl"})})})]}),t.jsx(Xe,{className:"flex items-center justify-end py-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"md:flex items-center",children:[t.jsx(J,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:i,children:"Cancel"}),t.jsx(J,{size:"sm",type:"submit",variant:"solid",icon:t.jsx(Ge,{}),loading:a,children:"Save"})]})})]})})]})});it.displayName="FollowUpTaskConfirmation";const rt=f.forwardRef((c,s)=>{const e=L(),[r,n]=f.useState(""),[a,i]=f.useState(""),o=E(b=>b.crmTasks.data.quotationConfirmation),d=E(b=>b.crmTasks.data.selectedTask),h=E(b=>b.crmTasks.data.loading),g=()=>{e(ke(!1)),n("")},j=Ce().shape({descriptions:M().required("Notes is required")}),C=async b=>{var D,N,u;const T=await e(ue({taskId:d==null?void 0:d.id,data:b})),S=(D=T==null?void 0:T.payload)!=null&&D.success?{title:"Successfully Updated",type:"success",message:(N=T==null?void 0:T.payload)==null?void 0:N.message}:{title:"Something Went Wrong !!!",type:"danger",message:(u=T==null?void 0:T.error)==null?void 0:u.message};se.push(t.jsx(ie,{title:S.title,type:S==null?void 0:S.type,duration:2500,children:S.message}),{placement:"top-end"}),await e(X()),await e(de()),await e(ke(!1)),n("")},v=b=>{let T=!0;const S=["image/png","image/jpeg","image/jpeg","image/webp","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","text/plain","text/html","application/xml","application/json","application/zip","application/x-rar-compressed"],D=1e7;if(b)for(const N of b)S.includes(N.type)||(T="Please upload a .jpeg, .png, or .pdf file!"),N.size>=D&&(console.log(N.size),T="Uploaded file cannot be larger than 10MB!");return T},y=(b,T,S)=>{const D="1-img-0",N=S.length-1,u=new FileReader,m=S[N];u.onload=()=>{const x=u.result,p={id:D,name:m.name,img:x};i(m.type),n(m.name),T("attachments",p)},u.readAsDataURL(m)};return t.jsxs(He,{isOpen:o,onClose:g,children:[t.jsx("h5",{className:"mb-4",children:"Quotation"}),t.jsx(Ae,{innerRef:s,initialValues:{descriptions:"",attachments:""},validationSchema:j,onSubmit:async(b,{setSubmitting:T})=>{var D,N;const S={completionStatus:"completed",descriptions:b.descriptions};(D=b.attachments)!=null&&D.img&&(S.attachments=(N=b.attachments)==null?void 0:N.img,S.fileType=a),await C(S),T(!1)},children:({field:b,form:T,touched:S,errors:D,values:N,setFieldValue:u})=>t.jsxs(Pe,{children:[t.jsxs(Ie,{children:[t.jsx(F,{label:"Upload File",children:t.jsx(Pt,{draggable:!0,className:"min-h-fit",beforeUpload:v,showList:!1,onChange:m=>y(T,u,m),children:t.jsxs("div",{className:"max-w-full flex flex-col px-4 py-2 justify-center items-center",children:[t.jsx(Qt,{src:"/img/others/upload.png",darkModeSrc:"/img/others/upload-dark.png"}),t.jsx("p",{className:"font-semibold",children:r?t.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Selected file ",r]}):t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Drop your image here, or"," "]}),t.jsx("span",{className:"text-blue-500",children:"browse"})]})}),t.jsx("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: jpeg, png, pdf"})]})})}),t.jsx(F,{label:"Notes",invalid:D.descriptions&&S.descriptions,errorMessage:D.descriptions,children:t.jsx(P,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:O,prefix:t.jsx(Ve,{className:"text-xl"})})})]}),t.jsx(Xe,{className:"flex items-center justify-end py-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"md:flex items-center",children:[t.jsx(J,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:g,children:"Cancel"}),t.jsx(J,{size:"sm",type:"submit",variant:"solid",icon:t.jsx(Ge,{}),loading:h,children:"Save"})]})})]})})]})});rt.displayName="QuotationTaskConfirmation";const Aa=()=>{const c=L(),s=E(u=>u.crmTasks.data.displayedTasksList),e=E(u=>u.crmTasks.data.loading);E(u=>u.crmTasks.data.filterData);const r=E(u=>u.crmTasks.data.tableData),n=je("tasks","canDelete"),a=je("tasks","canModify"),i=je("tasks","canView"),o=ct(),{pageIndex:d,pageSize:h,sort:g,query:j,total:C}=E(u=>u.crmTasks.data.tableData),v=f.useCallback(()=>{c(X())},[c]);f.useEffect(()=>(v(),()=>{window.location.pathname.includes("task")||c(ae({...r,query:""}))}),[v]);const y=f.useMemo(()=>({pageIndex:d,pageSize:h,sort:g,query:j,total:C}),[d,h,g,j,C]),b=({row:u})=>{const m=L();Lt();const x=()=>{m(We()),m(ne(u)),m(_e("Edit"))},p=async()=>{await m(ne(u)),m(De(!0))},H=async()=>{await m(ne(u));const q=`/app/crm/task-details/${u.id}`;o(q)},$=async q=>{var w,R,V;const G={completionStatus:q},I=await m(ue({taskId:u==null?void 0:u.id,data:G})),l=(w=I==null?void 0:I.payload)!=null&&w.success?{title:"Successfully Updated",type:"success",message:(R=I==null?void 0:I.payload)==null?void 0:R.message}:{title:"Something Went Wrong !!!",type:"danger",message:(V=I==null?void 0:I.error)==null?void 0:V.message};se.push(t.jsx(ie,{title:l.title,type:l==null?void 0:l.type,duration:2500,children:l.message}),{placement:"top-end"}),await m(X())},Y=async()=>{if(u!=null&&u.type)switch(await m(ne(u)),u==null?void 0:u.type){case"followup":m(Ne(!0));break;case"quotation":m(ke(!0));break;default:$("completed");break}else $("completed")};return t.jsxs("div",{className:"flex text-base items-center",children:[a&&t.jsx("span",{className:`cursor-pointer circle items-center ${(u==null?void 0:u.completionStatus)==="completed"?"!cursor-not-allowed":"cursor-pointer hover:text-indigo-500"}`,onClick:x,children:t.jsx(Ct,{})}),n&&t.jsx("span",{className:"cursor-pointer hover:text-red-500 circle  mx-1 items-center",onClick:p,children:t.jsx(Et,{})}),i&&t.jsx("span",{className:"cursor-pointer  hover:text-green-500 circle items-center text-lg",onClick:H,children:t.jsx($t,{})}),a&&t.jsx(he,{title:"Move To In Progress",children:t.jsx("button",{disabled:(u==null?void 0:u.completionStatus)!=="pending",className:`cursor-pointer mx-1 circle items-center ${(u==null?void 0:u.completionStatus)!=="pending"?"!cursor-not-allowed":"cursor-pointer hover:text-amber-500"}`,onClick:()=>$("inProgress"),children:t.jsx(Ut,{})})},u.id+"inprogress"),a&&t.jsx(he,{title:"Move To Complete",children:t.jsx("button",{disabled:(u==null?void 0:u.completionStatus)==="completed",className:`cursor-pointer circle items-center ${(u==null?void 0:u.completionStatus)==="completed"?"!cursor-not-allowed":"cursor-pointer hover:text-emerald-500"}`,onClick:Y,children:t.jsx(qt,{})})},u.id+"complete")]})},T=f.useMemo(()=>[{header:"Action",id:"action",cell:m=>t.jsx(b,{row:m.row.original})},{header:"Title",accessorKey:"title",cell:m=>{const x=m.row.original.title;return t.jsx(he,{title:x,children:t.jsx(xe,{text:x,maxLength:20})},x)}},{header:"Due Date",accessorKey:"dueDate",cell:m=>{var x;return Ot((x=m.row.original)==null?void 0:x.dueDate).format("DD MMMM YYYY")}},{header:"priority",accessorKey:"priority",cell:m=>{const x=m.row.original.priority;return t.jsx(Oe,{status:x})}},{header:"module",accessorKey:"module",cell:m=>{var p;const x=(p=m.row.original)==null?void 0:p.module;return x?t.jsx(xe,{text:x,maxLength:20}):"-"}},{header:"type",accessorKey:"type",cell:m=>{var p;const x=(p=m.row.original)==null?void 0:p.type;return x?t.jsx(xe,{text:x,maxLength:20}):"-"}},{header:"Assigned to",accessorKey:"assignedTo",cell:m=>{const{firstName:x,lastName:p}=m.row.original.assignedToData||{};return x&&p?`${x} ${p}`:"-"}},{header:"Connected lead",accessorKey:"connectedLead",cell:m=>{var p;const x=m.row.original||{};return x!=null&&x.leadModel?`${(p=x==null?void 0:x.leadModel)==null?void 0:p.title}`:"-"}},{header:"Status",accessorKey:"completionStatus",cell:m=>{const x=m.row.original.completionStatus;return t.jsx(Oe,{status:x})}},{header:"Notes",accessorKey:"descriptions",cell:m=>{const x=m.row.original.descriptions;return t.jsx(he,{title:x,children:t.jsx(xe,{text:x,maxLength:20})},x)}},{header:"Tag Name",accessorKey:"tagName",cell:m=>{const x=m.row.original.tags||[];return x.length===0?"-":t.jsx(Rt,{tags:x})}}],[a,n]),S=u=>{const m=ce(y);m.pageIndex=u,c(ae(m))},D=u=>{const m=ce(y);m.pageSize=Number(u),m.pageIndex=1,c(ae(m))},N=u=>{const m=ce(y);m.sort=u,c(ae(m))};return t.jsxs("div",{children:[t.jsx(wt,{columns:T,data:s,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},loading:e,pagingData:{total:y.total,pageIndex:y.pageIndex,pageSize:y.pageSize},onPaginationChange:S,onSelectChange:D,onSort:N}),t.jsx(Va,{}),t.jsx(rt,{}),t.jsx(it,{}),t.jsx(Zt,{})]})},Se=c=>{const{icon:s,avatarClass:e,label:r,value:n,growthRate:a,loading:i}=c,o=55;return t.jsx(Ft,{bordered:!0,children:t.jsx(dt,{loading:i,customLoader:t.jsx(Bt,{avatarProps:{className:"rounded",width:o,height:o}}),children:t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Mt,{className:e,size:o,icon:s}),t.jsxs("div",{children:[t.jsx("span",{children:r}),t.jsx("h3",{children:t.jsx(Xt,{thousandSeparator:!0,displayType:"text",value:n})})]})]})})})})},Pa=()=>{const c=L(),s=E(r=>r.crmTasks.data.statisticData),e=E(r=>r.crmTasks.data.statisticLoading);return f.useEffect(()=>{c(de())},[]),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 mb-6",children:[t.jsx(Se,{icon:t.jsx(St,{}),avatarClass:"!bg-indigo-600",label:"Total Tasks",value:s==null?void 0:s.totalTasks,loading:e}),t.jsx(Se,{icon:t.jsx(Dt,{}),avatarClass:"!bg-blue-500",label:"Completed Tasks",value:s==null?void 0:s.completedTasks,loading:e}),t.jsx(Se,{icon:t.jsx(Nt,{}),avatarClass:"!bg-emerald-500",label:"This Week's New Tasks",value:s==null?void 0:s.newTasks,loading:e})]})};ut("crmTasks",jt);const Ra=()=>t.jsxs(t.Fragment,{children:[t.jsx(Pa,{}),t.jsxs(mt,{bodyClass:"h-full",children:[t.jsx(Jt,{}),t.jsx(Aa,{})]})]}),Is=Ra;export{Is as default};
