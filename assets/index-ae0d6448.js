import{al as d,am as p,an as y,ao as L}from"./index-dc23d4d5.js";import{f as g,g as u,h as C,i as m,j as f,k as w,l as D,m as h,n as S,o as b,p as c,q as I}from"./CrmService-252ce793.js";const E="crmLeads",o=d("crmLeads/data/getLeadsStatistic",async()=>(await g()).data),n=d("crmLeads/data/getLeads",async()=>(await u()).data),l=d("crmContact/data/getContact",async()=>(await C()).data),A=d("crmLeads/data/editLeads",async({leadsId:s,updatedData:a})=>{var e,t;try{return(await m(s,a)).data}catch(r){throw new Error((t=(e=r==null?void 0:r.response)==null?void 0:e.data)==null?void 0:t.message)}}),F=d("crmLeads/data/deleteLeads",async s=>{var a,e;try{return await f(s)}catch(t){throw new Error((e=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:e.message)}}),M=d("crmLeads/data/createLeads",async s=>{var a,e;try{return(await w(s)).data}catch(t){throw new Error((e=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:e.message)}}),G=d("crmLeads/data/getProduct",async s=>{var a,e;try{const t=await D(s);return console.log({response:t}),t.data}catch(t){throw new Error((e=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:e.message)}}),T=d("crmLeads/data/getSubByIdCategory",async s=>{var a,e;try{return(await h(s)).data}catch(t){throw new Error((e=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:e.message)}}),x=d("crmLeads/data/getCategory",async()=>{var s,a;try{return(await S()).data}catch(e){throw new Error((a=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:a.message)}}),N=d("crmLeads/data/module",async()=>(await b()).data),j=d("tag-category",async({id:s})=>(await c(s)).data);d("crmLeads/data/fetchTag",async({id:s})=>(await c(s)).data);d("crmLeads/data/createTag",async({masterId:s,colorName:a,tagName:e,tagCategoryId:t})=>(await I({colorName:a,tagName:e,masterId:s,tagCategoryId:t})).data);const O={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},k={status:""},q={loading:!1,statisticLoading:!1,leadsList:[],categoryList:[],productList:[],subCategoryList:[],displayedLeadsList:[],statisticData:{},tableData:O,filterData:k,drawerOpen:!1,selectedLeads:{},contactList:[],deleteConfirmation:!1},i=p({name:`${E}/state`,initialState:q,reducers:{setTableData:(s,a)=>{s.tableData=a.payload;const e=s.leadsList.filter(t=>t.contactData.firstName.toLowerCase().includes(a.payload.query.toLowerCase())||t.contactData.lastName.toLowerCase().includes(a.payload.query.toLowerCase()));s.displayedLeadsList=e.slice(a.payload.pageSize*(a.payload.pageIndex-1),a.payload.pageSize*a.payload.pageIndex)},setLeadsList:(s,a)=>{s.leadsList=a.payload},setFilterData:(s,a)=>{s.filterData=a.payload},setSelectedLeads:(s,a)=>{s.selectedLeads=a.payload},setDrawerOpen:s=>{s.drawerOpen=!0},setDrawerClose:s=>{s.drawerOpen=!1},toggleDeleteConfirmation:(s,a)=>{s.deleteConfirmation=a.payload}},extraReducers:s=>{s.addCase(n.fulfilled,(a,e)=>{var t;a.leadsList=e.payload.data,a.tableData.total=(t=e.payload.data)==null?void 0:t.length,a.displayedLeadsList=e.payload.data.slice(0,10),a.loading=!1}).addCase(n.pending,a=>{a.loading=!0}).addCase(o.fulfilled,(a,e)=>{a.statisticData=e.payload,a.statisticLoading=!1}).addCase(o.pending,a=>{a.statisticLoading=!0}).addCase(l.fulfilled,(a,e)=>{a.contactList=e.payload.data,a.loading=!1}).addCase(l.pending,a=>{a.loading=!0}).addCase(T.fulfilled,(a,e)=>{a.subCategoryList=e==null?void 0:e.payload.data}).addCase(x.fulfilled,(a,e)=>{a.categoryList=e==null?void 0:e.payload.data}).addCase(G.fulfilled,(a,e)=>{console.log("=====>",e==null?void 0:e.payload.data),a.productList=e==null?void 0:e.payload.data})}}),{setTableData:R,setLeadsList:_,setFilterData:$,setSelectedLeads:v,setDrawerOpen:H,setDrawerClose:J,toggleDeleteConfirmation:K}=i.actions,B=i.reducer,Q=y({data:B}),U=L;export{o as a,l as b,j as c,F as d,A as e,N as f,n as g,M as h,x as i,v as j,R as k,H as l,Q as r,J as s,K as t,U as u};
