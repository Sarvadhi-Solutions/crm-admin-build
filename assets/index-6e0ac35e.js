import{am as t,an as l,ao as n,ap as c}from"./index-7c10d2a3.js";import{D as p,E as u,z as g,F as f,G as D}from"./CrmService-d5e8e120.js";const U="crmUsers",r=t("crmUsers/data/getUsersStatistic",async()=>(await p()).data),o=t("crmUsers/data/getUsers",async()=>(await u()).data),i=t("crmRoles/data/getRoles",async()=>(await g()).data),b=t("crmUser/data/putUser",async({id:a,data:e})=>(await f(a,e)).data),R=t("crmUser/data/deleteUser",async a=>(await D(a)).data),m={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},y={status:""},C={loading:!1,statisticLoading:!1,usersList:[],statisticData:{},tableData:m,filterData:y,drawerOpen:!1,selectedUser:{},rolesList:[],drawerMode:"Add",deleteConfirmation:!1},d=l({name:`${U}/state`,initialState:C,reducers:{setTableData:(a,e)=>{a.tableData=e.payload},setUsersList:(a,e)=>{a.usersList=e.payload},setFilterData:(a,e)=>{a.filterData=e.payload},setSelectedUser:(a,e)=>{a.selectedUser=e.payload},setDrawerOpen:a=>{a.drawerOpen=!0},setRolesList:(a,e)=>{a.rolesList=e.payload},setDrawerClose:a=>{a.drawerOpen=!1},setDrawerMode:(a,e)=>{a.drawerMode=e.payload},toggleDeleteConfirmation:(a,e)=>{a.deleteConfirmation=e.payload}},extraReducers:a=>{a.addCase(o.fulfilled,(e,s)=>{e.usersList=s.payload.data,e.tableData.total=s.payload.total,e.loading=!1}).addCase(i.fulfilled,(e,s)=>{e.rolesList=s.payload.data,e.loading=!1}).addCase(o.pending,e=>{e.loading=!0}).addCase(i.pending,e=>{e.loading=!0}).addCase(r.fulfilled,(e,s)=>{e.statisticData=s.payload,e.statisticLoading=!1}).addCase(r.pending,e=>{e.statisticLoading=!0})}}),{setTableData:M,setUsersList:O,setFilterData:A,setSelectedUser:F,setDrawerOpen:G,setDrawerClose:T,toggleDeleteConfirmation:x,setDrawerMode:E,setRolesList:h}=d.actions,w=d.reducer,k=n({data:w}),z=c;export{r as a,O as b,F as c,R as d,i as e,M as f,o as g,G as h,E as i,A as j,b as p,k as r,T as s,x as t,z as u};
