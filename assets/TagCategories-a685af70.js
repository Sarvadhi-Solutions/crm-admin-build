import{a as T,r as i,j as e,ar as b}from"./index-7c10d2a3.js";import{T as p}from"./index-db1f8ae2.js";import{u as f,f as d,g as S,e as w,a as D}from"./index-92fee75d.js";import{as as R,at as y}from"./index.esm-d9298b40.js";import{u as E,r as N,g as M}from"./index-3cbbe4e5.js";import{u as j}from"./useThemeClass-44058c3e.js";import"./Alert-81c5f29e.js";import"./index-e31e1427.js";import{B as H}from"./Badge-96f53043.js";import"./Button-208b5861.js";import"./Calendar-0d3223b7.js";import"./Card-4ce3f213.js";import"./index-7ee2fb06.js";import"./index-dbc56270.js";import"./Dialog-ab50fc44.js";import"./Drawer-f62ae817.js";import"./index-ddb7b536.js";import"./FormItem-dcfd8ab9.js";import"./toString-18e1007d.js";import"./Input-81114df0.js";import"./index-c64ed13c.js";import"./index-e1f31fe1.js";import"./index-8f8a0e52.js";import"./toast-1b1e93c9.js";import"./Pagination-16369f4c.js";import"./Progress-f85f5579.js";import"./index-2a6b01a7.js";import"./RangeCalendar-e91d83a1.js";import"./ScrollBar-ab3bf32a.js";import"./index-33ad8488.js";import"./Select-013d671c.js";import"./Skeleton-f2ce5fc2.js";import"./index-0e69abbd.js";import"./Switcher-08c2e9d8.js";import"./index-5aafa10e.js";import"./Tag-b24b6dab.js";import"./index-36a050cd.js";import"./index-a034b741.js";import"./Tooltip-6aa5489c.js";import"./Upload-bfebe208.js";const{Tr:x,Th:$,Td:B,THead:v,TBody:k}=p,F=({renderRowSubComponent:n,getRowCanExpand:l})=>{T();const g=({row:t})=>{const{textTheme:r}=j(),m=()=>{};return e.jsx("div",{className:`${r} cursor-pointer select-none font-semibold`,onClick:m,children:"Edit"})},u=({row:t})=>{const{textTheme:r}=j(),m=async()=>{};return e.jsx("div",{className:`${r} cursor-pointer select-none font-semibold text-red-500`,onClick:m,children:"Delete"})},a=E(t=>t.crmTagCategories.data.tagCategoriesList),h=i.useMemo(()=>[{header:()=>null,id:"expander",cell:({row:t})=>e.jsx(e.Fragment,{children:t.getCanExpand()?e.jsx("button",{className:"text-lg",onClick:t.getToggleExpandedHandler(),children:t.getIsExpanded()?e.jsx(R,{}):e.jsx(y,{})}):null}),subCell:()=>null},{header:"Edit",id:"action",cell:t=>e.jsx(g,{row:t.row.original})},{header:"Delete",id:"action",cell:t=>e.jsx(u,{row:t.row.original})},{header:"Category Name",accessorKey:"categoryName"},{header:"Module Name",accessorKey:"master.moduleName"},{header:"Created By",accessorKey:"createdBy"}],[]),[c,s]=i.useState(a);i.useEffect(()=>{const t=a==null?void 0:a.map(r=>({...r,subRows:r.tags}));s(t)},[a]);const o=f({data:c,columns:h,getRowCanExpand:l,getCoreRowModel:S(),getExpandedRowModel:w()});return e.jsx(e.Fragment,{children:e.jsxs(p,{children:[e.jsx(v,{children:o.getHeaderGroups().map(t=>e.jsx(x,{children:t.headers.map(r=>e.jsx($,{colSpan:r.colSpan,children:d(r.column.columnDef.header,r.getContext())},r.id))},t.id))}),e.jsx(k,{children:o.getRowModel().rows.map(t=>e.jsxs(i.Fragment,{children:[e.jsx(x,{children:t.getVisibleCells().map(r=>e.jsx("td",{children:d(r.column.columnDef.cell,r.getContext())},r.id))}),t.getIsExpanded()&&e.jsx(x,{children:e.jsx(B,{colSpan:t.getVisibleCells().length,children:n({row:t})})})]},t.id))})]})})},{Tr:C,Th:K,Td:A,THead:I,TBody:V,Sorter:z}=p,O=n=>{const{tableData:l}=n,[g,u]=i.useState([]),[a]=i.useState(l),c=f({data:a,columns:[{header:"Tag Name",accessorKey:"tagName"},{header:"Color",accessorKey:"colorName",cell:s=>{const o=s.row.original;return e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{style:{backgroundColor:`${o.colorName}`}}),e.jsx("span",{className:"ml-2 rtl:mr-2 capitalize",children:o.colorName})]})}}],state:{sorting:g},onSortingChange:u,getCoreRowModel:S(),getSortedRowModel:D()});return e.jsx(e.Fragment,{children:e.jsxs(p,{children:[e.jsx(I,{children:c.getHeaderGroups().map(s=>e.jsx(C,{children:s.headers.map(o=>e.jsx(K,{colSpan:o.colSpan,children:o.isPlaceholder?null:e.jsxs("div",{className:o.column.getCanSort()?"cursor-pointer select-none":"",onClick:o.column.getToggleSortingHandler(),children:[d(o.column.columnDef.header,o.getContext()),e.jsx(z,{sort:o.column.getIsSorted()})]})},o.id))},s.id))}),e.jsx(V,{children:c.getRowModel().rows.slice(0,10).map(s=>e.jsx(C,{children:s.getVisibleCells().map(o=>e.jsx(A,{children:d(o.column.columnDef.cell,o.getContext())},o.id))},s.id))})]})})},P=({row:n})=>e.jsx("pre",{style:{fontSize:"10px"},children:e.jsx(O,{tableData:n.original.tags})});b("crmTagCategories",N);const q=()=>{const n=T(),l=async()=>{await n(M())};return i.useEffect(()=>{l()},[n]),e.jsx(e.Fragment,{children:e.jsx(F,{renderRowSubComponent:P,getRowCanExpand:()=>!0})})},He=q;export{He as T};
