import{r as c,j as o,bd as w}from"./index-04de45f1.js";import{D as z}from"./DemoLayout-89a84ba0.js";import{B as S}from"./Button-c014eb4a.js";import{D as N}from"./DataTable-26a56396.js";import{I as A}from"./Input-177911dc.js";import{d as I}from"./debounce-72f24c40.js";import"./AdaptableCard-b66d711f.js";import"./Card-5dadf163.js";import"./Views-9d427d6f.js";import"./Affix-efc50e98.js";import"./Tooltip-8263a1ca.js";import"./usePopper-301f1b7b.js";import"./index.esm-86efb1ff.js";import"./index-5206a52a.js";import"./index.esm-dece01db.js";import"./SyntaxHighlighter-b6d1a340.js";import"./toConsumableArray-c4879a90.js";import"./objectWithoutPropertiesLoose-df62547b.js";import"./index-5ffe062f.js";import"./DemoComponentApi-46ba6f54.js";import"./index-f4f40370.js";import"./index.esm-bec52084.js";import"./context-3f43d22b.js";import"./Pagination-d7bd87b8.js";import"./Select-8dd681ec.js";import"./floating-ui.dom-bef9cea3.js";import"./get-e02c019e.js";import"./toString-85ae3482.js";import"./_MapCache-593c8f28.js";import"./index-746fa18b.js";import"./cloneDeep-9e3b0d5b.js";import"./_Uint8Array-51fedccd.js";import"./_getPrototype-c53c6c29.js";import"./_baseIsEqual-aab3701d.js";import"./TableRowSkeleton-b8809059.js";import"./Skeleton-74d23b60.js";import"./index-57d63c42.js";import"./isNil-2d09164b.js";const P=()=>{const[g,u]=c.useState([]),[f,p]=c.useState(!1),[n,s]=c.useState({total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}}),d=c.useMemo(()=>[{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"",id:"action",cell:l=>o.jsx(S,{size:"xs",onClick:()=>console.log("Action clicked",l),children:"Action"})}],[]),m=l=>{s(r=>({...r,pageIndex:l}))},b=l=>{s(r=>({...r,pageSize:l}))},x=({order:l,key:r})=>{s(h=>({...h,sort:{order:l,key:r}}))};return c.useEffect(()=>{(async()=>{p(!0);const r=await w.post("/api/crm/customers",n);r.data&&(u(r.data.data),p(!1),s(h=>({...h,total:r.data.total})))})()},[n.pageIndex,n.sort,n.pageSize]),o.jsx(N,{columns:d,data:g,loading:f,pagingData:{total:n.total,pageIndex:n.pageIndex,pageSize:n.pageSize},onPaginationChange:m,onSelectChange:b,onSort:x})},v=()=>{const[g,u]=c.useState([]),[f,p]=c.useState(!1),[n,s]=c.useState([]),[d,m]=c.useState({total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}}),b=e=>{console.log("Action clicked",e)},x=()=>{console.log("selectedRows",n)},l=c.useMemo(()=>[{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"",id:"action",cell:e=>o.jsx(S,{size:"xs",onClick:()=>b(e),children:"Action"})}],[]),r=e=>{m(a=>({...a,pageIndex:e}))},h=e=>{m(a=>({...a,pageSize:e}))},k=({order:e,key:a})=>{m(i=>({...i,sort:{order:e,key:a}}))},C=(e,a)=>{console.log("row",a),s(e?i=>i.includes(a.name)?i:[...i,a.name]:i=>i.includes(a.name)?i.filter(y=>y!==a.name):i)},t=(e,a)=>{if(console.log("rows",a),e){const i=a.map(D=>D.original),y=[];i.forEach(D=>{y.push(D.name)}),s(y)}else s([])};return c.useEffect(()=>{(async()=>{p(!0);const a=await w.post("/api/crm/customers",d);a.data&&(u(a.data.data),p(!1),m(i=>({...i,total:a.data.total})))})()},[d.pageIndex,d.sort,d.pageSize]),o.jsxs(o.Fragment,{children:[n.length>0&&o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx(S,{size:"sm",variant:"solid",onClick:x,children:"Batch Action"})}),o.jsx(N,{selectable:!0,columns:l,data:g,loading:f,pagingData:d,onPaginationChange:r,onSelectChange:h,onSort:k,onCheckBoxChange:C,onIndeterminateCheckBoxChange:t})]})},B=()=>{const[g,u]=c.useState([]),[f,p]=c.useState(!1),[n,s]=c.useState({total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}}),d=c.useRef(null),m=I(b,500);function b(t){typeof t=="string"&&(t.length>1||t.length===0)&&s(e=>({...e,query:t,pageIndex:1}))}const x=t=>{m(t.target.value)},l=t=>{console.log("Action clicked",t)},r=[{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"",id:"action",cell:t=>o.jsx(S,{size:"xs",onClick:()=>l(t),children:"Action"})}],h=t=>{s(e=>({...e,pageIndex:t}))},k=t=>{s(e=>({...e,pageSize:t}))},C=({order:t,key:e})=>{console.log({order:t,key:e}),s(a=>({...a,sort:{order:t,key:e}}))};return c.useEffect(()=>{(async()=>{p(!0);const e=await w.post("/api/crm/customers",n);e.data&&(u(e.data.data),p(!1),s(a=>({...a,total:e.data.total})))})()},[n.pageIndex,n.sort,n.pageSize,n.query]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx(A,{ref:d,placeholder:"Search...",size:"sm",className:"lg:w-52",onChange:x})}),o.jsx(N,{columns:r,data:g,loading:f,pagingData:n,onPaginationChange:h,onSelectChange:k,onSort:C})]})},j="DataTableDoc",T={title:"DataTable",desc:'DataTable is often used table logic encapsulated component, it can save up some boilerplate setup from <a class="text-indigo-600 underline" href="https://react-table-v7.tanstack.com/" target="_blank">react-table</a> & quick start with your async table data.'},E=[{mdName:"Basic",mdPath:j,title:"Basic",desc:"",component:o.jsx(P,{})},{mdName:"Checkable",mdPath:j,title:"Checkable",desc:"",component:o.jsx(v,{})},{mdName:"Query",mdPath:j,title:"Query",desc:"",component:o.jsx(B,{})}],R=[{component:"DataTable",api:[{propName:"columns",type:'<a class="text-indigo-600 underline" href="https://tanstack.com/table/v8/docs/guide/column-defs" target="_blank"><code>Array&lt;Column&gt;</code></a>',default:"<code>[]</code>",desc:"The core columns configuration object for the entire table"},{propName:"data",type:"<code>Array&lt;any&gt;</code>",default:"<code>[]</code>",desc:"The data array that you want to display on the table"},{propName:"loading",type:"<code>boolean</code>",default:"<code>false</code>",desc:"Wheter to display loading indicator on the table"},{propName:"onCheckBoxChange",type:"<code>(checked: boolean, row: any) => void</code>",default:"-",desc:"Callback when row checkbox is changed, return a checkbox value & changed row data"},{propName:"onIndeterminateCheckBoxChange",type:"<code>(checked: boolean, rows: any) => void</code>",default:"-",desc:"Callback when indeterminate checkbox is changed, return indeterminate checkbox value & all rows data"},{propName:"onPaginationChange",type:"<code>(pageIndex: number) => void</code>",default:"-",desc:"Callback when pagination changed"},{propName:"onSelectChange",type:"<code>(pageSize: number) => void</code>",default:"-",desc:"Callback when page size selector changed"},{propName:"onSort",type:"<code>(pageSize: {order: 'desc' | 'asc', key: string}) => void</code>",default:"-",desc:"Callback when any column of sorted changed, return sort order & sorted column identifier"},{propName:"pageSizes",type:"<code>number[]</code>",default:"<code>[10, 25, 50, 100]</code>",desc:"Options of selectable page sizes"},{propName:"skeletonAvatarColumns",type:"<code>number[]</code>",default:"-",desc:"Specify skeleton avatar display is which column when loading is true"},{propName:"skeletonAvatarProps",type:'<a class="text-indigo-600 underline" href="/ui-components/avatar#api" target="_blank"><code>AvatarProps</code></a>',default:"-",desc:"Props for skeleton avatar"},{propName:"pagingData",type:"<code>{total: number, pageIndex: number, pageSize: number}</code>",default:"<code>{total: 0, pageIndex: 1, pageSize: 10}</code>",desc:"Paging state of tthe table"}]}],Se=()=>o.jsx(z,{innerFrame:!1,header:T,demos:E,api:R,mdPrefixPath:"shared"});export{Se as default};
