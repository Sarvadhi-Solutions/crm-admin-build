import{v as y,j as e}from"./index-3e880d58.js";import{F,a as t}from"./FormItem-2c1e6567.js";import{I as m}from"./Input-cc5b259f.js";import{B as q}from"./Button-2946c768.js";import{A as P}from"./Alert-f6d23cba.js";import{P as A}from"./PasswordInput-8a466229.js";import{A as C}from"./ActionLink-2d05c490.js";import{u as I}from"./useTimeOutMessage-9a7fff1f.js";import{F as M,a as S,b as o}from"./formik.esm-b6fc01f9.js";import{c as $,a as n}from"./index.esm-ef8817a5.js";import{t as d,N as p}from"./toast-b78f7559.js";const U=$().shape({firstName:n().required("First name is required"),lastName:n().required("Last name is required"),email:n().email("Invalid email address").required("Email is required"),phone:n().matches(/^\d{10}$/,"Phone number must be 10 digits").required("Phone is required"),password:n().min(6,"Password must be at least 6 characters").matches(/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]+$/,"6+ characters, uppercase, number, & special character.").required("Password is required")}),D=c=>{const{disableSubmit:h=!1,className:f,signInUrl:u="/sign-in"}=c,{signUp:x}=y(),[l,g]=I(),j=async(i,a)=>{const{firstName:r,phone:N,lastName:w,password:b,email:v}=i;a(!0);const s=await x({firstName:r,phone:N,lastName:w,password:b,email:v});console.log(s),(s==null?void 0:s.status)!=="failed"?d.push(e.jsx(p,{title:"Successfuly added",type:"success",duration:2500,children:s==null?void 0:s.message}),{placement:"top-end"}):(g(s==null?void 0:s.message),d.push(e.jsx(p,{title:"Something went wrong!!!",type:"danger",duration:2500,children:s==null?void 0:s.message}),{placement:"top-end"})),a(!1)};return e.jsxs("div",{className:f,children:[l&&e.jsx(P,{showIcon:!0,className:"mb-4",type:"danger",children:l}),e.jsx(M,{initialValues:{firstName:"",lastName:"",email:"",phone:"",password:""},validationSchema:U,onSubmit:(i,{setSubmitting:a})=>{h?a(!1):j(i,a)},children:({touched:i,errors:a,isSubmitting:r})=>e.jsx(S,{children:e.jsxs(F,{children:[e.jsx(t,{label:"First Name",invalid:a.firstName&&i.firstName,errorMessage:a.firstName,children:e.jsx(o,{type:"text",autoComplete:"off",name:"firstName",placeholder:"First Name",component:m})}),e.jsx(t,{label:"Last Name",invalid:a.lastName&&i.lastName,errorMessage:a.lastName,children:e.jsx(o,{type:"text",autoComplete:"off",name:"lastName",placeholder:"Last Name",component:m})}),e.jsx(t,{label:"Email",invalid:a.email&&i.email,errorMessage:a.email,children:e.jsx(o,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:m})}),e.jsx(t,{label:"Phone",invalid:a.phone&&i.phone,errorMessage:a.phone,children:e.jsx(o,{type:"text",autoComplete:"off",name:"phone",placeholder:"Phone",component:m})}),e.jsx(t,{label:"Password",invalid:a.password&&i.password,errorMessage:a.password,children:e.jsx(o,{autoComplete:"off",name:"password",placeholder:"Password",component:A})}),e.jsx(q,{block:!0,loading:r,variant:"solid",type:"submit",children:r?"Creating Account...":"Sign Up"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Already have an account? "}),e.jsx(C,{to:u,children:"Sign in"})]})]})})})]})};export{D as S};
