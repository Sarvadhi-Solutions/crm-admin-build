import{r as y,j as e,v as k}from"./index-9ca3e01c.js";import{I as n}from"./Input-e68710e2.js";import{B as N}from"./Button-da045d3b.js";import{C as q}from"./index-9410771e.js";import{F as M,a as o}from"./FormItem-1b070625.js";import{A as D}from"./Alert-f817fdbe.js";import{P}from"./PasswordInput-b9bb0297.js";import{A as z}from"./ActionLink-05c53a3f.js";import{u as R}from"./useTimeOutMessage-6d9bec80.js";import{F,a as E,b as r}from"./formik.esm-fb6ffb80.js";import{c as I,a as u,d as S,f as V}from"./index.esm-b0403918.js";import{t as v,N as w}from"./toast-de05ed0a.js";import"./index-494119d6.js";import"./Badge-85dac0e9.js";import"./RangeCalendar-8cadcee6.js";import"./Card-c0916875.js";import"./index-2a568809.js";import{D as $}from"./Dialog-cdd3831f.js";import"./Drawer-5ebdae63.js";import"./index-82b50102.js";import"./toString-8635ec69.js";import"./index-c083248d.js";import"./index-774679c3.js";import"./index-bc261936.js";import"./Pagination-66996428.js";import"./Progress-fbf7b18f.js";import"./index-c6c028e4.js";import"./ScrollBar-cac6bbf2.js";import"./index-6d5fd88b.js";import"./Select-36a3bae0.js";import"./Skeleton-3bd3e76c.js";import"./index-6cd38ffa.js";import"./Switcher-2d0cc416.js";import"./index-318debb8.js";import"./index-c1f0d4d3.js";import"./Tag-17d38476.js";import"./index-594d80e6.js";import"./index-87d3c333.js";import"./Tooltip-07d43494.js";import"./Upload-527c5521.js";import{c as U,A as T}from"./index.esm-bedf3ee0.js";import{a as B}from"./index.esm-adadbc61.js";import{a as Z}from"./index.esm-641e89ff.js";import{N as L}from"./index.esm-6b1f01ae.js";import{b as W}from"./index.esm-1cdb06ae.js";import{T as G}from"./index.esm-e602bf2f.js";import"./Views-42612634.js";import"./chart.constant-dacdcfee.js";import"./GrowShrinkTag-ceab12e2.js";import"./DataTable-6d44b31f.js";import"./react-tooltip.min-1b885ad9.js";import"./RichTextEditor-cec5da6d.js";import"./SegmentItemOption-5201e7ab.js";import{S as H}from"./StickyFooter-541f7d4b.js";import"./SvgIcon-28360984.js";import{a as Y}from"./SuperAdminServices-1ce87e45.js";const _=I().shape({organizationName:u().required("Organization Name Required"),industry:u().required("Industry Required"),contact:S().typeError("Contact must be a number").required("Contact is required").test("is-number","Contact must be a number",t=>!isNaN(t)).test("is-ten-digits"," Contact must be exactly 10 digits",t=>{if(t){const m=Number(t);return/^\d{10}$/.test(m.toString())}return!0}).test("is-not-more-than-ten-digits","Contact must not exceed 10 digits",t=>t?Number(t).toString().length<=10:!0),email:u().matches(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i,"Invalid email").required("Email is required"),numberOfEmployees:S().typeError("Must be a number").positive("Must be a non-negative number")}),A=y.forwardRef((t,m)=>{const{closeDialog:x}=t,[b,g]=y.useState(!1),f=async s=>{var l,p,j;g(!0);const a=await Y(s);((l=a==null?void 0:a.data)==null?void 0:l.status)!=="failed"?v.push(e.jsx(w,{title:"Successfuly added",type:"success",duration:2500,children:(p=a==null?void 0:a.data)==null?void 0:p.message}),{placement:"top-end"}):v.push(e.jsx(w,{title:"Something went wrong!!!",type:"danger",duration:2500,children:(j=a==null?void 0:a.data)==null?void 0:j.message}),{placement:"top-end"}),console.log({result:a}),g(!1),x()};return e.jsx(F,{innerRef:m,initialValues:{organizationName:"",industry:"",contact:null,website:"",numberOfEmployees:null,notes:"",email:""},validationSchema:_,onSubmit:async(s,{setSubmitting:a})=>{await f(s),a(!1)},children:({touched:s,errors:a,values:l,setFieldValue:p})=>e.jsxs(E,{children:[e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 ",children:e.jsxs("div",{className:"lg:col-span-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(o,{label:"Organization Name*",invalid:a.organizationName&&s.organizationName,errorMessage:a.organizationName,children:e.jsx(r,{type:"text",autoComplete:"off",name:"organizationName",placeholder:"Organization Name",component:n,prefix:e.jsx(Z,{className:"text-xl"})})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(o,{label:"Industry*",invalid:a.industry&&s.industry,errorMessage:a.industry,children:e.jsx(r,{type:"text",autoComplete:"off",name:"industry",value:l.industry,placeholder:"Organization Industry",component:n,prefix:e.jsx(B,{className:"text-xl"})})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(o,{label:"Contact*",invalid:a.contact&&s.contact,errorMessage:a.contact,children:e.jsx(r,{type:"number",autoComplete:"off",name:"contact",placeholder:"Contact",component:n,prefix:e.jsx(G,{className:"text-xl"})})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(o,{label:"Email*",invalid:a.email&&s.email,errorMessage:a.email,children:e.jsx(r,{type:"text",autoComplete:"off",name:"email",placeholder:"Email",component:n,prefix:e.jsx(L,{className:"text-xl"})})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(o,{label:"Website",invalid:a.website&&s.website,errorMessage:a.website,children:e.jsx(r,{type:"text",autoComplete:"off",name:"website",placeholder:"Website",component:n,prefix:e.jsx(W,{className:"text-xl"})})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(o,{label:"Number Of Employees",invalid:a.numberOfEmployees&&s.numberOfEmployees,errorMessage:a.numberOfEmployees,children:e.jsx(r,{type:"number",autoComplete:"off",name:"numberOfEmployees",placeholder:"Number Of Employees",component:n,prefix:e.jsx(U,{className:"text-xl"})})})})]}),e.jsx(o,{label:"Description",labelClass:"!justify-start",invalid:a.notes&&s.notes,errorMessage:a.notes,children:e.jsx(r,{textArea:!0,type:"text",autoComplete:"off",name:"notes",placeholder:"Description",component:n})})]})})}),e.jsx(H,{className:"flex items-center justify-end py-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"md:flex items-center",children:[e.jsx(N,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:x,children:"Cancel"}),e.jsx(N,{size:"sm",type:"submit",variant:"solid",icon:e.jsx(T,{}),loading:b,children:"Save"})]})})]})})});A.displayName="OrganizationForm";const J=I().shape({email:u().required("Please enter your user name"),password:u().required("Please enter your password"),rememberMe:V()}),ea=t=>{const{disableSubmit:m=!1,className:x,forgotPasswordUrl:b="/forgot-password",signUpUrl:g="/sign-up"}=t,[f,s]=R(),[a,l]=y.useState(!1),{signIn:p}=k(),j=async(c,i)=>{const{email:h,password:O}=c;i(!0);const d=await p({email:h,password:O});(d==null?void 0:d.status)==="failed"&&v.push(e.jsx(w,{title:"Sign in failed",type:"danger",duration:2500,children:d==null?void 0:d.message}),{placement:"top-end"}),i(!1)},C=()=>{l(!1)};return e.jsxs("div",{className:x,children:[f&&e.jsx(D,{showIcon:!0,className:"mb-4",type:"danger",children:e.jsx(e.Fragment,{children:f})}),e.jsx(F,{initialValues:{email:"",password:"",rememberMe:!0},validationSchema:J,onSubmit:(c,{setSubmitting:i})=>{m?i(!1):j(c,i)},children:({touched:c,errors:i,isSubmitting:h,setFieldValue:O})=>e.jsx(E,{children:e.jsxs(M,{children:[e.jsx(o,{label:"User Name",invalid:i.email&&c.email,errorMessage:i.email,children:e.jsx(r,{type:"text",autoComplete:"off",name:"email",placeholder:"User Name",component:n})}),e.jsx(o,{label:"Password",invalid:i.password&&c.password,errorMessage:i.password,children:e.jsx(r,{autoComplete:"off",name:"password",placeholder:"Password",component:P})}),e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsx(r,{className:"mb-0",name:"rememberMe",component:q,children:"Remember Me"}),e.jsx(z,{to:b,children:"Forgot Password?"})]}),e.jsx(N,{block:!0,loading:h,variant:"solid",type:"submit",children:h?"Signing in...":"Sign In"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("span",{children:["Don't have an account yet?"," "]}),e.jsx(z,{to:g,children:"Sign up"})]})]})})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("span",{children:["Onboard your organization"," "]}),e.jsx("button",{onClick:()=>{l(!0)},children:e.jsx("span",{className:"text-indigo-700",children:"Onboarding..."})})]}),e.jsxs($,{isOpen:a,onClose:C,children:[e.jsx("h5",{className:"mb-4",children:"Register Your Organization"}),e.jsx(A,{closeDialog:C})]})]})};export{ea as S};
