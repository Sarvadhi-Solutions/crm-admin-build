import{am as x,an as D,ao as E,ap as S,ar as j,a as y,ab as N,aq as b,r as F,j as r,ai as w}from"./index-7c10d2a3.js";import{D as A}from"./DoubleSidedImage-7c9dcb85.js";import{t as R,N as v}from"./toast-1b1e93c9.js";import{d as C,e as I,c as L}from"./SalesService-ffaaf4b4.js";import{P as $}from"./ProductForm-aa434d77.js";import{i as d}from"./Views-5cb69e9a.js";import"./useTimeout-6476564d.js";import"./CloseButton-7345a4c9.js";import"./index.esm-d9298b40.js";import"./StatusIcon-8f517345.js";import"./chainedFunction-070f832c.js";import"./FormItem-dcfd8ab9.js";import"./context-0e2e9d1c.js";import"./index-be56d80d.js";import"./Button-208b5861.js";import"./index-1d4cf12e.js";import"./useControllableState-8172e3e5.js";import"./useDidUpdate-048f50b6.js";import"./useMergeRef-788c4cb0.js";import"./useRootClose-06442b2e.js";import"./useUncertainRef-4da6c90d.js";import"./useUniqueId-ade48d2a.js";import"./toString-18e1007d.js";import"./Dialog-ab50fc44.js";import"./index-72e63a8f.js";import"./StickyFooter-29c48775.js";import"./ConfirmDialog-cb7325f0.js";import"./index-e31e1427.js";import"./Tooltip-6aa5489c.js";import"./usePopper-80f33697.js";import"./index.esm-db0614cf.js";import"./formik.esm-9efe14ff.js";import"./AdaptableCard-d528512e.js";import"./Card-4ce3f213.js";import"./RichTextEditor-e866ff66.js";import"./_baseIsEqual-47871e7b.js";import"./_Uint8Array-be229bd0.js";import"./_MapCache-e75dc2ce.js";import"./Input-81114df0.js";import"./isNil-d3ca72b8.js";import"./get-5a481960.js";import"./react-number-format.es-ddce5a63.js";import"./Select-013d671c.js";import"./slicedToArray-afe06b21.js";import"./objectWithoutProperties-8e2777d0.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./extends-98964cd2.js";import"./toConsumableArray-2133173c.js";import"./floating-ui.dom-bef9cea3.js";import"./react-select-creatable.esm-22774579.js";import"./Upload-bfebe208.js";import"./cloneDeep-b9fa1e05.js";import"./_getPrototype-2f204ca7.js";import"./index.esm-3bb8beeb.js";import"./index.esm-900894b4.js";import"./index.esm-a61d5a6d.js";const u="salesProductEdit",c=x(u+"/getProducts",async s=>(await C(s)).data),k=async s=>(await I(s)).data,q=async s=>(await L(s)).data,M={loading:!0,productData:{}},G=D({name:`${u}/state`,initialState:M,reducers:{},extraReducers:s=>{s.addCase(c.fulfilled,(o,e)=>{o.productData=e.payload,o.loading=!1}).addCase(c.pending,o=>{o.loading=!0})}}),O=G.reducer,T=E({data:O}),m=S;j("salesProductEdit",T);const _=()=>{const s=y(),o=N(),e=b(),i=m(t=>t.salesProductEdit.data.productData),p=m(t=>t.salesProductEdit.data.loading),l=t=>{s(c(t))},f=async(t,a)=>{a(!0);const P=await k(t);a(!1),P&&n("updated")},h=()=>{e("/app/sales/product-list")},g=async t=>{t(!1),await q({id:i.id})&&n("deleted")},n=t=>{R.push(r.jsxs(v,{title:`Successfuly ${t}`,type:"success",duration:2500,children:["Product successfuly ",t]}),{placement:"top-center"}),e("/app/sales/product-list")};return F.useEffect(()=>{const a={id:o.pathname.substring(o.pathname.lastIndexOf("/")+1)};l(a)},[o.pathname]),r.jsxs(r.Fragment,{children:[r.jsx(w,{loading:p,children:!d(i)&&r.jsx(r.Fragment,{children:r.jsx($,{type:"edit",initialData:i,onFormSubmit:f,onDiscard:h,onDelete:g})})}),!p&&d(i)&&r.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[r.jsx(A,{src:"/img/others/img-2.png",darkModeSrc:"/img/others/img-2-dark.png",alt:"No product found!"}),r.jsx("h3",{className:"mt-8",children:"No product found!"})]})]})},Ht=_;export{Ht as default};
