import{w as N,r as a,u as P,J as z,j as o}from"./index-e9e80fad.js";import{A as V}from"./AdaptableCard-4f414664.js";import{M as C}from"./index-e4774632.js";import{D as g}from"./Views-6a6f19fc.js";import{C as v}from"./CustomFields-2c59334b.js";import{I as E}from"./Inventory-c1bd4484.js";import{O as b}from"./Organization-1d241e58.js";import{S as A}from"./Source-3b536116.js";import{S as F}from"./StateCity-fe468e54.js";import{T as M}from"./TagCategories-dbc50efc.js";import R from"./UsersRoles-6a39e7c7.js";import{S as I}from"./Status-7569e8bf.js";import"./Card-14c7d5e0.js";import"./index-ffd743d2.js";import"./index.esm-0e189e80.js";import"./useUniqueId-6815521f.js";import"./toString-d452c1eb.js";import"./index-7f78caa8.js";import"./useControllableState-97f974f1.js";import"./CrmService-dcc529f1.js";import"./Button-227d4871.js";import"./Input-d4f6dd9d.js";import"./isNil-5d9d980a.js";import"./get-e7c8697a.js";import"./_MapCache-49bf6e31.js";import"./debounce-5304a7ff.js";import"./cloneDeep-ccfbe55a.js";import"./_getPrototype-64e64018.js";import"./DataTable-e88b1948.js";import"./index-a7d59cb4.js";import"./index.esm-778bb6ce.js";import"./Pagination-1965e489.js";import"./Select-435e7909.js";import"./slicedToArray-64904844.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-0e64d439.js";import"./floating-ui.dom-4bc0055b.js";import"./index-7e05bd38.js";import"./_baseIsEqual-934e8574.js";import"./Skeleton-635ffbd7.js";import"./index-416cf604.js";import"./checkEditUpdate-7ffe574b.js";import"./moment-fbc5633a.js";import"./useThemeClass-395527ab.js";import"./TextTruncate-f41ae5af.js";import"./Alert-4b9289a7.js";import"./useTimeout-0a987a2a.js";import"./CloseButton-59471e32.js";import"./StatusIcon-8798719a.js";import"./index-fdab81dd.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-0ed58b52.js";import"./usePopper-279cd1bc.js";import"./index.esm-a4c1c24f.js";import"./index-bfcd6c72.js";import"./Badge-c25ebbc3.js";import"./RangeCalendar-8629c316.js";import"./index-034f67b7.js";import"./useRootClose-50069751.js";import"./TimeInput-3543dad0.js";import"./useDidUpdate-b1f63e57.js";import"./Dialog-78dc0140.js";import"./index-fc6fab3c.js";import"./Drawer-6d31deda.js";import"./index-713c10b4.js";import"./useUncertainRef-07db30ec.js";import"./chainedFunction-070f832c.js";import"./FormItem-4bb500cc.js";import"./index-5342abc4.js";import"./toast-87b47471.js";import"./Progress-d4986dc8.js";import"./index-2b35542d.js";import"./ScrollBar-21d87604.js";import"./index-ef47c85f.js";import"./index-c9660479.js";import"./mapCloneElement-b62b3eb9.js";import"./Switcher-c852a089.js";import"./Tag-b2597221.js";import"./index-9428398a.js";import"./index-ae776672.js";import"./Upload-15d917f3.js";import"./index.esm-c9613619.js";import"./chart.constant-b273fb4d.js";import"./GrowShrinkTag-c96f06fc.js";import"./react-tooltip.min-236182d9.js";import"./RichTextEditor-a6622f10.js";import"./SegmentItemOption-c74527ef.js";import"./StickyFooter-53591c8b.js";import"./SvgIcon-c423a0fc.js";import"./formik.esm-41cf3f17.js";import"./index.esm-5a58505e.js";import"./index.esm-0ceb40eb.js";import"./helper-64c17a1c.js";import"./index.esm-34a7f8fe.js";import"./ConfirmDialog-556d0379.js";import"./useGetModule-9d753fc1.js";import"./index-72cb1dee.js";import"./index.esm-d8881e09.js";import"./index.esm-fc2e78fd.js";import"./FormDesription-437bf780.js";import"./FormRow-397d136c.js";import"./index.esm-95fd78bc.js";import"./index-b61495b8.js";/* empty css              */import"./TagCategoryDetailsForm-6e4a85ea.js";import"./colorPicker-49661071.js";const O=()=>{var d;const l=N(),[m,w]=a.useState({}),[p,u]=a.useState(null),c=P(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=z.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(U=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||y(s,e)||h(s)||j(s)||S(s,e))),n={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};w(n)},[l.pathname,c]);const h=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="status"?!!e:!1},y=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,S=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(n=>n.master.moduleName.toLowerCase()==="users"&&n.canView===!0),i=t.find(n=>n.master.moduleName.toLowerCase()==="roles"&&n.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[p==null?void 0:p.key]);const f=()=>{switch(p==null?void 0:p.key){case"appsCrm.organization":return o.jsx(b,{});case"appsCrm.usersrole":return o.jsx(R,{});case"appsCrm.tagCategories":return o.jsx(M,{});case"appsCrm.inventory":return o.jsx(E,{});case"appsCrm.statecity":return o.jsx(F,{});case"appsCrm.customFields":return o.jsx(v,{});case"appsCrm.status":return o.jsx(I,{});case"appsCrm.sources":return o.jsx(A,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(V,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Tr=O;export{Tr as default};
