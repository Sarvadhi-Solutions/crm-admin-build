import{w as N,r as a,u as P,J as z,j as o}from"./index-f0c7b593.js";import{A as V}from"./AdaptableCard-af2a9d2e.js";import{M as C}from"./index-cd4a639d.js";import{D as g}from"./Views-f075be69.js";import{C as v}from"./CustomFields-10e93b39.js";import{I as E}from"./Inventory-fba49760.js";import{O as b}from"./Organization-f4aa05a9.js";import{S as A}from"./Source-8daf9ba6.js";import{S as F}from"./StateCity-12d0ecd3.js";import{T as M}from"./TagCategories-e1426e73.js";import R from"./UsersRoles-1704ee00.js";import{S as I}from"./Status-c06d054b.js";import"./Card-d2bb7bb1.js";import"./index-e9f2e738.js";import"./index.esm-e5bc54ff.js";import"./useUniqueId-b4c9cc1b.js";import"./toString-15315b0c.js";import"./index-0fbd5995.js";import"./useControllableState-2e915fdc.js";import"./CrmService-dbe6e33f.js";import"./Button-7f5aeb19.js";import"./Input-b0936f40.js";import"./isNil-f2b7492f.js";import"./get-f1462f52.js";import"./_MapCache-0e9047d5.js";import"./debounce-cfdc19d0.js";import"./cloneDeep-a7f8bdaf.js";import"./_getPrototype-0af54c7c.js";import"./DataTable-b0d71643.js";import"./index-b0e56b87.js";import"./index.esm-7aedf532.js";import"./Pagination-4451079e.js";import"./Select-20b819a9.js";import"./slicedToArray-4d193841.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-4b0cd007.js";import"./floating-ui.dom-4bc0055b.js";import"./index-3454c4af.js";import"./_baseIsEqual-cd068756.js";import"./Skeleton-3fb87948.js";import"./index-d3141ad9.js";import"./checkEditUpdate-a8d8ed64.js";import"./moment-fbc5633a.js";import"./useThemeClass-a90261c9.js";import"./TextTruncate-a320edf5.js";import"./Alert-6365923a.js";import"./useTimeout-dc84f5ca.js";import"./CloseButton-0049a26a.js";import"./StatusIcon-ee78f8c3.js";import"./index-e46ae74f.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-c002e367.js";import"./usePopper-a15905d1.js";import"./index.esm-6eb7bfab.js";import"./index-18282a3b.js";import"./Badge-eb9394bd.js";import"./RangeCalendar-4446a681.js";import"./index-7fb568e6.js";import"./useRootClose-30d78bea.js";import"./TimeInput-3420c0cd.js";import"./useDidUpdate-99adc2ba.js";import"./Dialog-863f25dc.js";import"./index-3b8a3b80.js";import"./Drawer-3213f845.js";import"./index-096ca5d8.js";import"./useUncertainRef-d24e847b.js";import"./chainedFunction-070f832c.js";import"./FormItem-39c4f499.js";import"./index-cae4e5da.js";import"./toast-98ab077b.js";import"./Progress-c215b6a7.js";import"./index-aa5943b4.js";import"./ScrollBar-af66e651.js";import"./index-2d35600c.js";import"./index-681acbb6.js";import"./mapCloneElement-4930eeca.js";import"./Switcher-52adaf57.js";import"./Tag-c0e1c031.js";import"./index-11547d1a.js";import"./index-ff0fc04f.js";import"./Upload-652ef9c2.js";import"./index.esm-cdcdcd5a.js";import"./chart.constant-02b58366.js";import"./GrowShrinkTag-527a2d3f.js";import"./react-tooltip.min-71b0b431.js";import"./RichTextEditor-5416da31.js";import"./SegmentItemOption-59370a59.js";import"./StickyFooter-e5abd172.js";import"./SvgIcon-586bfa82.js";import"./formik.esm-251b655f.js";import"./index.esm-08433e05.js";import"./index.esm-36ab1692.js";import"./helper-64c17a1c.js";import"./index.esm-e9a42a23.js";import"./ConfirmDialog-a2f5c181.js";import"./useGetModule-0613f8e4.js";import"./index-fc80bde3.js";import"./index.esm-648d214b.js";import"./index.esm-6d11550f.js";import"./FormDesription-d6834b2f.js";import"./FormRow-f74a3caa.js";import"./index.esm-a18012d5.js";import"./index-74f01dd1.js";/* empty css              */import"./TagCategoryDetailsForm-c2d304ff.js";import"./colorPicker-50a2b577.js";const O=()=>{var d;const l=N(),[m,w]=a.useState({}),[p,u]=a.useState(null),c=P(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=z.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(U=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||y(s,e)||h(s)||j(s)||S(s,e))),n={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};w(n)},[l.pathname,c]);const h=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="status"?!!e:!1},y=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,S=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(n=>n.master.moduleName.toLowerCase()==="users"&&n.canView===!0),i=t.find(n=>n.master.moduleName.toLowerCase()==="roles"&&n.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[p==null?void 0:p.key]);const f=()=>{switch(p==null?void 0:p.key){case"appsCrm.organization":return o.jsx(b,{});case"appsCrm.usersrole":return o.jsx(R,{});case"appsCrm.tagCategories":return o.jsx(M,{});case"appsCrm.inventory":return o.jsx(E,{});case"appsCrm.statecity":return o.jsx(F,{});case"appsCrm.customFields":return o.jsx(v,{});case"appsCrm.status":return o.jsx(I,{});case"appsCrm.sources":return o.jsx(A,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(V,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Tr=O;export{Tr as default};
