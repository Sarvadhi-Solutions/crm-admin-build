import{w as S,r as a,u as N,J as P,j as o}from"./index-0504f3e5.js";import{A as z}from"./AdaptableCard-46852138.js";import{M as C}from"./index-391881a7.js";import{D as g}from"./Views-3281299b.js";import{C as V}from"./CustomFields-95989d36.js";import{I as v}from"./Inventory-c0c3aad0.js";import{O as E}from"./Organization-41807d5e.js";import{S as b}from"./Source-31ef1a9f.js";import{S as A}from"./StateCity-5fd64160.js";import{T as F}from"./TagCategories-78d9a813.js";import R from"./UsersRoles-564f6b70.js";import"./Card-74cd14d0.js";import"./index-ce935429.js";import"./index.esm-25dc1721.js";import"./useUniqueId-af5a1030.js";import"./toString-d84b2ed4.js";import"./index-80febe26.js";import"./useControllableState-82e33d0d.js";import"./CrmService-bf5ebfbc.js";import"./Button-895a686e.js";import"./Input-b101ae80.js";import"./isNil-47784a64.js";import"./get-aa3e1505.js";import"./_MapCache-aa7eeb53.js";import"./debounce-79ef0415.js";import"./cloneDeep-9088825f.js";import"./_getPrototype-775a1663.js";import"./DataTable-9e0c0540.js";import"./index-58094b57.js";import"./index.esm-23d1fff1.js";import"./Pagination-029cde77.js";import"./Select-20a44aea.js";import"./slicedToArray-4d298f8f.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-8b708ffc.js";import"./floating-ui.dom-4bc0055b.js";import"./index-1ec4e0d7.js";import"./_baseIsEqual-dffadfad.js";import"./Skeleton-d9265fba.js";import"./index-855d7752.js";import"./checkEditUpdate-b21811ea.js";import"./moment-fbc5633a.js";import"./useThemeClass-971b53a9.js";import"./TextTruncate-b5256f77.js";import"./Alert-7d2f3d15.js";import"./useTimeout-70ff9997.js";import"./CloseButton-3bea4048.js";import"./StatusIcon-cfa55813.js";import"./index-48126d05.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-8ef6fa0f.js";import"./usePopper-a37d9e71.js";import"./index.esm-919eaa3b.js";import"./index-67195d75.js";import"./Badge-f7a2a6cd.js";import"./RangeCalendar-24e6362b.js";import"./index-ebf37477.js";import"./useRootClose-96153693.js";import"./TimeInput-be6447b7.js";import"./useDidUpdate-70853252.js";import"./Dialog-7d21bbc0.js";import"./index-5a12bd94.js";import"./Drawer-f1a47725.js";import"./index-97244f45.js";import"./useUncertainRef-7460d94f.js";import"./chainedFunction-070f832c.js";import"./FormItem-f81129d8.js";import"./index-e5a431cb.js";import"./toast-fca74249.js";import"./Progress-4044e341.js";import"./index-4f4f10ff.js";import"./ScrollBar-50f49651.js";import"./index-2378ff43.js";import"./index-cefe9214.js";import"./mapCloneElement-b8bbda63.js";import"./Switcher-28efe701.js";import"./Tag-d2997001.js";import"./index-fba9cebf.js";import"./index-b6bc4a2a.js";import"./Upload-873f41fa.js";import"./index.esm-7a2fa432.js";import"./chart.constant-fdaa2e35.js";import"./GrowShrinkTag-761749d9.js";import"./react-tooltip.min-65370a0a.js";import"./RichTextEditor-1e7bc001.js";import"./SegmentItemOption-f1881317.js";import"./StickyFooter-cd6fbd09.js";import"./SvgIcon-b0904d60.js";import"./formik.esm-0c1c749e.js";import"./index.esm-328a03b9.js";import"./index.esm-2c9047c6.js";import"./helper-64c17a1c.js";import"./index.esm-ee201180.js";import"./ConfirmDialog-a2fd1c5f.js";import"./index.esm-cda4505c.js";import"./index.esm-c090bf2a.js";import"./isLastChild-83eb4c23.js";import"./FormDesription-8442094c.js";import"./FormRow-3b25ae15.js";import"./index.esm-17f66721.js";/* empty css              */import"./index.esm-3bf65539.js";import"./index.esm-270ff3fe.js";import"./TagCategoryDetailsForm-32f2b3a3.js";const I=()=>{var d;const l=S(),[m,h]=a.useState({}),[n,u]=a.useState(null),c=N(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=P.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(O=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||j(s,e)||w(s)||y(s,e))),p={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};h(p)},[l.pathname,c]);const w=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,y=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(p=>p.master.moduleName.toLowerCase()==="users"&&p.canView===!0),i=t.find(p=>p.master.moduleName.toLowerCase()==="roles"&&p.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[n==null?void 0:n.key]);const f=()=>{switch(n==null?void 0:n.key){case"appsCrm.organization":return o.jsx(E,{});case"appsCrm.usersrole":return o.jsx(R,{});case"appsCrm.tagCategories":return o.jsx(F,{});case"appsCrm.inventory":return o.jsx(v,{});case"appsCrm.statecity":return o.jsx(A,{});case"appsCrm.customFields":return o.jsx(V,{});case"appsCrm.sources":return o.jsx(b,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(z,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Rr=I;export{Rr as default};
