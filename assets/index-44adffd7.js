import{w as S,r as a,u as N,J as P,j as o}from"./index-b5c96d6f.js";import{A as z}from"./AdaptableCard-7a44f03d.js";import{M as C}from"./index-086985ce.js";import{D as g}from"./Views-d078b8aa.js";import{C as V}from"./CustomFields-efa38992.js";import{I as v}from"./Inventory-52b35883.js";import{O as E}from"./Organization-4140393d.js";import{S as b}from"./Source-419588b0.js";import{S as A}from"./StateCity-8dac13f7.js";import{T as F}from"./TagCategories-40a43978.js";import R from"./UsersRoles-b376b663.js";import"./Card-c42b1469.js";import"./index-3e540662.js";import"./index.esm-940af124.js";import"./useUniqueId-cbe73990.js";import"./toString-7113ae37.js";import"./index-b228c068.js";import"./useControllableState-4f0ccac4.js";import"./CrmService-47552c0d.js";import"./Button-da51d2ac.js";import"./Input-caf25bb9.js";import"./isNil-c0353fb3.js";import"./get-c9359669.js";import"./_MapCache-0312ac18.js";import"./debounce-1246d026.js";import"./cloneDeep-7f6fd88e.js";import"./_getPrototype-e2865bce.js";import"./DataTable-81997107.js";import"./index-d386bcd8.js";import"./index.esm-bb1b8dcb.js";import"./Pagination-6b86cff6.js";import"./Select-3ec74fb5.js";import"./slicedToArray-45d68868.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-07900fbb.js";import"./floating-ui.dom-4bc0055b.js";import"./index-982187c3.js";import"./_baseIsEqual-c7c4333f.js";import"./Skeleton-84c1526f.js";import"./index-711951cc.js";import"./checkEditUpdate-f02d2b7d.js";import"./moment-fbc5633a.js";import"./useThemeClass-fc02f5de.js";import"./TextTruncate-18129649.js";import"./Alert-94514008.js";import"./useTimeout-b86b6b88.js";import"./CloseButton-b7f862f3.js";import"./StatusIcon-e35990f8.js";import"./index-bcfa2e40.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-997e0ead.js";import"./usePopper-f50095fa.js";import"./index.esm-bceff657.js";import"./index-7bdb92b7.js";import"./Badge-1a8ca56b.js";import"./RangeCalendar-9a53402d.js";import"./index-20a15026.js";import"./useRootClose-982e050e.js";import"./TimeInput-60271795.js";import"./useDidUpdate-c567335c.js";import"./Dialog-fa8d09a4.js";import"./index-2eae398d.js";import"./Drawer-1133a348.js";import"./index-f6e3e571.js";import"./useUncertainRef-b93ee1d7.js";import"./chainedFunction-070f832c.js";import"./FormItem-37a1eee9.js";import"./index-491f8d75.js";import"./toast-d18b180d.js";import"./Progress-129ff5fc.js";import"./index-cc973a23.js";import"./ScrollBar-5b47d6b7.js";import"./index-5d71cd0c.js";import"./index-89155a90.js";import"./mapCloneElement-05afbc30.js";import"./Switcher-271d4057.js";import"./Tag-72aa2236.js";import"./index-c8d246ba.js";import"./index-f714a4bf.js";import"./Upload-ed09c80a.js";import"./index.esm-e9e1ad9d.js";import"./chart.constant-8521dba9.js";import"./GrowShrinkTag-683b27de.js";import"./react-tooltip.min-fb848c7c.js";import"./RichTextEditor-9614330b.js";import"./SegmentItemOption-512ae69d.js";import"./StickyFooter-92cfccef.js";import"./SvgIcon-d3a0c21b.js";import"./formik.esm-c273ee2f.js";import"./index.esm-9702f6b8.js";import"./index.esm-57a69e71.js";import"./helper-64c17a1c.js";import"./index.esm-d697353e.js";import"./ConfirmDialog-f08bba8c.js";import"./index.esm-f5550316.js";import"./index.esm-13d2307f.js";import"./isLastChild-83eb4c23.js";import"./FormDesription-5679cf79.js";import"./FormRow-43fa8417.js";import"./index.esm-6bd2d3e4.js";/* empty css              */import"./index.esm-b5481e08.js";import"./index.esm-601db039.js";import"./TagCategoryDetailsForm-75976cbb.js";const I=()=>{var d;const l=S(),[m,h]=a.useState({}),[n,u]=a.useState(null),c=N(r=>{var t,e;return((e=(t=r.auth.user)==null?void 0:t.role)==null?void 0:e.rolePermissions)||[]});a.useEffect(()=>{var x;const r=l.pathname.trim().split("/").pop(),t=P.find(s=>s.title.toLowerCase()===(r==null?void 0:r.toLowerCase())),e=c.filter(s=>s.canView),i=(x=t==null?void 0:t.subMenu)==null?void 0:x.filter(s=>!!e.find(O=>s.title.toLowerCase()==="inventory"||s.title.toLowerCase()==="state/city"||s.title.toLowerCase()==="sources"||L(s,e)||j(s,e)||w(s)||y(s,e))),p={key:t==null?void 0:t.key,title:t==null?void 0:t.title,menu:i,translateKey:t==null?void 0:t.translateKey};h(p)},[l.pathname,c]);const w=(r,t)=>{const e=c.every(i=>i.canManage);return r.title.toLowerCase()==="custom fields"?!!e:!1},j=(r,t)=>r.title.toLowerCase()==="tag categories"?!!t.find(i=>i.master.moduleName.toLowerCase()==="tags"&&i.canView===!0):!1,y=(r,t)=>r.title.toLowerCase()==="organization"?!!t.find(i=>i.master.moduleName.toLowerCase()==="organizations"&&i.canView===!0):!1,L=(r,t)=>{if(r.title.toLowerCase()==="users & roles"){const e=t.find(p=>p.master.moduleName.toLowerCase()==="users"&&p.canView===!0),i=t.find(p=>p.master.moduleName.toLowerCase()==="roles"&&p.canView===!0);return!!e&&!!i}return!1};a.useEffect(()=>{var r;(r=m.menu)!=null&&r.length&&u(g.find(t=>{var e;return t.key===((e=m==null?void 0:m.menu[0])==null?void 0:e.key)||""}))},[m==null?void 0:m.menu]);const k=async(r,t)=>{const e=g.find(i=>i.key===r);u(e)};a.useEffect(()=>{f()},[n==null?void 0:n.key]);const f=()=>{switch(n==null?void 0:n.key){case"appsCrm.organization":return o.jsx(E,{});case"appsCrm.usersrole":return o.jsx(R,{});case"appsCrm.tagCategories":return o.jsx(F,{});case"appsCrm.inventory":return o.jsx(v,{});case"appsCrm.statecity":return o.jsx(A,{});case"appsCrm.customFields":return o.jsx(V,{});case"appsCrm.sources":return o.jsx(b,{})}return o.jsx(o.Fragment,{children:"Bapu"})};return o.jsx(z,{children:o.jsxs("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:[o.jsx("h5",{className:"font-bold",children:"Settings"}),o.jsxs("div",{className:"flex flex-auto min-w-0 gap-2",children:[o.jsx("div",{className:"rounded-md w-[20%] ",children:o.jsx(C,{onSelect:k,children:(d=m.menu)==null?void 0:d.map((r,t)=>o.jsx(C.MenuItem,{eventKey:r.key,children:r.title},t))})}),o.jsx("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:o.jsx("div",{className:"h-full flex flex-auto flex-col",children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:f()})})})]})]})})},Rr=I;export{Rr as default};
