import{r as p,j as t,a as P,a3 as U,av as ve,aw as yt,ax as q,p as jt,ap as Tt,ah as bt,aq as Ct}from"./index-50945288.js";import{A as St}from"./AdaptableCard-37b0a974.js";import{u as E,a as ne,g as X,e as Be,s as Ke,b as se,f as Me,p as he,c as xe,h as we,t as Ie,d as Et,i as Dt,j as Nt,k as kt,l as Mt,m as wt,n as be,o as It,r as Vt}from"./index-048fd555.js";import{B as J}from"./Button-a4fa8688.js";import{c as fe}from"./cloneDeep-24ac0e6a.js";import{I as R}from"./Input-5d3c36c8.js";import{b as At,T as je,Q as Ft,O as Rt,P as Pt,o as Ot,M as Lt,C as $t}from"./index.esm-35c8061b.js";import{d as qt}from"./debounce-39f99d5c.js";import{u as Te}from"./checkEditUpdate-0dd25d79.js";import{D as Ut}from"./DataTable-c079131a.js";import"./Alert-1064718b.js";import{A as zt}from"./index-08f2a96a.js";import"./Badge-87c37bf0.js";import"./RangeCalendar-2f6aee1b.js";import{C as Wt}from"./Card-17f3ebb7.js";import"./index-95b77929.js";import"./index-b29bcf89.js";import{D as Qe}from"./Dialog-280fa962.js";import{D as _t}from"./Drawer-f88f653e.js";import"./index-4454a30f.js";import{F as Re,a as V}from"./FormItem-9eae519c.js";import"./toString-e5e109b2.js";import"./index-d8003bc1.js";import"./index-e8ea964c.js";import"./index-88cefea0.js";import{t as ie,N as re}from"./toast-0629f8e1.js";import"./Pagination-42900a32.js";import"./Progress-d351084f.js";import"./index-706126b4.js";import"./ScrollBar-f9956c02.js";import"./index-fef60a21.js";import{m as Ht,d as Yt,S as ee}from"./Select-e0a2b45a.js";import"./Skeleton-98ed1e07.js";import"./index-1f1e4ab8.js";import"./Switcher-b557b818.js";import"./index-9b97383d.js";import{T as Xe}from"./index-d0be26bd.js";import"./Tag-3255b65c.js";import"./index-a09a61c9.js";import"./index-72140e3f.js";import{T as Ee}from"./Tooltip-99e477d6.js";import{U as Gt}from"./Upload-1dc04c00.js";import{S as Ue}from"./StatusCapsule-8feaf0ee.js";import{T as Bt}from"./TagsList-ae5ad131.js";import{T as De}from"./TextTruncate-fb41f983.js";import{u as Kt}from"./useThemeClass-d0c07393.js";import{h as Qt}from"./moment-fbc5633a.js";import{b as Pe,A as Je,a as Xt}from"./index.esm-d91091b6.js";import{a as Jt}from"./index.esm-da0f9d50.js";import{d as Zt}from"./index.esm-687646b8.js";import{i as ea}from"./Views-e48a0a66.js";import"./chart.constant-6527ff35.js";import"./GrowShrinkTag-e4832176.js";import"./react-tooltip.min-b2458dce.js";import"./RichTextEditor-bb6579d5.js";import"./SegmentItemOption-e0f0e697.js";import{S as Ze}from"./StickyFooter-d817f111.js";import"./SvgIcon-de8a838d.js";import{F as Oe,a as Le,b as A,u as ta}from"./formik.esm-44461a3f.js";import{c as Se,a as M,e as et}from"./index.esm-2991ab2b.js";import{D as aa}from"./DoubleSidedImage-c7ac38f9.js";import{C as na}from"./ConfirmDialog-f8d7dfae.js";import{t as sa}from"./tagAndCategory-228f57e7.js";/* empty css              */import{G as Ne}from"./index.esm-a396b4b8.js";import{a as tt,_ as oe}from"./objectWithoutProperties-8809bfcf.js";import{_ as Y}from"./toConsumableArray-08fe5c41.js";import{_ as Ve}from"./slicedToArray-3ae8c07d.js";import{_ as at}from"./inheritsLoose-688bd68e.js";import{g as ia}from"./index-ecb8ff50.js";import{M as ze,t as We,a as _e,p as He}from"./helper-64c17a1c.js";import{B as Ye}from"./index.esm-7eb36b19.js";import{F as ra}from"./FormDesription-005eab78.js";import{M as oa}from"./MediaSkeleton-0a9bc2b3.js";import{N as la}from"./react-number-format.es-b69d48dd.js";import"./CrmService-881504ae.js";import"./index-8601a7d5.js";import"./_MapCache-912d1d86.js";import"./_getPrototype-07d72d17.js";import"./isNil-83ca8e72.js";import"./get-ca844a7a.js";import"./index-4a909b70.js";import"./useTimeout-5cba84cc.js";import"./CloseButton-decff0a2.js";import"./StatusIcon-9afd30aa.js";import"./useMergeRef-788c4cb0.js";import"./useControllableState-0304948a.js";import"./_baseIsEqual-cec24c9c.js";import"./useRootClose-1625d8df.js";import"./usePopper-8e8e78a4.js";import"./TimeInput-e7cfaf12.js";import"./useUniqueId-a4f516e3.js";import"./useDidUpdate-f354fe92.js";import"./index-7b5c526a.js";import"./useUncertainRef-f5473f8d.js";import"./index-029bd1b0.js";import"./chainedFunction-070f832c.js";import"./floating-ui.dom-4bc0055b.js";import"./mapCloneElement-0b38fc45.js";import"./index.esm-3cc4021a.js";import"./index.esm-1eb25fdc.js";import"./index.esm-87cd19ea.js";const nt=p.forwardRef((l,s)=>{const{onInputChange:e}=l,r=qt(n,500);function n(i){e==null||e(i)}const a=i=>{r(i.target.value)};return t.jsx(R,{ref:s,className:"max-w-md md:w-52 mb-4",size:"sm",placeholder:"Search by title",prefix:t.jsx(At,{className:"text-lg"}),onChange:a})});nt.displayName="TasksTableSearch";const ca=()=>{const l=P(),s=p.useRef(null),e=E(o=>o.crmTasks.data.tableData),r=Te("tasks","canCreate"),n=o=>{const d=fe(e);d.query=o,d.pageIndex=1,typeof o=="string"&&o.length>1&&a(d),typeof o=="string"&&o.length===0&&a(d)},a=o=>{l(o?ne(o):X())},i=()=>{l(Be()),l(Ke("Add")),l(se({}))};return p.useEffect(()=>{s.current&&(s.current.value=e.query||"",l(ne(e)))},[e==null?void 0:e.query]),t.jsxs("div",{className:"md:flex items-center justify-between",children:[t.jsx("div",{className:"md:flex items-center gap-4",children:t.jsx(nt,{ref:s,onInputChange:n})}),t.jsx("div",{className:"mb-4",children:r&&t.jsx(J,{size:"sm",onClick:i,children:"Add New"})})]})},st=p.forwardRef((l,s)=>{const e=P(),r=E(f=>f.crmTasks.data.followUPConfirmation),n=E(f=>{var x,T;return(T=(x=f.crmTasks)==null?void 0:x.data)==null?void 0:T.selectedTask}),a=E(f=>f.crmTasks.data.loading),i=()=>{e(Me(!1))},o=Se().shape({descriptions:M().required("Notes is required")}),d=async f=>{var S,k,v;const x=await e(he({taskId:n==null?void 0:n.id,data:f})),T=(S=x==null?void 0:x.payload)!=null&&S.success?{title:"Successfully Updated",type:"success",message:(k=x==null?void 0:x.payload)==null?void 0:k.message}:{title:"Something Went Wrong !!!",type:"danger",message:(v=x==null?void 0:x.error)==null?void 0:v.message};ie.push(t.jsx(re,{title:T.title,type:T==null?void 0:T.type,duration:2500,children:T.message}),{placement:"top-end"}),await e(X()),await e(xe()),await e(Me(!1))};return t.jsxs(Qe,{isOpen:r,onClose:i,children:[t.jsx("h5",{className:"mb-4",children:"Follow Up"}),t.jsx(Oe,{innerRef:s,initialValues:{descriptions:"",nextDateTime:""},validationSchema:o,onSubmit:async(f,{setSubmitting:x})=>{const T={completionStatus:"completed",descriptions:f.descriptions};f!=null&&f.nextDateTime&&(T.nextDateTime=f.nextDateTime),await d(T),x(!1)},children:({touched:f,errors:x,values:T,setFieldValue:S})=>t.jsxs(Le,{children:[t.jsxs(Re,{children:[t.jsx(V,{label:"Next Follow-Up Date and Time",invalid:x.nextDateTime&&f.nextDateTime,errorMessage:x.nextDateTime,children:t.jsx(A,{type:"dateTime-local",autoComplete:"off",name:"nextDateTime",placeholder:"Select Next Follow-Up Date and Time",component:R,prefix:t.jsx(je,{className:"text-xl"})})}),t.jsx(V,{label:"Notes",invalid:x.descriptions&&f.descriptions,errorMessage:x.descriptions,children:t.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:R,prefix:t.jsx(Pe,{className:"text-xl"})})})]}),t.jsx(Ze,{className:"flex items-center justify-end py-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"md:flex items-center",children:[t.jsx(J,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:i,children:"Cancel"}),t.jsx(J,{size:"sm",type:"submit",variant:"solid",icon:t.jsx(Je,{}),loading:a,children:"Save"})]})})]})})]})});st.displayName="FollowUpTaskConfirmation";const it=p.forwardRef((l,s)=>{const e=P(),[r,n]=p.useState(""),[a,i]=p.useState(""),o=E(g=>g.crmTasks.data.quotationConfirmation),d=E(g=>{var m,j;return(j=(m=g.crmTasks)==null?void 0:m.data)==null?void 0:j.selectedTask}),f=E(g=>g.crmTasks.data.loading),x=()=>{e(we(!1)),n("")},T=Se().shape({descriptions:M().required("Notes is required")}),S=async g=>{var D,C,u;const m=await e(he({taskId:d==null?void 0:d.id,data:g})),j=(D=m==null?void 0:m.payload)!=null&&D.success?{title:"Successfully Updated",type:"success",message:(C=m==null?void 0:m.payload)==null?void 0:C.message}:{title:"Something Went Wrong !!!",type:"danger",message:(u=m==null?void 0:m.error)==null?void 0:u.message};ie.push(t.jsx(re,{title:j.title,type:j==null?void 0:j.type,duration:2500,children:j.message}),{placement:"top-end"}),await e(X()),await e(xe()),await e(we(!1)),n("")},k=g=>{let m=!0;const j=["image/png","image/jpeg","image/jpeg","image/webp","image/gif","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","text/plain","text/html","application/xml","application/json","application/zip","application/x-rar-compressed"],D=1e7;if(g)for(const C of g)j.includes(C.type)||(m="Please upload a .jpeg, .png, or .pdf file!"),C.size>=D&&(console.log(C.size),m="Uploaded file cannot be larger than 10MB!");return m},v=(g,m,j)=>{const D="1-img-0",C=j.length-1,u=new FileReader,h=j[C];u.onload=()=>{const y=u.result,b={id:D,name:h.name,img:y};i(h.type),n(h.name),m("attachments",b)},u.readAsDataURL(h)};return t.jsxs(Qe,{isOpen:o,onClose:x,children:[t.jsx("h5",{className:"mb-4",children:"Quotation"}),t.jsx(Oe,{innerRef:s,initialValues:{descriptions:"",attachments:""},validationSchema:T,onSubmit:async(g,{setSubmitting:m})=>{var D,C;const j={completionStatus:"completed",descriptions:g.descriptions};(D=g.attachments)!=null&&D.img&&(j.attachments=(C=g.attachments)==null?void 0:C.img,j.fileType=a),await S(j),m(!1)},children:({field:g,form:m,touched:j,errors:D,values:C,setFieldValue:u})=>t.jsxs(Le,{children:[t.jsxs(Re,{children:[t.jsx(V,{label:"Upload File",children:t.jsx(Gt,{draggable:!0,className:"min-h-fit",beforeUpload:k,showList:!1,onChange:h=>v(m,u,h),children:t.jsxs("div",{className:"max-w-full flex flex-col px-4 py-2 justify-center items-center",children:[t.jsx(aa,{src:"/img/others/upload.png",darkModeSrc:"/img/others/upload-dark.png"}),t.jsx("p",{className:"font-semibold",children:r?t.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Selected file ",r]}):t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Drop your image here, or"," "]}),t.jsx("span",{className:"text-blue-500",children:"browse"})]})}),t.jsx("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: jpeg, png, pdf"})]})})}),t.jsx(V,{label:"Notes",invalid:D.descriptions&&j.descriptions,errorMessage:D.descriptions,children:t.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:R,prefix:t.jsx(Pe,{className:"text-xl"})})})]}),t.jsx(Ze,{className:"flex items-center justify-end py-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"md:flex items-center",children:[t.jsx(J,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:x,children:"Cancel"}),t.jsx(J,{size:"sm",type:"submit",variant:"solid",icon:t.jsx(Je,{}),loading:f,children:"Save"})]})})]})})]})});it.displayName="QuotationTaskConfirmation";const da=()=>{const l=P(),s=E(a=>a.crmTasks.data.deleteConfirmation),e=E(a=>{var i,o;return(o=(i=a.crmTasks)==null?void 0:i.data)==null?void 0:o.selectedTask}),r=()=>{l(Ie(!1))},n=async()=>{var i,o,d;l(Ie(!1));const a=await l(Et(e.id));await l(X()),(i=a==null?void 0:a.payload)!=null&&i.success?ie.push(t.jsx(re,{title:"Successfuly Deleted",type:"success",duration:2500,children:(o=a==null?void 0:a.payload)==null?void 0:o.message}),{placement:"top-end"}):ie.push(t.jsx(re,{title:"Something Went Wrong !!!",type:"danger",duration:2500,children:(d=a==null?void 0:a.error)==null?void 0:d.message}),{placement:"top-end"}),await l(xe())};return t.jsx(na,{isOpen:s,type:"danger",title:"Delete Task",confirmButtonColor:"red-600",onClose:r,onRequestClose:r,onCancel:r,onConfirm:n,children:t.jsx("p",{children:"Are you sure you want to delete this Task? All record related to this task will be deleted as well. This action cannot be undone."})})},Ge={disabled:!1},Ce=U.createContext(null);var ua=function(s){return s.scrollTop},pe="unmounted",B="exited",K="entering",ae="entered",Ae="exiting",z=function(l){at(s,l);function s(r,n){var a;a=l.call(this,r,n)||this;var i=n,o=i&&!i.isMounting?r.enter:r.appear,d;return a.appearStatus=null,r.in?o?(d=B,a.appearStatus=K):d=ae:r.unmountOnExit||r.mountOnEnter?d=pe:d=B,a.state={status:d},a.nextCallback=null,a}s.getDerivedStateFromProps=function(n,a){var i=n.in;return i&&a.status===pe?{status:B}:null};var e=s.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(n){var a=null;if(n!==this.props){var i=this.state.status;this.props.in?i!==K&&i!==ae&&(a=K):(i===K||i===ae)&&(a=Ae)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var n=this.props.timeout,a,i,o;return a=i=o=n,n!=null&&typeof n!="number"&&(a=n.exit,i=n.enter,o=n.appear!==void 0?n.appear:i),{exit:a,enter:i,appear:o}},e.updateStatus=function(n,a){if(n===void 0&&(n=!1),a!==null)if(this.cancelNextCallback(),a===K){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:ve.findDOMNode(this);i&&ua(i)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===B&&this.setState({status:pe})},e.performEnter=function(n){var a=this,i=this.props.enter,o=this.context?this.context.isMounting:n,d=this.props.nodeRef?[o]:[ve.findDOMNode(this),o],f=d[0],x=d[1],T=this.getTimeouts(),S=o?T.appear:T.enter;if(!n&&!i||Ge.disabled){this.safeSetState({status:ae},function(){a.props.onEntered(f)});return}this.props.onEnter(f,x),this.safeSetState({status:K},function(){a.props.onEntering(f,x),a.onTransitionEnd(S,function(){a.safeSetState({status:ae},function(){a.props.onEntered(f,x)})})})},e.performExit=function(){var n=this,a=this.props.exit,i=this.getTimeouts(),o=this.props.nodeRef?void 0:ve.findDOMNode(this);if(!a||Ge.disabled){this.safeSetState({status:B},function(){n.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:Ae},function(){n.props.onExiting(o),n.onTransitionEnd(i.exit,function(){n.safeSetState({status:B},function(){n.props.onExited(o)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(n,a){a=this.setNextCallback(a),this.setState(n,a)},e.setNextCallback=function(n){var a=this,i=!0;return this.nextCallback=function(o){i&&(i=!1,a.nextCallback=null,n(o))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},e.onTransitionEnd=function(n,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:ve.findDOMNode(this),o=n==null&&!this.props.addEndListener;if(!i||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],f=d[0],x=d[1];this.props.addEndListener(f,x)}n!=null&&setTimeout(this.nextCallback,n)},e.render=function(){var n=this.state.status;if(n===pe)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var o=tt(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return U.createElement(Ce.Provider,{value:null},typeof i=="function"?i(n,o):U.cloneElement(U.Children.only(i),o))},s}(U.Component);z.contextType=Ce;z.propTypes={};function te(){}z.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:te,onEntering:te,onEntered:te,onExit:te,onExiting:te,onExited:te};z.UNMOUNTED=pe;z.EXITED=B;z.ENTERING=K;z.ENTERED=ae;z.EXITING=Ae;const rt=z;function $e(l,s){var e=function(a){return s&&p.isValidElement(a)?s(a):a},r=Object.create(null);return l&&p.Children.map(l,function(n){return n}).forEach(function(n){r[n.key]=e(n)}),r}function pa(l,s){l=l||{},s=s||{};function e(x){return x in s?s[x]:l[x]}var r=Object.create(null),n=[];for(var a in l)a in s?n.length&&(r[a]=n,n=[]):n.push(a);var i,o={};for(var d in s){if(r[d])for(i=0;i<r[d].length;i++){var f=r[d][i];o[r[d][i]]=e(f)}o[d]=e(d)}for(i=0;i<n.length;i++)o[n[i]]=e(n[i]);return o}function Q(l,s,e){return e[s]!=null?e[s]:l.props[s]}function ma(l,s){return $e(l.children,function(e){return p.cloneElement(e,{onExited:s.bind(null,e),in:!0,appear:Q(e,"appear",l),enter:Q(e,"enter",l),exit:Q(e,"exit",l)})})}function fa(l,s,e){var r=$e(l.children),n=pa(s,r);return Object.keys(n).forEach(function(a){var i=n[a];if(p.isValidElement(i)){var o=a in s,d=a in r,f=s[a],x=p.isValidElement(f)&&!f.props.in;d&&(!o||x)?n[a]=p.cloneElement(i,{onExited:e.bind(null,i),in:!0,exit:Q(i,"exit",l),enter:Q(i,"enter",l)}):!d&&o&&!x?n[a]=p.cloneElement(i,{in:!1}):d&&o&&p.isValidElement(f)&&(n[a]=p.cloneElement(i,{onExited:e.bind(null,i),in:f.props.in,exit:Q(i,"exit",l),enter:Q(i,"enter",l)}))}}),n}var ha=Object.values||function(l){return Object.keys(l).map(function(s){return l[s]})},xa={component:"div",childFactory:function(s){return s}},qe=function(l){at(s,l);function s(r,n){var a;a=l.call(this,r,n)||this;var i=a.handleExited.bind(yt(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}var e=s.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(n,a){var i=a.children,o=a.handleExited,d=a.firstRender;return{children:d?ma(n,o):fa(n,i,o),firstRender:!1}},e.handleExited=function(n,a){var i=$e(this.props.children);n.key in i||(n.props.onExited&&n.props.onExited(a),this.mounted&&this.setState(function(o){var d=Y({},o.children);return delete d[n.key],{children:d}}))},e.render=function(){var n=this.props,a=n.component,i=n.childFactory,o=tt(n,["component","childFactory"]),d=this.state.contextValue,f=ha(this.state.children).map(i);return delete o.appear,delete o.enter,delete o.exit,a===null?U.createElement(Ce.Provider,{value:d},f):U.createElement(Ce.Provider,{value:d},U.createElement(a,o,f))},s}(U.Component);qe.propTypes={};qe.defaultProps=xa;const ot=qe;var ga=["in","onExited","appear","enter","exit"],va=function(s){return function(e){e.in,e.onExited,e.appear,e.enter,e.exit;var r=oe(e,ga);return p.createElement(s,r)}},ya=va,ja=["component","duration","in","onExited"],lt=function(s){var e=s.component,r=s.duration,n=r===void 0?1:r,a=s.in;s.onExited;var i=oe(s,ja),o=p.useRef(null),d={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(n,"ms")},exiting:{opacity:0},exited:{opacity:0}};return p.createElement(rt,{mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:n,nodeRef:o},function(f){var x={style:q({},d[f]),ref:o};return p.createElement(e,Y({innerProps:x},i))})},Fe=260,Ta=function(s){var e=s.children,r=s.in,n=s.onExited,a=p.useRef(null),i=p.useState("auto"),o=Ve(i,2),d=o[0],f=o[1];p.useEffect(function(){var T=a.current;if(T){var S=window.requestAnimationFrame(function(){return f(T.getBoundingClientRect().width)});return function(){return window.cancelAnimationFrame(S)}}},[]);var x=function(S){switch(S){default:return{width:d};case"exiting":return{width:0,transition:"width ".concat(Fe,"ms ease-out")};case"exited":return{width:0}}};return p.createElement(rt,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,onExited:function(){var S=a.current;S&&(n==null||n(S))},timeout:Fe,nodeRef:a},function(T){return p.createElement("div",{ref:a,style:q({overflow:"hidden",whiteSpace:"nowrap"},x(T))},e)})},ba=["in","onExited"],Ca=function(s){return function(e){var r=e.in,n=e.onExited,a=oe(e,ba);return p.createElement(Ta,{in:r,onExited:n},p.createElement(s,Y({cropWithEllipsis:r},a)))}},Sa=Ca,Ea=function(s){return function(e){return p.createElement(lt,Y({component:s,duration:e.isMulti?Fe:1},e))}},Da=Ea,Na=function(s){return function(e){return p.createElement(lt,Y({component:s},e))}},ka=Na,Ma=["component"],wa=["children"],Ia=function(s){return function(e){return e.isMulti?p.createElement(Va,Y({component:s},e)):p.createElement(ot,Y({component:s},e))}},Va=function(s){var e=s.component,r=oe(s,Ma),n=Aa(r);return p.createElement(ot,Y({component:e},n))},Aa=function(s){var e=s.children,r=oe(s,wa),n=r.isMulti,a=r.hasValue,i=r.innerProps,o=r.selectProps,d=o.components,f=o.controlShouldRenderValue,x=p.useState(n&&f&&a),T=Ve(x,2),S=T[0],k=T[1],v=p.useState(!1),g=Ve(v,2),m=g[0],j=g[1];p.useEffect(function(){a&&!S&&k(!0)},[a,S]),p.useEffect(function(){m&&!a&&S&&k(!1),j(!1)},[m,a,S]);var D=function(){return j(!0)},C=function(b){if(n&&p.isValidElement(b)){if(b.type===d.MultiValue)return p.cloneElement(b,{onExited:D});if(b.type===d.Placeholder&&S)return null}return b},u=q(q({},i),{},{style:q(q({},i==null?void 0:i.style),{},{display:n&&a||S?"flex":"grid"})}),h=q(q({},r),{},{innerProps:u,children:p.Children.toArray(e).map(C)});return h},Fa=Ia,Ra=["Input","MultiValue","Placeholder","SingleValue","ValueContainer"],ct=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Yt({components:s}),r=e.Input,n=e.MultiValue,a=e.Placeholder,i=e.SingleValue,o=e.ValueContainer,d=oe(e,Ra);return q({Input:ya(r),MultiValue:Sa(n),Placeholder:Da(a),SingleValue:ka(i),ValueContainer:Fa(o)},d)},ge=ct();ge.Input;ge.MultiValue;ge.Placeholder;ge.SingleValue;ge.ValueContainer;var Pa=Ht(ct);const me=[],ye=[],Oa=l=>{var F,W,_,H;const{touched:s,errors:e,setFieldValue:r,values:n}=l,a=P();p.useState(!1),p.useState(!1);const[i,o]=p.useState(null),[d,f]=p.useState(null),[x,T]=p.useState(""),[S,k]=p.useState(""),[v,g]=p.useState([]),m=E(c=>{var I;return(I=c.crmTasks.data.customField)==null?void 0:I.data});E(c=>c.crmTasks.data.tasksList);const[j,D]=p.useState(""),C=p.useRef(null),u={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"};p.useEffect(()=>{const c=async()=>{var I,O;try{const{payload:le}=await a(kt()),ce=(I=le==null?void 0:le.data)==null?void 0:I.find(ue=>(ue==null?void 0:ue.moduleName)==="tasks");if(D(ce.id),o(n==null?void 0:n.module),f(n==null?void 0:n.type),k(n==null?void 0:n.nextDateTime),ce){const{payload:ue}=await a(Mt({id:(O=ce==null?void 0:ce.id)==null?void 0:O.toString()})),vt=sa(ue.data);g(vt)}const de=new Date,pt=de.getFullYear(),mt=(de.getMonth()+1).toString().padStart(2,"0"),ft=de.getDate().toString().padStart(2,"0"),ht=de.getHours().toString().padStart(2,"0"),xt=de.getMinutes().toString().padStart(2,"0"),gt=`${pt}-${mt}-${ft}T${ht}:${xt}`;T(gt),C.current&&C.current.addEventListener("input",h)}catch(le){console.error("Error fetching module data:",le)}};a(Dt()),a(Nt()),a(ia()),c()},[a]);const h=()=>{C.current.value<x&&(C.current.value=x)};E(c=>{var I,O;return(O=(I=c.crmTasks)==null?void 0:I.data)==null?void 0:O.selectedTask});const y=E(c=>c.crmTasks.data.drawerMode),b=ta(),N=c=>{b.setFieldValue("tagId",c)},L=Pa(),$=E(c=>c.crmTasks.data.usersList);me.length=0,$==null||$.forEach(c=>{me.push({label:`${c==null?void 0:c.firstName} ${c==null?void 0:c.lastName}`,value:c.id})});const G=c=>{o(c.value),r("module",c==null?void 0:c.value),f(null),k("")},Z=c=>{r("type",c==null?void 0:c.value),f(c.value)},w=E(c=>c.crmTasks.data.leadsList);return ye.length=0,w==null||w.forEach(c=>{ye.push({value:c.id,label:c.title})}),t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Module",invalid:e.module&&s.module,errorMessage:e.module,children:t.jsx(A,{type:"text",autoComplete:"off",name:"module",placeholder:"Module",component:ee,options:ze,value:(F=ze)==null?void 0:F.find(c=>(c==null?void 0:c.value)==(n==null?void 0:n.module)),prefix:t.jsx(Ne,{className:"text-xl"}),onChange:G})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Type",invalid:e.type&&s.type,errorMessage:e.type,children:t.jsx(A,{type:"text",autoComplete:"off",name:"type",placeholder:"Type",component:ee,options:We[i]||[],value:(W=We[i])==null?void 0:W.find(c=>(c==null?void 0:c.value)==(n==null?void 0:n.type)),prefix:t.jsx(Ne,{className:"text-xl"}),onChange:Z})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d==="followup"||d==="delivery"||d==="meeting"?t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:(_=_e[d])==null?void 0:_.label,invalid:e.nextDateTime&&s.nextDateTime,errorMessage:e.nextDateTime,children:t.jsx(A,{type:"dateTime-local",autoComplete:"off",name:"nextDateTime",placeholder:(H=_e[d])==null?void 0:H.placeholder,component:R,prefix:t.jsx(je,{className:"text-xl"}),value:n.nextDateTime,onChange:c=>{k(c.target.value),r("nextDateTime",c.target.value)},ref:C,min:x})})}):null,d==="delivery"&&t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Delivery Address",invalid:e.address&&s.address,errorMessage:e.address,children:t.jsx(A,{type:"text",autoComplete:"off",name:"address",placeholder:"Delivery Address",component:R,prefix:t.jsx(je,{className:"text-xl"})})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Title *",invalid:e.title&&s.title,errorMessage:e.title,children:t.jsx(A,{type:"text",autoComplete:"off",name:"title",placeholder:"Title",component:R,prefix:t.jsx(Ft,{className:"text-xl"})})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Due Date *",invalid:e.dueDate&&s.dueDate,errorMessage:e.dueDate,children:t.jsx(A,{isDisabled:y==="Edit",type:"dateTime-local",autoComplete:"off",name:"dueDate",component:R,prefix:t.jsx(je,{className:"text-xl"}),min:x})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Priority *",invalid:e.priority&&s.priority,errorMessage:e.priority,children:t.jsx(ee,{name:"priority",id:"priority",components:L,value:He.find(c=>(c==null?void 0:c.value)===(n==null?void 0:n.priority)),options:He,onChange:c=>{r("priority",c.value||"")}})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Assigned To",invalid:e.assignedTo&&s.assignedTo,errorMessage:e.assignedTo,children:t.jsx(ee,{name:"assignedTo",id:"assignedTo",value:me.find(c=>(c==null?void 0:c.value)===(n==null?void 0:n.assignedTo)),options:me,onChange:c=>{r("assignedTo",c.value||"")}})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Connected Lead",invalid:e.connectedLead&&s.connectedLead,errorMessage:e.connectedLead,children:t.jsx(ee,{name:"connectedLead",id:"connectedLead",value:ye.find(c=>(c==null?void 0:c.value)===(n==null?void 0:n.connectedLead)),options:ye,onChange:c=>{r("connectedLead",c.value||"")}})})}),t.jsx("div",{className:"col-span-1",children:t.jsx(V,{label:"Tag",children:t.jsx(A,{isClearable:!0,isMulti:!0,type:"text",autoComplete:"off",name:"tagId",placeholder:"Select tags",component:ee,options:v,prefix:t.jsx(Ne,{className:"text-xl"}),closeMenuOnSelect:!1,onChange:N})})})]}),t.jsx(V,{label:"Notes",invalid:e.descriptions&&s.descriptions,errorMessage:e.descriptions,children:t.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:"descriptions",placeholder:"Notes",component:R,prefix:t.jsx(Pe,{className:"text-xl"})})}),(m==null?void 0:m.length)>0?t.jsxs(t.Fragment,{children:[t.jsx(ra,{title:"Additional Details",desc:"",className:"mb-2"}),t.jsx("div",{style:u,children:m==null?void 0:m.map(c=>t.jsx("div",{children:t.jsx(V,{label:c==null?void 0:c.label,children:c.inputType==="textArea"?t.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:c.name,placeholder:c==null?void 0:c.label,defaultValue:c.defaultValue,component:R,prefix:t.jsx(Ye,{className:"text-xl"})}):t.jsx(A,{type:c.inputType,autoComplete:"off",name:c.name,placeholder:c==null?void 0:c.label,defaultValue:c.defaultValue,component:R,prefix:t.jsx(Ye,{className:"text-xl"})})})},c.id))})]}):null]})},La=Se().shape({title:M().required("Title is Required"),module:M(),type:M(),tagId:et(),connectedLead:M(),descriptions:M(),priority:M().oneOf(["none","low","medium","high"]).required("Priority is required"),nextDateTime:M().test("date-required","Date is required",function(l){const s=this.parent.type;return!((s==="followup"||s==="delivery"||s==="meeting")&&!l)})}),$a=Se().shape({module:M(),type:M(),nextDateTime:M().test("date-required","Date is required",function(l){const s=this.parent.type;return!((s==="followup"||s==="delivery"||s==="meeting")&&!l)}),address:M().test("Address is Require","Delivery Address is Require",function(l){return!(this.parent.type==="delivery"&&!l)}),title:M().required("Title is required"),dueDate:M().required("Due Date is required"),tagId:et(),connectedLead:M(),descriptions:M(),assignedTo:M().test("is-valid-user","Invalid user selected",function(l){return this.parent.assignedTo&&this.parent.assignedTo.length>0?!!me.find(s=>s.value==l):!0}),priority:M().oneOf(["none","low","medium","high"]).required("Priority is required")}),{TabNav:qa,TabList:Ua,TabContent:za}=Xe,dt=p.forwardRef((l,s)=>{var x,T,S,k;const e=E(v=>{var g,m;return(m=(g=v.crmTasks)==null?void 0:g.data)==null?void 0:m.selectedTask}),r=E(v=>{var g;return(g=v.crmTasks.data.customField)==null?void 0:g.data}),n=E(v=>v.crmTasks.data.drawerMode),a=P();function i(v){if(!v)return"";const g=v.split("T");if(g.length!==2)return"";const m=g[0],j=g[1].slice(0,5);return`${m}T${j}`}const o=v=>{const g=new Date(v);if(isNaN(g.getTime()))return"";const m=g.getFullYear(),j=(g.getMonth()+1).toString().padStart(2,"0"),D=g.getDate().toString().padStart(2,"0"),C=g.getHours().toString().padStart(2,"0"),u=g.getMinutes().toString().padStart(2,"0");return`${m}-${j}-${D} ${C}:${u}`},d=async(v,g)=>{var Z,w,F,W,_,H,c;const{colorName:m,tagName:j,dueDate:D,nextDateTime:C,...u}=v,h=r.reduce((I,O)=>(I[O.name]=v[O.name],I),{}),y=o(D),b=o(C);let N,L,$;if(n==="Add")N=await a(wt({dueDate:y,nextDateTime:b,...u,...h,tagId:v==null?void 0:v.tagId.map(I=>I.value)})),L="Successfully Added",$="Something went wrong !!!",(Z=N==null?void 0:N.payload)!=null&&Z.success&&a(be());else{const I={...u,tagId:v==null?void 0:v.tagId.map(O=>O.value)};b&&(I.nextDateTime=b),N=await a(he({taskId:e==null?void 0:e.id,data:I})),L="Successfully Updated",$="Something went wrong !!!",(w=N==null?void 0:N.payload)!=null&&w.success&&a(be())}const G=(F=N==null?void 0:N.payload)!=null&&F.success?"success":"danger";ie.push(t.jsx(re,{title:(W=N==null?void 0:N.payload)!=null&&W.success?L:$,type:G,duration:2500,children:(_=N==null?void 0:N.payload)!=null&&_.success?(H=N==null?void 0:N.payload)==null?void 0:H.message:(c=N==null?void 0:N.error)==null?void 0:c.message}),{placement:"top-end"}),await a(X()),await a(xe()),g(!1)},f=p.useMemo(()=>r==null?void 0:r.reduce((g,m)=>{var D;const j=(D=e==null?void 0:e.taskFields)==null?void 0:D.find(C=>(C==null?void 0:C.name)===(m==null?void 0:m.name));return g[m==null?void 0:m.name]=j?j==null?void 0:j.value:m!=null&&m.defaultValue?m==null?void 0:m.defaultValue:"",g},{}),[r]);return t.jsx(Oe,{innerRef:s,initialValues:{module:(e==null?void 0:e.module)||"",type:(e==null?void 0:e.type)||"",nextDateTime:i(e==null?void 0:e.nextDateTime)||"",title:(e==null?void 0:e.title)||"",address:(e==null?void 0:e.address)||"",connectedLead:(e==null?void 0:e.connectedLead)||"",dueDate:i(e==null?void 0:e.dueDate)||"",descriptions:(e==null?void 0:e.descriptions)||"",tagId:((x=e==null?void 0:e.tags)==null?void 0:x.map(v=>({label:v.tagName,value:v.id})))||[],tagName:((S=(T=e==null?void 0:e.tags)==null?void 0:T[0])==null?void 0:S.tagName)||"",priority:(e==null?void 0:e.priority)||"",assignedTo:((k=e==null?void 0:e.assignedToData)==null?void 0:k.id)||"",colorName:e!=null&&e.tags&&(e==null?void 0:e.tags.length)>0?e==null?void 0:e.tags[0].colorName:"",...f},validationSchema:n==="Edit"?La:$a,onSubmit:async(v,{setSubmitting:g})=>{await d(v,g)},children:({touched:v,errors:g,setFieldValue:m,values:j})=>t.jsx(Le,{children:t.jsx(Re,{children:t.jsxs(Xe,{defaultValue:"taskDetails",children:[t.jsx(Ua,{children:t.jsx(qa,{value:"taskDetails",children:"Tasks details"})}),t.jsx("div",{className:"p-6",children:t.jsx(za,{value:"taskDetails",children:t.jsx(Oa,{touched:v,errors:g,values:j,setFieldValue:m})})})]})})})})});dt.displayName="TasksForm";const ut=p.forwardRef((l,s)=>{const e=P(),r=E(o=>{var d,f;return(f=(d=o.crmTasks)==null?void 0:d.data)==null?void 0:f.selectedTask}),n=E(o=>o.crmTasks.data.tasksList),{id:a}=r,i=o=>{const{name:d,birthday:f,email:x,img:T,location:S,title:k,phoneNumber:v,facebook:g,twitter:m,pinterest:j,linkedIn:D}=o,C={name:d,email:x,img:T},u={location:S,title:k,birthday:jt(f).format("DD/MM/YYYY"),phoneNumber:v,facebook:g,twitter:m,pinterest:j,linkedIn:D};let h=fe(n),y={};h=h.map(b=>(b.id===a&&(b={...b,...C},b.personalInfo={...b.personalInfo,...u},y=b),b)),ea(y)||e(he(y)),e(be()),e(It(h))};return t.jsx(dt,{ref:s,tasks:r,onFormSubmit:i})});ut.displayName="TasksEditContent";const Wa=({onSaveClick:l,onCancel:s})=>t.jsxs("div",{className:"text-right w-full",children:[t.jsx(J,{size:"sm",className:"mr-2",onClick:s,children:"Cancel"}),t.jsx(J,{size:"sm",variant:"solid",onClick:l,children:"Save"})]}),_a=()=>{const l=P(),s=E(d=>d.crmTasks.data.drawerOpen);E(d=>d.crmTasks.data.drawerMode),E(d=>{var f,x;return(x=(f=d.crmTasks)==null?void 0:f.data)==null?void 0:x.selectedTask});const[e,r]=p.useState(window.innerWidth/2),n=()=>{l(be()),l(se({}))},a=p.useRef(null),i=async()=>{var d;(d=a.current)==null||d.submitForm()};p.useEffect(()=>(window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}),[]);const o=()=>{r(window.innerWidth/2)};return t.jsx(_t,{isOpen:s,closable:!1,bodyClass:"p-0",width:e,footer:t.jsx(Wa,{onCancel:n,onSaveClick:i}),onClose:n,onRequestClose:n,children:t.jsx(ut,{ref:a})})},Ha=()=>{const l=P(),s=E(u=>u.crmTasks.data.displayedTasksList),e=E(u=>u.crmTasks.data.loading);E(u=>u.crmTasks.data.filterData);const r=E(u=>u.crmTasks.data.tableData),n=Te("tasks","canDelete"),a=Te("tasks","canModify"),i=Te("tasks","canView"),o=Tt(),{pageIndex:d,pageSize:f,sort:x,query:T,total:S}=E(u=>u.crmTasks.data.tableData),k=p.useCallback(()=>{l(X())},[l]);p.useEffect(()=>(k(),()=>{window.location.pathname.includes("task")||l(ne({...r,query:""}))}),[k]);const v=p.useMemo(()=>({pageIndex:d,pageSize:f,sort:x,query:T,total:S}),[d,f,x,T,S]),g=({row:u})=>{const h=P();Kt();const y=()=>{h(Be()),h(se(u)),h(Ke("Edit"))},b=async()=>{await h(se(u)),h(Ie(!0))},N=async()=>{await h(se(u));const G=`/app/crm/task-details/${u.id}`;o(G)},L=async G=>{var W,_,H;const Z={completionStatus:G},w=await h(he({taskId:u==null?void 0:u.id,data:Z})),F=(W=w==null?void 0:w.payload)!=null&&W.success?{title:"Successfully Updated",type:"success",message:(_=w==null?void 0:w.payload)==null?void 0:_.message}:{title:"Something Went Wrong !!!",type:"danger",message:(H=w==null?void 0:w.error)==null?void 0:H.message};ie.push(t.jsx(re,{title:F.title,type:F==null?void 0:F.type,duration:2500,children:F.message}),{placement:"top-end"}),await h(X())},$=async()=>{if(u!=null&&u.type)switch(await h(se(u)),u==null?void 0:u.type){case"followup":h(Me(!0));break;case"quotation":h(we(!0));break;default:L("completed");break}else L("completed")};return t.jsxs("div",{className:"flex text-base items-center",children:[a&&t.jsx("button",{disabled:(u==null?void 0:u.completionStatus)==="completed",className:`cursor-pointer circle items-center ${(u==null?void 0:u.completionStatus)==="completed"?"!cursor-not-allowed":"cursor-pointer hover:text-indigo-500"}`,onClick:y,children:t.jsx(Rt,{})}),n&&t.jsx("span",{className:"cursor-pointer hover:text-red-500 circle  mx-1 items-center",onClick:b,children:t.jsx(Pt,{})}),i&&t.jsx("span",{className:"cursor-pointer  hover:text-green-500 circle items-center text-lg",onClick:N,children:t.jsx(Xt,{})}),a&&t.jsx(Ee,{title:"Move To In Progress",children:t.jsx("button",{disabled:(u==null?void 0:u.completionStatus)!=="pending",className:`cursor-pointer mx-1 circle items-center ${(u==null?void 0:u.completionStatus)!=="pending"?"!cursor-not-allowed":"cursor-pointer hover:text-amber-500"}`,onClick:()=>L("inProgress"),children:t.jsx(Zt,{})})},u.id+"inprogress"),a&&t.jsx(Ee,{title:"Move To Complete",children:t.jsx("button",{disabled:(u==null?void 0:u.completionStatus)==="completed",className:`cursor-pointer circle items-center ${(u==null?void 0:u.completionStatus)==="completed"?"!cursor-not-allowed":"cursor-pointer hover:text-emerald-500"}`,onClick:$,children:t.jsx(Jt,{})})},u.id+"complete")]})},m=p.useMemo(()=>[{header:"Action",id:"action",cell:h=>t.jsx(g,{row:h.row.original})},{header:"Title",accessorKey:"title",cell:h=>{const y=h.row.original.title;return t.jsx(Ee,{title:y,children:t.jsx(De,{text:y,maxLength:20})},y)}},{header:"Due Date",accessorKey:"dueDate",cell:h=>{var y;return Qt((y=h.row.original)==null?void 0:y.dueDate).format("DD MMMM YYYY")}},{header:"priority",accessorKey:"priority",cell:h=>{const y=h.row.original.priority;return t.jsx(Ue,{status:y})}},{header:"module",accessorKey:"module",cell:h=>{var b;const y=(b=h.row.original)==null?void 0:b.module;return y?t.jsx(De,{text:y,maxLength:20}):"-"}},{header:"type",accessorKey:"type",cell:h=>{var b;const y=(b=h.row.original)==null?void 0:b.type;return y?t.jsx(De,{text:y,maxLength:20}):"-"}},{header:"Assigned to",accessorKey:"assignedTo",cell:h=>{const{firstName:y,lastName:b}=h.row.original.assignedToData||{};return y&&b?`${y} ${b}`:"-"}},{header:"Connected lead",accessorKey:"connectedLead",cell:h=>{var b;const y=h.row.original||{};return y!=null&&y.leadModel?`${(b=y==null?void 0:y.leadModel)==null?void 0:b.title}`:"-"}},{header:"Status",accessorKey:"completionStatus",cell:h=>{const y=h.row.original.completionStatus;return t.jsx(Ue,{status:y})}},{header:"Tag Name",accessorKey:"tagName",cell:h=>{const y=h.row.original.tags||[];return y.length===0?"-":t.jsx(Bt,{tags:y})}}],[a,n]),j=u=>{const h=fe(v);h.pageIndex=u,l(ne(h))},D=u=>{const h=fe(v);h.pageSize=Number(u),h.pageIndex=1,l(ne(h))},C=u=>{const h=fe(v);h.sort=u,l(ne(h))};return t.jsxs("div",{children:[t.jsx(Ut,{columns:m,data:s,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},loading:e,pagingData:{total:v.total,pageIndex:v.pageIndex,pageSize:v.pageSize},onPaginationChange:j,onSelectChange:D,onSort:C}),t.jsx(_a,{}),t.jsx(it,{}),t.jsx(st,{}),t.jsx(da,{})]})},ke=l=>{const{icon:s,avatarClass:e,label:r,value:n,growthRate:a,loading:i}=l,o=55;return t.jsx(Wt,{bordered:!0,children:t.jsx(bt,{loading:i,customLoader:t.jsx(oa,{avatarProps:{className:"rounded",width:o,height:o}}),children:t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(zt,{className:e,size:o,icon:s}),t.jsxs("div",{children:[t.jsx("span",{children:r}),t.jsx("h3",{children:t.jsx(la,{thousandSeparator:!0,displayType:"text",value:n})})]})]})})})})},Ya=()=>{const l=P(),s=E(r=>r.crmTasks.data.statisticData),e=E(r=>r.crmTasks.data.statisticLoading);return p.useEffect(()=>{l(xe())},[]),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 mb-6",children:[t.jsx(ke,{icon:t.jsx(Ot,{}),avatarClass:"!bg-indigo-600",label:"Total Tasks",value:s==null?void 0:s.totalTasks,loading:e}),t.jsx(ke,{icon:t.jsx(Lt,{}),avatarClass:"!bg-blue-500",label:"Completed Tasks",value:s==null?void 0:s.completedTasks,loading:e}),t.jsx(ke,{icon:t.jsx($t,{}),avatarClass:"!bg-emerald-500",label:"This Week's New Tasks",value:s==null?void 0:s.newTasks,loading:e})]})};Ct("crmTasks",Vt);const Ga=()=>t.jsxs(t.Fragment,{children:[t.jsx(Ya,{}),t.jsxs(St,{bodyClass:"h-full",children:[t.jsx(ca,{}),t.jsx(Ha,{})]})]}),Ws=Ga;export{Ws as default};
