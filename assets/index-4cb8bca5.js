import{z as i,A as c,B as p,C as R,D as u,j as y}from"./CrmService-5f2f53bd.js";import{am as o,an as m,ao as g,ap as w}from"./index-b09faefa.js";const D="crmRoles",l=o("crmRoles/data/getRolesStatistic",async()=>(await i()).data),d=o("crmRoles/data/getRoles",async()=>(await c()).data),M=o("crmRoles/data/putRoles",async({id:a,data:e})=>{var s,t;try{return(await p(a,e)).data}catch(r){throw new Error((t=(s=r==null?void 0:r.response)==null?void 0:s.data)==null?void 0:t.message)}}),x=o("crmRoles/data/deleteRoles",async a=>{var e,s;try{return(await R(a)).data}catch(t){throw new Error((s=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:s.message)}}),A=o("crmRoles/data/createRoles",async a=>{var e,s;try{return(await u(a)).data}catch(t){throw new Error((s=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:s.message)}}),E=o("crmRoles/data/module",async()=>(await y()).data),f={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},C={status:""},S={loading:!1,statisticLoading:!1,deleteConfirmation:!1,rolesList:[],displayedRolesList:[],statisticData:{},tableData:f,filterData:C,drawerOpen:!1,selectedRole:{},drawerMode:"Add"},n=m({name:`${D}/state`,initialState:S,reducers:{setTableData:(a,e)=>{var s;a.tableData=e.payload,a.displayedRolesList=(s=a.rolesList)==null?void 0:s.slice(e.payload.pageSize*(e.payload.pageIndex-1),e.payload.pageSize*e.payload.pageIndex)},setRolesList:(a,e)=>{a.rolesList=e.payload},setFilterData:(a,e)=>{a.filterData=e.payload},setSelectedRole:(a,e)=>{a.selectedRole=e.payload},setDrawerOpen:a=>{a.drawerOpen=!0},setDrawerClose:a=>{a.drawerOpen=!1},setDrawerMode:(a,e)=>{a.drawerMode=e.payload},toggleDeleteConfirmation:(a,e)=>{a.deleteConfirmation=e.payload}},extraReducers:a=>{a.addCase(d.fulfilled,(e,s)=>{var t;e.rolesList=s.payload.data,e.tableData.total=(t=s.payload.data)==null?void 0:t.length,e.displayedRolesList=s.payload.data.slice(0,10),e.loading=!1}).addCase(d.pending,e=>{e.loading=!0}).addCase(l.fulfilled,(e,s)=>{e.statisticData=s.payload,e.statisticLoading=!1}).addCase(l.pending,e=>{e.statisticLoading=!0})}}),{setTableData:O,setRolesList:z,setFilterData:I,setSelectedRole:T,toggleDeleteConfirmation:F,setDrawerOpen:G,setDrawerClose:j,setDrawerMode:k}=n.actions,L=n.reducer,q=g({data:L}),B=w;export{z as a,T as b,A as c,x as d,O as e,E as f,d as g,G as h,k as i,I as j,M as p,q as r,j as s,F as t,B as u};
