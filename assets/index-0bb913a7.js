import{a as y,r as f,j as e,ah as be,ap as Ce,as as Le,aq as Ne}from"./index-e30b2821.js";import{A as ye}from"./AdaptableCard-b9911837.js";import{F as De}from"./FormDesription-184ab78d.js";import{C as ve}from"./Card-99dac552.js";import{A as we}from"./index-0327ff47.js";import{M as Se}from"./MediaSkeleton-e09d1d80.js";import{u as g,g as te,t as ee,d as Ie,a as k,b as Te,f as Ae,c as Ee,e as ae,h as Fe,s as ce,i as ke,j as E,k as $,l as q,m as le,r as Oe}from"./index-2dfc36f4.js";import{o as Re,N as Me,C as qe,O as ze,P as $e,Q as Be,b as Ve}from"./index.esm-8b3184d4.js";import{N as We}from"./react-number-format.es-6797ad2d.js";import{D as Pe}from"./DataTable-94966960.js";import{S as He}from"./StatusCapsule-72761ae8.js";import{T as Ke}from"./TagsList-337ffa26.js";import{T as R}from"./TextTruncate-fd98ed7e.js";import{u as U}from"./checkEditUpdate-02ebf296.js";import{u as Ge}from"./useThemeClass-2717215d.js";import{c as _}from"./cloneDeep-1d9827ea.js";import{t as B,N as V}from"./toast-840a302f.js";import{C as Ue}from"./ConfirmDialog-d0893bcb.js";import{B as W}from"./Button-7f51b5aa.js";import{D as _e}from"./Drawer-512316c8.js";import{a as w,F as de}from"./FormItem-65da11c0.js";import{T as me}from"./index-992cb74f.js";import{u as Qe,b as A,F as ue,a as pe}from"./formik.esm-fe7846d2.js";import{c as he,a as M,d as Je,e as Xe}from"./index.esm-a7bb562e.js";import{I as F}from"./Input-2c261c20.js";/* empty css              */import"./Alert-af1ef9c4.js";import"./Badge-de325884.js";import"./RangeCalendar-52c9edad.js";import"./index-813d88fe.js";import"./index-017925a1.js";import{D as Ye}from"./Dialog-947aeb41.js";import"./index-bec78d8a.js";import"./toString-c9827e55.js";import"./index-96254e25.js";import"./index-b20af312.js";import"./index-a41ebc95.js";import"./Pagination-7a8e4a2f.js";import"./Progress-f1b3cd0a.js";import"./index-3660cee2.js";import"./ScrollBar-8849e487.js";import"./index-376e52ed.js";import{S as ie}from"./Select-aa8bbc1c.js";import"./Skeleton-09e40cfd.js";import"./index-be44997b.js";import"./Switcher-058a0731.js";import"./index-3bedb6be.js";import"./Tag-f4e18e1c.js";import"./index-c12e5611.js";import"./index-8e7844cf.js";import{T}from"./Tooltip-4148a5c6.js";import"./Upload-2e677169.js";import{t as Ze}from"./tagAndCategory-228f57e7.js";import{B as et,a as tt}from"./index.esm-7ff63e29.js";import{G as at}from"./index.esm-f2c6fd62.js";import{M as st}from"./index.esm-4c39d8d3.js";import{T as rt,a as ot}from"./index.esm-ecd56a6e.js";import{A as nt,a as it}from"./index.esm-bfa2a58b.js";import"./Views-64b223ad.js";import"./chart.constant-2781d8ba.js";import"./chart.config-a0ce2d6f.js";import"./GrowShrinkTag-81ab4f4c.js";import"./react-tooltip.min-3647c508.js";import"./RichTextEditor-1e959dd9.js";import"./SegmentItemOption-b1f0bb3f.js";import{S as ct}from"./StickyFooter-b0d1c2f3.js";import"./SvgIcon-533f1ac5.js";import{G as lt}from"./index.esm-d5b43334.js";import{s as dt}from"./index-6ae21097.js";import{d as mt}from"./debounce-4a3ce893.js";import"./useMergeRef-788c4cb0.js";import"./CrmService-42c2fe6d.js";import"./index-4d6ba2a7.js";import"./_MapCache-e35f57ee.js";import"./_getPrototype-18d03f40.js";import"./useTimeout-0dbf2c49.js";import"./CloseButton-eaa8212e.js";import"./StatusIcon-b75ecd57.js";import"./chainedFunction-070f832c.js";import"./index-85ad734e.js";import"./index-aa71065b.js";import"./useControllableState-610fbaba.js";import"./isNil-4b53f2ef.js";import"./get-53a32457.js";import"./_baseIsEqual-435397ea.js";import"./useRootClose-121cd6e5.js";import"./usePopper-60810edb.js";import"./TimeInput-cb813c47.js";import"./useUniqueId-78294896.js";import"./useDidUpdate-e23da06a.js";import"./useUncertainRef-e5b747fb.js";import"./slicedToArray-2d4e1c7e.js";import"./objectWithoutProperties-8809bfcf.js";import"./toConsumableArray-07c3bb38.js";import"./floating-ui.dom-bef9cea3.js";import"./mapCloneElement-85c9a3af.js";import"./index.esm-8f4487ea.js";import"./index.esm-d088d8ae.js";import"./index-fe85553b.js";import"./index-06c9dfe2.js";const Z=s=>{const{icon:o,avatarClass:t,label:p,value:d,loading:i}=s,m=55;return e.jsx(ve,{bordered:!0,children:e.jsx(be,{loading:i,customLoader:e.jsx(Se,{avatarProps:{className:"rounded",width:m,height:m}}),children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(we,{className:t,size:m,icon:o}),e.jsxs("div",{children:[e.jsx("span",{children:p}),e.jsx("h3",{children:e.jsx(We,{thousandSeparator:!0,displayType:"text",value:d})})]})]})})})})},ut=()=>{const s=y(),o=g(p=>p.crmLeads.data.statisticData),t=g(p=>p.crmLeads.data.statisticLoading);return f.useEffect(()=>{s(te())},[]),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 mb-6",children:[e.jsx(Z,{icon:e.jsx(Re,{}),avatarClass:"!bg-indigo-600",label:"Total Leads",value:o.totalLeads,growthRate:o==null?void 0:o.totalLeads,loading:t}),e.jsx(Z,{icon:e.jsx(Me,{}),avatarClass:"!bg-blue-500",label:"Open Leads",value:o.openLeads,growthRate:o.openLeads,loading:t}),e.jsx(Z,{icon:e.jsx(qe,{}),avatarClass:"!bg-emerald-500",label:"This Week's New Leads",value:o==null?void 0:o.newLeads,growthRate:o==null?void 0:o.newLeads,loading:t})]})},pt=()=>{const s=y(),o=g(i=>i.crmLeads.data.deleteConfirmation),t=g(i=>i.crmLeads.data.selectedLeads),p=()=>{s(ee(!1))},d=async()=>{var m,l,a;s(ee(!1));const i=await s(Ie(t.id));await s(k()),(m=i==null?void 0:i.payload)!=null&&m.success?B.push(e.jsx(V,{title:"Successfuly Deleted",type:"success",duration:2500,children:(l=i==null?void 0:i.payload)==null?void 0:l.message}),{placement:"top-end"}):B.push(e.jsx(V,{title:"Something Went Wrong !!!",type:"danger",duration:2500,children:(a=i==null?void 0:i.error)==null?void 0:a.message}),{placement:"top-end"}),await s(k()),await s(te())};return e.jsx(Ue,{isOpen:o,type:"danger",title:"Delete Lead",confirmButtonColor:"red-600",onClose:p,onRequestClose:p,onCancel:p,onConfirm:d,children:e.jsx("p",{children:"Are you sure you want to delete this Lead? All record related to this lead will be deleted as well. This action cannot be undone."})})},z=[],ht=s=>{const{touched:o,errors:t,setFieldValue:p,values:d}=s;console.log(t,"-=-=-=-=--=-=-");const i=y(),m=Qe(),[l,a]=f.useState(null),[b,h]=f.useState([]),x=g(c=>c.crmLeads.data.contactList);z.length=0,x==null||x.forEach(c=>{z.push({value:c==null?void 0:c.id,label:`${c==null?void 0:c.firstName} ${c==null?void 0:c.lastName}`})}),f.useEffect(()=>{const c=async()=>{var j,N;try{const{payload:D}=await i(Ae()),O=(j=D==null?void 0:D.data)==null?void 0:j.find(S=>(S==null?void 0:S.moduleName)==="leads");if(O){const{payload:S}=await i(Ee({id:(N=O==null?void 0:O.id)==null?void 0:N.toString()})),Q=Ze(S.data);h(Q)}}catch(D){console.error("Error fetching module data:",D)}};a(d.contactsDataId),c(),i(Te())},[i]);const L=g(c=>c.crmLeads.data.selectedLeads);g(c=>c.crmLeads.data.productList),f.useState(L?L.tags||[]:[]);const C=c=>{m.setFieldValue("tagId",c)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(w,{label:"Contact Name",invalid:t.contactsDataId&&o.contactsDataId,errorMessage:t.contactsDataId,children:e.jsx(ie,{name:"contactsDataId",placeholder:"Contact Name",options:z,id:"contactsDataId",value:z.find(c=>(c==null?void 0:c.value)===(d==null?void 0:d.contactsDataId)),onChange:c=>{const j=c.value;p("email",""),p("contactNumber",""),a(j),p("contactsDataId",j)}})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(w,{label:"Title",invalid:t.title&&o.title,errorMessage:t.title,children:e.jsx(A,{type:"text",autoComplete:"off",name:"title",placeholder:"Title",component:F,prefix:e.jsx(st,{className:"text-xl"})})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!l&&e.jsx("div",{className:"col-span-1",children:e.jsx(w,{label:"Email*",invalid:t.email&&o.email,errorMessage:t.email,children:e.jsx(A,{type:"text",autoComplete:"off",name:"email",placeholder:"Email",component:F,prefix:e.jsx(ze,{className:"text-xl"})})})}),!l&&e.jsx("div",{className:"col-span-1",children:e.jsx(w,{label:"Contact Number*",invalid:t.contactNumber&&o.contactNumber,errorMessage:t.contactNumber,children:e.jsx(A,{type:"text",autoComplete:"off",name:"contactNumber",placeholder:"Contact Number",component:F,prefix:e.jsx(et,{className:"text-xl"})})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(w,{label:"Budget",invalid:t.budget&&o.budget,errorMessage:t.budget,children:e.jsx(A,{type:"number",autoComplete:"off",name:"budget",placeholder:"Budget",component:F,prefix:e.jsx(tt,{className:"text-xl"})})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(w,{label:"Tag",children:e.jsx(A,{isClearable:!0,isMulti:!0,type:"text",autoComplete:"off",name:"tagId",placeholder:"Select tags",component:ie,options:b,prefix:e.jsx(at,{className:"text-xl"}),closeMenuOnSelect:!1,onChange:C})})})]}),e.jsx(w,{label:"Notes",invalid:t.notes&&o.notes,errorMessage:t.notes,children:e.jsx(A,{textArea:!0,type:"text",autoComplete:"off",name:"notes",placeholder:"Notes",component:F,prefix:e.jsx(rt,{className:"text-xl"})})})]})},gt=he().shape({title:M().required("Title is required"),notes:M(),contactNumber:M().test("validateContactNumber","Invalid contact number",function(s){if(!this.parent.contactsDataId){if(!s)return this.createError({message:"Contact is required"});const t=Number(s);if(isNaN(t))return this.createError({message:"Contact must be a number"});if(s.length!==10)return this.createError({message:"Contact must have exactly 10 digits"});if(s.startsWith("0"))return this.createError({message:"Contact number cannot start with 0"})}return!0}),email:M().test("validateEmail","Invalid email",function(s){return this.parent.contactsDataId?!0:!!s||this.createError({message:"Email is required"})}),budget:Je().test("greaterThanOne","Budget must be greater than 1",s=>s>0).required("Budget is required"),tagId:Xe(),contactsDataId:M().test("is-valid-contact","Invalid contact selected",function(s){return this.parent.contactsDataId&&this.parent.contactsDataId.length>0?!!z.find(o=>o.value===s):!0})}),{TabNav:xt,TabList:ft,TabContent:jt}=me,ge=f.forwardRef((s,o)=>{var l;const t=g(a=>a.crmLeads.data.selectedLeads),p=!!t.id,d=y(),i=async(a,b,h)=>{var C,c,j,N;const x=(C=a==null?void 0:a.payload)!=null&&C.success?b:"Something went wrong !!!",L=(c=a==null?void 0:a.payload)!=null&&c.success?(j=a==null?void 0:a.payload)==null?void 0:j.message:h;B.push(e.jsx(V,{title:x,type:(N=a==null?void 0:a.payload)!=null&&N.success?"success":"danger",duration:2500,children:L}),{placement:"top-end"})},m=async(a,{setSubmitting:b})=>{try{const h={title:a.title,contactsDataId:a.contactsDataId,email:a.email,contactNumber:a.contactNumber,budget:a.budget.toString(),description:a.notes,tagId:a==null?void 0:a.tagId.map(D=>D.value)},{name:x,tagName:L,...C}=a,c=p?await d(ae({leadsId:(t==null?void 0:t.id)||"",updatedData:h})):await d(Fe(h));await i(c,p?"Successfully Updated":"Successfully Added","An error occurred."),d(ce()),await Promise.all([d(k()),d(te())])}catch(h){console.error("An error occurred:",h)}finally{b(!1)}};return e.jsx(ue,{innerRef:o,initialValues:{contactsDataId:t.contactsDataId||"",title:(t==null?void 0:t.title)||"",notes:(t==null?void 0:t.description)||"",tagId:((l=t==null?void 0:t.tags)==null?void 0:l.map(a=>({label:a.tagName,value:a.id})))||[],budget:(t==null?void 0:t.budget)||"",contactNumber:(t==null?void 0:t.contactNumber)||"",email:(t==null?void 0:t.email)||""},validationSchema:gt,onSubmit:m,children:({touched:a,errors:b,values:h,setFieldValue:x})=>e.jsx(pe,{children:e.jsx(de,{children:e.jsxs(me,{defaultValue:"leadsInfo",children:[e.jsx(ft,{children:e.jsx(xt,{value:"leadsInfo",children:"Leads Detail"})}),e.jsx("div",{className:"p-6",children:e.jsx(jt,{value:"leadsInfo",children:e.jsx(ht,{touched:a,errors:b,setFieldValue:x,values:h})})})]})})})})});ge.displayName="LeadsForm";const xe=f.forwardRef((s,o)=>{y();const t=g(d=>d.crmLeads.data.selectedLeads);g(d=>d.crmLeads.data.leadsList);const p=async d=>{};return e.jsx(ge,{ref:o,leads:t,onFormSubmit:p})});xe.displayName="LeadsEditContent";const bt=({onSaveClick:s,onCancel:o})=>e.jsxs("div",{className:"text-right w-full",children:[e.jsx(W,{size:"sm",className:"mr-2",onClick:o,children:"Cancel"}),e.jsx(W,{size:"sm",variant:"solid",onClick:s,children:"Save"})]}),Ct=()=>{const s=y(),o=g(a=>a.crmLeads.data.drawerOpen),[t,p]=f.useState(window.innerWidth/2),d=()=>{s(ce()),s(E({}))},i=f.useRef(null),m=()=>{var a;(a=i.current)==null||a.submitForm()};f.useEffect(()=>(window.addEventListener("resize",l),s(ke()),()=>{window.removeEventListener("resize",l)}),[]);const l=()=>{p(window.innerWidth/2)};return e.jsx(_e,{isOpen:o,closable:!1,bodyClass:"p-0",width:t,footer:e.jsx(bt,{onCancel:d,onSaveClick:m}),onClose:d,onRequestClose:d,children:e.jsx(xe,{ref:i})})},Lt=he().shape({reason:M().required("Reason is required")}),fe=f.forwardRef((s,o)=>{const t=y(),p=g(m=>m.crmLeads.data.selectedLeads),d=()=>{t($(!1))},i=async(m,l,a,b)=>{var c,j,N;const h=await a(ae({leadsId:l==null?void 0:l.id,updatedData:{reason:m.reason,status:m.status}}));let x="",L="",C="danger";(c=h==null?void 0:h.payload)!=null&&c.success?(x="Successfully Added",L=(j=h==null?void 0:h.payload)==null?void 0:j.message,C="success"):(x="Something went wrong !!!",L=(N=h==null?void 0:h.error)==null?void 0:N.message),b.push(e.jsx(V,{title:x,type:C,duration:2500,children:L}),{placement:"top-end"}),a($(!1)),await a(k())};return e.jsx(ue,{innerRef:o,initialValues:{reason:"",status:"closed_lost"},validationSchema:Lt,onSubmit:async(m,{setSubmitting:l})=>{await i(m,p,t,B),l(!1)},children:({touched:m,errors:l,values:a,setFieldValue:b})=>e.jsxs(pe,{children:[e.jsx(de,{children:e.jsx(w,{label:"Reason",invalid:l.reason&&m.reason,errorMessage:l.reason,children:e.jsx(A,{type:"text",autoComplete:"off",name:"reason",placeholder:"Reason",component:F,prefix:e.jsx(ot,{className:"text-xl"})})})}),e.jsx(ct,{className:"flex items-center justify-end py-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"md:flex items-center",children:[e.jsx(W,{size:"sm",className:"ltr:mr-3 rtl:ml-3",type:"button",onClick:d,children:"Cancel"}),e.jsx(W,{size:"sm",type:"submit",variant:"solid",icon:e.jsx(nt,{}),children:"Save"})]})})]})})});fe.displayName="LeadForm";const Nt=()=>{const s=y(),o=g(r=>r.crmLeads.data.displayedLeadsList),t=g(r=>r.crmLeads.data.loading),p=g(r=>r.crmLeads.data.isDialogOpen),d=g(r=>r.crmLeads.data.tableData),{pageIndex:i,pageSize:m,sort:l,query:a,total:b}=g(r=>r.crmLeads.data.tableData),h=f.useCallback(()=>{s(k())},[s]);f.useEffect(()=>(h(),()=>{window.location.pathname.includes("lead")||s(q({...d,query:""}))}),[h]);const x=f.useMemo(()=>({pageIndex:i,pageSize:m,sort:l,query:a,total:b}),[i,m,l,a,b]);g(r=>r.crmLeads.data.selectedLeads);const L=U("leads","canDelete"),C=U("leads","canModify"),c=U("leads","canView"),j=Ce(),N=({row:r})=>{const n=y();Ge();const u=()=>{n(le()),n(E(r))},I=async()=>{await n(E(r)),n(ee(!0))},P=()=>{n(E(r));const J=`/app/crm/lead-details/${r.id}`;j(J)},H=()=>{n(E(r)),n($(!0))},K=async()=>{await n(E(r)),await G(r==null?void 0:r.id)},G=async J=>{var re,oe,ne;const v=await n(ae({leadsId:J,updatedData:{status:"closed_won"}}));let X="",Y="",se="danger";(re=v==null?void 0:v.payload)!=null&&re.success?(X="Successfully Added",Y=(oe=v==null?void 0:v.payload)==null?void 0:oe.message,se="success"):(X="Something went wrong !!!",Y=(ne=v==null?void 0:v.error)==null?void 0:ne.message),B.push(e.jsx(V,{title:X,type:se,duration:2500,children:Y}),{placement:"top-end"}),n($(!1)),await n(k())};return e.jsxs("div",{className:"flex text-base items-center",children:[C&&e.jsx("button",{disabled:(r==null?void 0:r.status)!=="open",className:`circle items-center mx-1 ${(r==null?void 0:r.status)!=="open"?"!cursor-not-allowed":"cursor-pointer hover:text-indigo-500"}`,onClick:u,children:e.jsx($e,{})}),L&&e.jsx("span",{className:"cursor-pointer hover:text-red-500 circle items-center",onClick:I,children:e.jsx(Be,{})}),c&&e.jsx("span",{className:"cursor-pointer hover:text-green-500 circle mx-1 items-center text-lg",onClick:P,children:e.jsx(it,{})}),C&&e.jsx(T,{title:"Close To Won",children:e.jsx("button",{className:` circle items-center ${(r==null?void 0:r.status)!=="open"?"!cursor-not-allowed":"cursor-pointer hover:text-indigo-500"}`,disabled:(r==null?void 0:r.status)!=="open",onClick:K,children:e.jsx(lt,{})})},r.id+"won"),C&&e.jsx(T,{title:"Close To Lost",children:e.jsx("button",{className:`${(r==null?void 0:r.status)!=="open"?"!cursor-not-allowed":"cursor-pointer hover:text-orange-500"} mx-1 circle items-center `,disabled:(r==null?void 0:r.status)!=="open",onClick:H,children:e.jsx(Le,{})})},r.id+"lost")]})},D=f.useMemo(()=>[{header:"Action",id:"action",cell:n=>e.jsx(N,{row:n.row.original})},{header:"Contact Name",accessorKey:"contactName",cell:n=>{var I,P,H,K,G;const u=(I=n.row.original)!=null&&I.contactData?((H=(P=n.row.original)==null?void 0:P.contactData)==null?void 0:H.firstName)+" "+((G=(K=n.row.original)==null?void 0:K.contactData)==null?void 0:G.lastName):"-";return e.jsx(T,{title:u,children:e.jsx(R,{text:u,maxLength:15})},u)}},{header:"Title",accessorKey:"title",cell:n=>{const u=n.row.original.title;return e.jsx(T,{title:u,children:e.jsx(R,{text:u,maxLength:20})},u)}},{header:"Budget",accessorKey:"budget",cell:n=>{const u=n.row.original;return e.jsx(R,{text:u.budget,maxLength:20})}},{header:"Status",accessorKey:"status",cell:n=>{const u=n.row.original;return e.jsx(He,{status:u.status})}},{header:"Tag Name",accessorKey:"tagName",cell:n=>{const u=n.row.original.tags;return u!=null&&u.length>0?e.jsx(Ke,{tags:u}):"-"}},{header:"Notes",accessorKey:"description",cell:n=>{const u=n.row.original.description?n.row.original.description:"-";return e.jsx(T,{title:u,children:e.jsx(R,{text:u,maxLength:20})},u)}},{header:"Reason",accessorKey:"reason",cell:n=>{var I;const u=(I=n.row.original)==null?void 0:I.reason;return u?e.jsx(T,{title:u,children:e.jsx(R,{text:u,maxLength:20})},u):e.jsx(T,{title:u,children:e.jsx(R,{text:"NA",maxLength:20})},u)}}],[C,L]),O=r=>{const n=_(x);n.pageIndex=r,s(q(n))},S=r=>{const n=_(x);n.pageSize=Number(r),n.pageIndex=1,s(q(n))},Q=r=>{const n=_(x);n.sort=r,s(q(n))};return e.jsxs("div",{children:[e.jsx(Pe,{columns:D,data:o,skeletonAvatarColumns:[0],skeletonAvatarProps:{width:28,height:28},loading:t,pagingData:{total:x.total,pageIndex:x.pageIndex,pageSize:x.pageSize},onPaginationChange:O,onSelectChange:S,onSort:Q}),e.jsx(Ct,{}),e.jsx(pt,{}),e.jsxs(Ye,{isOpen:p,onClose:()=>s($(!1)),children:[e.jsx("h5",{className:"mb-4",children:"Enter Reason"}),e.jsx(fe,{})]})]})},je=f.forwardRef((s,o)=>{const{onInputChange:t}=s,p=mt(d,500);function d(m){t==null||t(m)}const i=m=>{p(m.target.value)};return e.jsx(F,{ref:o,className:"max-w-md md:w-52 mb-4",size:"sm",placeholder:"Search by name or title",prefix:e.jsx(Ve,{className:"text-lg"}),onChange:i})});je.displayName="LeadsTableSearch";const yt=()=>{const s=y(),o=f.useRef(null),t=g(l=>l.crmLeads.data.tableData),p=U("leads","canCreate"),d=l=>{const a=_(t);a.query=l,a.pageIndex=1,typeof l=="string"&&l.length>1&&i(a),typeof l=="string"&&l.length===0&&i(a)},i=l=>{s(l?q(l):k())},m=()=>{s(le()),s(E({})),s(dt("Add"))};return f.useEffect(()=>{o.current&&(o.current.value=t.query||"",s(q(t)))},[t==null?void 0:t.query]),e.jsxs("div",{className:"md:flex items-center justify-between",children:[e.jsx("div",{className:"md:flex items-center gap-4",children:e.jsx(je,{ref:o,onInputChange:d})}),e.jsx("div",{className:"mb-4",children:p&&e.jsx(W,{size:"sm",onClick:m,children:"Add New"})})]})};Ne("crmLeads",Oe);const Dt=()=>{const s=g(o=>o.crmLeads.data.tableData);return e.jsxs(e.Fragment,{children:[e.jsx(ut,{}),e.jsxs(ye,{bodyClass:"h-full",children:[e.jsx(De,{title:`Leads (${(s==null?void 0:s.total)||0})`,desc:"",className:"mb-2"}),e.jsx(yt,{}),e.jsx(Nt,{})]})]})},fs=Dt;export{fs as default};
