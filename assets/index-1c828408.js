import{am as b,an as j,ao as f,ap as D,j as a,aq as C,ar as k,a as N,r as v,ai as w}from"./index-2a02f09f.js";import{a as T}from"./CrmService-dd365f26.js";import{C as g}from"./Card-de52f0bd.js";import{A as m}from"./index-5ca6dc5a.js";import{F as y,a as S,b as L,c as A}from"./index.esm-635009a0.js";import{B as R}from"./Button-3d6c325f.js";import{T as h}from"./index-ff9062dc.js";import{T as l}from"./Tag-592deaaf.js";import{c as F,u as z,f as p,g as B}from"./index-be1c4c56.js";import{T as E}from"./TagsList-da492de3.js";import"./useMergeRef-788c4cb0.js";import"./Tooltip-7716d794.js";import"./usePopper-1bbb94fb.js";import"./Views-597fd265.js";import"./index.esm-c0bac851.js";import"./index-30fffd86.js";import"./context-ccc0a902.js";import"./index.esm-4f607dea.js";import"./Alert-72ccf787.js";import"./useTimeout-90c2003f.js";import"./index.esm-c61f0406.js";import"./CloseButton-1ba6d0ce.js";import"./StatusIcon-19ebbef4.js";import"./Badge-ed31d9ee.js";import"./Calendar-10f7bbb4.js";import"./useControllableState-1afbd3cb.js";import"./index-33716023.js";import"./cloneDeep-f2fd7982.js";import"./_Uint8Array-49dd6612.js";import"./_MapCache-dabc1c97.js";import"./_getPrototype-63f10215.js";import"./_baseIsEqual-d37b49c3.js";import"./get-c92f924e.js";import"./toString-8660963f.js";import"./index-cd684465.js";import"./Input-4032ba6b.js";import"./isNil-68e69365.js";import"./useRootClose-245ef2ef.js";import"./RangeCalendar-f83aa7d5.js";import"./TimeInput-5e6b4bd8.js";import"./useUniqueId-5771e452.js";import"./useDidUpdate-63a48c56.js";import"./Dialog-fa942d86.js";import"./index-02c6e7a7.js";import"./Drawer-aa907a2f.js";import"./index-7d1fc360.js";import"./useUncertainRef-cde3ec19.js";import"./chainedFunction-070f832c.js";import"./index-39ff14cb.js";import"./FormItem-c05bb264.js";import"./index-09081188.js";import"./index-7060438e.js";import"./toast-66eca971.js";import"./Pagination-45470020.js";import"./Progress-225a8f75.js";import"./index-9590e8bb.js";import"./ScrollBar-5f7786c3.js";import"./index-9436b2c1.js";import"./Select-e6a28a89.js";import"./toConsumableArray-648e2274.js";import"./objectWithoutPropertiesLoose-df62547b.js";import"./floating-ui.dom-bef9cea3.js";import"./Skeleton-a1c6070d.js";import"./index-94a50ac5.js";import"./mapCloneElement-80af996d.js";import"./Switcher-b6d1bfff.js";import"./index-bb34e564.js";import"./index-292be09a.js";import"./index-da0bddc3.js";import"./Upload-21ca1a8f.js";import"./index.esm-62b86c40.js";const H="crmDashboard",d=b("crmDashboard/data/dashboard",async()=>(await T()).data),M={loading:!0,dashboardData:{}},I=j({name:`${H}/state`,initialState:M,reducers:{},extraReducers:e=>{e.addCase(d.fulfilled,(r,o)=>{r.dashboardData=o.payload.crmDashboardData,r.loading=!1}).addCase(d.pending,r=>{r.loading=!0})}}),V=I.reducer,$=f({data:V}),x=D,q=({type:e})=>{switch(e){case"newLeads":return a.jsx(m,{size:55,className:"bg-indigo-100 text-indigo-600 dark:bg-indigo-500/20 dark:text-indigo-100",icon:a.jsx(A,{})});case"company":return a.jsx(m,{size:55,className:"bg-cyan-100 text-cyan-600 dark:bg-cyan-500/20 dark:text-cyan-100",icon:a.jsx(L,{})});case"clients":return a.jsx(m,{size:55,className:"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100",icon:a.jsx(S,{})});case"task":return a.jsx(m,{size:55,className:"bg-amber-100 text-amber-600 dark:bg-amber-500/20 dark:text-amber-100",icon:a.jsx(y,{})});default:return a.jsx("div",{})}},G=({data:e={}})=>a.jsx(g,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(q,{type:e.key}),a.jsx("div",{children:a.jsxs("div",{className:"flex gap-1.5 items-end mb-2",children:[a.jsx("h3",{className:"font-bold leading-none",children:e.value}),a.jsx("p",{className:"font-semibold",children:e.label})]})})]})}),_=({data:e=[]})=>a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4",children:e.map(r=>a.jsx(G,{data:r},r.key))}),{Tr:u,Td:J,TBody:K,THead:O,Th:P}=h,Q=({status:e})=>{switch(e){case"active":return a.jsx(l,{className:"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100  border-0 rounded",children:"Active"});case"deactive":return a.jsx(l,{className:"text-amber-600 bg-amber-100 dark:text-amber-100 dark:bg-amber-500/20  border-0 rounded",children:"Deactive"});default:return a.jsx(a.Fragment,{})}},i=F(),U=[i.accessor("associatedContact",{header:"Associated Contact",cell:e=>e.row.original.contactData.name}),i.accessor("details",{header:"Details"}),i.accessor("status",{header:"Status",cell:e=>{const r=e.row.original;return a.jsx(Q,{status:r.status})}}),i.accessor("tags",{header:"Tags",cell:e=>{const r=e.row.original;return a.jsx(E,{tags:r.tags})}}),i.accessor("notes",{header:"Notes"})],W=({data:e=[],className:r})=>{const o=C(),c=z({data:e,columns:U,getCoreRowModel:B()}),n=()=>{o("/app/crm/leads")};return a.jsxs(g,{className:r,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{children:"Leads"}),a.jsx(R,{size:"sm",onClick:n,children:"View All Leads"})]}),a.jsxs(h,{children:[a.jsx(O,{children:c.getHeaderGroups().map(t=>a.jsx(u,{children:t.headers.map(s=>a.jsx(P,{colSpan:s.colSpan,children:p(s.column.columnDef.header,s.getContext())},s.id))},t.id))}),a.jsx(K,{children:c.getRowModel().rows.map(t=>a.jsx(u,{children:t.getVisibleCells().map(s=>a.jsx(J,{children:p(s.column.columnDef.cell,s.getContext())},s.id))},t.id))})]})]})};k("crmDashboard",$);const X=()=>{const e=N(),{statisticData:r,recentLeadsData:o}=x(t=>t.crmDashboard.data.dashboardData),c=x(t=>t.crmDashboard.data.loading);v.useEffect(()=>{n()},[]);const n=()=>{e(d())};return a.jsx("div",{className:"flex flex-col gap-4 h-full",children:a.jsxs(w,{loading:c,children:[a.jsx(_,{data:r}),a.jsx(W,{data:o})]})})},ge=X;export{ge as default};
