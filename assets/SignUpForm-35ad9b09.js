import{v as A,r as u,j as a}from"./index-4b23f9f2.js";import{F as M,a as m}from"./FormItem-83b1322c.js";import{I as f}from"./Input-6deb6f13.js";import{B as O}from"./Button-a87a2e46.js";import{A as I}from"./Alert-fa9d0487.js";import{P as E}from"./PasswordInput-09d799e3.js";import{A as $}from"./ActionLink-34e07094.js";import{u as U}from"./useTimeOutMessage-a88d7e11.js";import{F as L,a as k,b as l}from"./formik.esm-25368bc5.js";import{c as x,a as p}from"./index.esm-dc2ded9f.js";import{t as j,N}from"./toast-01acb463.js";import"./index-e9d5fe85.js";import"./Badge-84757ba5.js";import"./RangeCalendar-208190e3.js";import"./Card-74d89d1e.js";import"./index-5f058379.js";import"./index-8d3acbcc.js";import"./Dialog-3deb7f0e.js";import"./Drawer-7cb84764.js";import"./index-61dfa989.js";import"./toString-808a232b.js";import"./index-f452e3c1.js";import"./index-16ecbf84.js";import"./index-c20d3f97.js";import"./Pagination-b7445f7d.js";import"./Progress-26519a5b.js";import"./index-61b07bb6.js";import"./ScrollBar-9c634026.js";import"./index-b2764899.js";import{S as B}from"./Select-4aee735d.js";import"./Skeleton-d609680e.js";import"./index-de1abaee.js";import"./Switcher-031290dc.js";import"./index-1a8e49e3.js";import"./index-61e0f5b7.js";import"./Tag-31cf62c8.js";import"./index-a6566abb.js";import"./index-c6827dae.js";import"./Tooltip-7118406c.js";import"./Upload-75447e1c.js";import{b as Z}from"./SuperAdminServices-b7b5c315.js";const _=x().shape({firstName:p().required("First name is required"),lastName:p().required("Last name is required"),email:p().email("Invalid email address").required("Email is required"),phone:p().matches(/^\d{10}$/,"Phone number must be 10 digits").required("Phone is required"),password:p().min(6,"Password must be at least 6 characters").matches(/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]+$/,"6+ characters, uppercase, number, & special character.").required("Password is required"),organization:x().required("Select Your Organization")}),Pa=w=>{const{disableSubmit:b=!1,className:v,signInUrl:z="/sign-in"}=w,{signUp:y}=A(),[g,q]=U(),[F,S]=u.useState([]),C=async(t,e)=>{const{firstName:o,phone:r,lastName:n,password:d,email:c,organization:s}=t;e(!0);const h={firstName:o,phone:r,lastName:n,password:d,email:c};s!=null&&s.value&&(h.organization=s.value);const i=await y(h);console.log(i),(i==null?void 0:i.status)!=="failed"?j.push(a.jsx(N,{title:"Successfuly added",type:"success",duration:2500,children:i==null?void 0:i.message}),{placement:"top-end"}):(q(i==null?void 0:i.message),j.push(a.jsx(N,{title:"Something went wrong!!!",type:"danger",duration:2500,children:i==null?void 0:i.message}),{placement:"top-end"})),e(!1)},P=async()=>{var e,o,r,n,d;const t=await Z();if((e=t==null?void 0:t.data)!=null&&e.data&&((r=(o=t==null?void 0:t.data)==null?void 0:o.data)!=null&&r.length)){const c=(d=(n=t==null?void 0:t.data)==null?void 0:n.data)==null?void 0:d.map(s=>({label:s.organizationName,value:s.id}));console.log(c),S(c)}};return u.useEffect(()=>{P()},[]),a.jsxs("div",{className:v,children:[g&&a.jsx(I,{showIcon:!0,className:"mb-4",type:"danger",children:g}),a.jsx(L,{initialValues:{firstName:"",lastName:"",email:"",phone:"",password:"",organization:""},validationSchema:_,onSubmit:(t,{setSubmitting:e})=>{b?e(!1):C(t,e)},children:({touched:t,errors:e,isSubmitting:o,setFieldValue:r})=>a.jsx(k,{children:a.jsxs(M,{children:[a.jsx(m,{label:"Organization",invalid:e.organization&&t.organization,errorMessage:e.organization,children:a.jsx(l,{autoComplete:"off",name:"organization",placeholder:"Organization",component:B,options:F,onChange:n=>{r("organization",n)}})}),a.jsx(m,{label:"First Name",invalid:e.firstName&&t.firstName,errorMessage:e.firstName,children:a.jsx(l,{type:"text",autoComplete:"off",name:"firstName",placeholder:"First Name",component:f})}),a.jsx(m,{label:"Last Name",invalid:e.lastName&&t.lastName,errorMessage:e.lastName,children:a.jsx(l,{type:"text",autoComplete:"off",name:"lastName",placeholder:"Last Name",component:f})}),a.jsx(m,{label:"Email",invalid:e.email&&t.email,errorMessage:e.email,children:a.jsx(l,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:f})}),a.jsx(m,{label:"Phone",invalid:e.phone&&t.phone,errorMessage:e.phone,children:a.jsx(l,{type:"text",autoComplete:"off",name:"phone",placeholder:"Phone",component:f})}),a.jsx(m,{label:"Password",invalid:e.password&&t.password,errorMessage:e.password,children:a.jsx(l,{autoComplete:"off",name:"password",placeholder:"Password",component:E})}),a.jsx(O,{block:!0,loading:o,variant:"solid",type:"submit",children:o?"Creating Account...":"Sign Up"}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("span",{children:"Already have an account? "}),a.jsx($,{to:z,children:"Sign in"})]})]})})})]})};export{Pa as S};
